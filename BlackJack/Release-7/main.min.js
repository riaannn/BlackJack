var __arenax_v1__=__arenax_v1__||{};__arenax_v1__.BlackJackGame=function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var i=n(7);window.ArenaXApi=n(225),t.exports={game:{game:null,register:function(t,e){ArenaXApi.init(t,e)},render:function(t,e,n){this.game=new i(n,window.devicePixelRatio)}}}},,,,,,,function(t,e,n){n(8).polyfill(),n(10),n(11);var i=n(12),r=n(15),o=n(16),a=n(207),s=n(208),l=n(209),u=n(210),h=n(211),c=n(212),d=(n(215),n(216));n(217);var p=n(218),f=n(220),_=null,m=null;"Microsoft Internet Explorer"==navigator.appName||navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/rv:11/)?_=n(221):(m=n(222),HowlerSound=function(t){m.Howl.call(this,t),this._paused=!1,this._stopped=!0,this._canBeDestroyed=!1,this._rate=t.rate||1;var e=this;this.on("end",function(){e.loop()||(e._canBeDestroyed=!0,e._paused=!1,e._stopped=!0)}),this.on("play",function(){e._paused=!1,e._stopped=!1}),this.on("pause",function(){e._paused=!0,e._stopped=!1})},HowlerSound.prototype=Object.create(m.Howl.prototype),HowlerSound.prototype.paused=function(){return this._paused},HowlerSound.prototype.stopped=function(){return this._stopped},HowlerSound.prototype.stop=function(){return this._paused=!1,this._stopped=!0,m.Howl.prototype.stop.call(this)},HowlerSound.prototype.canBeDestroyed=function(){return this._canBeDestroyed},HowlerSound.prototype.rate=function(){return this._rate}),ARK_game_arena_connector=n(223);var y=n(224),v=[{value:"en",localization:"en-US",name:"English"},{value:"de",localization:"de-DE",name:"Deutsch"},{value:"es",localization:"es-ES",name:"Español"},{value:"fr",localization:"fr-FR",name:"Français"},{value:"it",localization:"it-IT",name:"Italiano"}],g=function(t,e){e||(e=location.href),t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+t+"=([^&#]*)",i=new RegExp(n),r=i.exec(e);return null==r?null:r[1]},T=function(t,e){this.resourcesRoot=r.settings.resourcesRoot||"",this.configuration=r,this.container=new a.Core.DependenciesContainer,this.container.singleton("Configuration",this.configuration);for(var n=this.configuration.settings.urlPuzzleCfg,T="en-US",A=0;A<v.length;A++)if(v[A].value==(g("ark-lang")||this.configuration.language)){T=v[A].localization;break}this.container.singleton("Localization",T),this.container.singleton("DevicePixelRatio",e||1),this.container.registerScripts(h),this.container.registerTemplates(c),this.container.singleton("FontFaceObserver",{create:function(t){return new l(t)}}),this.container.singleton("LocalStorage",u),this.container.singleton("PIXI",o),this.container.singleton("StyleSheet",s),this.container.singleton("ModuleIndex",this.getGameIndex()),this.container.singleton("ResourcesRoot",this.resourcesRoot),this.container.singleton("Version",r.version),this.container.singleton("Window",window),this.container.singleton("hogan",i),this.container.singleton("WatchObject",d),this.container.singleton("soundConfig",y),this.container.singleton("UrlPuzzleCfg",n),this.container.singleton("MobileDetect",new p(window.navigator.userAgent)),this.container.singleton("Encryptor",f),console.log("Version:"+this.container.get("Version")),"Microsoft Internet Explorer"==navigator.appName||navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/rv:11/)?this.container.singleton("HowlConstructor",_.Howl):(this.container.singleton("HowlerSound",HowlerSound),this.container.singleton("Howler",m.Howler)),o.utils.skipHello();var b=this.container.get("fonts/index");b=b.split("%RESOURCEPATH%").join(this.resourcesRoot);var S=i.compile(b),E=document.getElementById(t||"gamePlace"),w=s.split("%RESOURCEPATH%").join(this.resourcesRoot);E.insertAdjacentHTML("afterbegin",S.render({model:this.entity,style:{content:w}})),this.createCanvas(E.firstChild)};T.prototype.constructor=T,T.moduleName="Game",T.moduleIndex=0,T.prototype.getGameIndex=function(){return"Game_"+T.moduleIndex++},T.prototype.createCanvas=function(t){var e=this.container.get("GameMain",{element:t});e.create().then(function(t){},function(t){})},t.exports=T},function(t,e,n){(function(e,n){!function(e,n){t.exports=n()}(this,function(){"use strict";function t(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}function i(t){return"function"==typeof t}function r(t){X=t}function o(t){W=t}function a(){return function(){return e.nextTick(c)}}function s(){return"undefined"!=typeof Y?function(){Y(c)}:h()}function l(){var t=0,e=new Q(c),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function u(){var t=new MessageChannel;return t.port1.onmessage=c,function(){return t.port2.postMessage(0)}}function h(){var t=setTimeout;return function(){return t(c,1)}}function c(){for(var t=0;t<j;t+=2){var e=Z[t],n=Z[t+1];e(n),Z[t]=void 0,Z[t+1]=void 0}j=0}function d(){try{var t=Function("return this")().require("vertx");return Y=t.runOnLoop||t.runOnContext,s()}catch(t){return h()}}function p(t,e){var n=this,i=new this.constructor(_);void 0===i[tt]&&N(i);var r=n._state;if(r){var o=arguments[r-1];W(function(){return O(r,i,o,n._result)})}else P(n,i,t,e);return i}function f(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(_);return S(n,t),n}function _(){}function m(){return new TypeError("You cannot resolve a promise with itself")}function y(){return new TypeError("A promises callback cannot return that same promise.")}function v(t){try{return t.then}catch(t){return rt.error=t,rt}}function g(t,e,n,i){try{t.call(e,n,i)}catch(t){return t}}function T(t,e,n){W(function(t){var i=!1,r=g(n,e,function(n){i||(i=!0,e!==n?S(t,n):w(t,n))},function(e){i||(i=!0,C(t,e))},"Settle: "+(t._label||" unknown promise"));!i&&r&&(i=!0,C(t,r))},t)}function A(t,e){e._state===nt?w(t,e._result):e._state===it?C(t,e._result):P(e,void 0,function(e){return S(t,e)},function(e){return C(t,e)})}function b(t,e,n){e.constructor===t.constructor&&n===p&&e.constructor.resolve===f?A(t,e):n===rt?(C(t,rt.error),rt.error=null):void 0===n?w(t,e):i(n)?T(t,e,n):w(t,e)}function S(e,n){e===n?C(e,m()):t(n)?b(e,n,v(n)):w(e,n)}function E(t){t._onerror&&t._onerror(t._result),x(t)}function w(t,e){t._state===et&&(t._result=e,t._state=nt,0!==t._subscribers.length&&W(x,t))}function C(t,e){t._state===et&&(t._state=it,t._result=e,W(E,t))}function P(t,e,n,i){var r=t._subscribers,o=r.length;t._onerror=null,r[o]=e,r[o+nt]=n,r[o+it]=i,0===o&&t._state&&W(x,t)}function x(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i=void 0,r=void 0,o=t._result,a=0;a<e.length;a+=3)i=e[a],r=e[a+n],i?O(n,i,r,o):r(o);t._subscribers.length=0}}function M(t,e){try{return t(e)}catch(t){return rt.error=t,rt}}function O(t,e,n,r){var o=i(n),a=void 0,s=void 0,l=void 0,u=void 0;if(o){if(a=M(n,r),a===rt?(u=!0,s=a.error,a.error=null):l=!0,e===a)return void C(e,y())}else a=r,l=!0;e._state!==et||(o&&l?S(e,a):u?C(e,s):t===nt?w(e,a):t===it&&C(e,a))}function D(t,e){try{e(function(e){S(t,e)},function(e){C(t,e)})}catch(e){C(t,e)}}function I(){return ot++}function N(t){t[tt]=ot++,t._state=void 0,t._result=void 0,t._subscribers=[]}function L(){return new Error("Array Methods must be provided an Array")}function B(t){return new at(this,t).promise}function R(t){var e=this;return new e(V(t)?function(n,i){for(var r=t.length,o=0;o<r;o++)e.resolve(t[o]).then(n,i)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function k(t){var e=this,n=new e(_);return C(n,t),n}function G(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function F(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function H(){var t=void 0;if("undefined"!=typeof n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===i&&!e.cast)return}t.Promise=st}var U=void 0;U=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var V=U,j=0,Y=void 0,X=void 0,W=function(t,e){Z[j]=t,Z[j+1]=e,j+=2,2===j&&(X?X(c):$())},z="undefined"!=typeof window?window:void 0,K=z||{},Q=K.MutationObserver||K.WebKitMutationObserver,J="undefined"==typeof self&&"undefined"!=typeof e&&"[object process]"==={}.toString.call(e),q="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Z=new Array(1e3),$=void 0;$=J?a():Q?l():q?u():void 0===z?d():h();var tt=Math.random().toString(36).substring(2),et=void 0,nt=1,it=2,rt={error:null},ot=0,at=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(_),this.promise[tt]||N(this.promise),V(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&w(this.promise,this._result))):C(this.promise,L())}return t.prototype._enumerate=function(t){for(var e=0;this._state===et&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,i=n.resolve;if(i===f){var r=v(t);if(r===p&&t._state!==et)this._settledAt(t._state,e,t._result);else if("function"!=typeof r)this._remaining--,this._result[e]=t;else if(n===st){var o=new n(_);b(o,t,r),this._willSettleAt(o,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(i(t),e)},t.prototype._settledAt=function(t,e,n){var i=this.promise;i._state===et&&(this._remaining--,t===it?C(i,n):this._result[e]=n),0===this._remaining&&w(i,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;P(t,void 0,function(t){return n._settledAt(nt,e,t)},function(t){return n._settledAt(it,e,t)})},t}(),st=function(){function t(e){this[tt]=I(),this._result=this._state=void 0,this._subscribers=[],_!==e&&("function"!=typeof e&&G(),this instanceof t?D(this,e):F())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this,n=e.constructor;return i(t)?e.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})}):e.then(t,t)},t}();return st.prototype.then=p,st.all=B,st.race=R,st.resolve=f,st.reject=k,st._setScheduler=r,st._setAsap=o,st._asap=W,st.polyfill=H,st.Promise=st,st})}).call(e,n(9),function(){return this}())},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(t){if(h===setTimeout)return setTimeout(t,0);if((h===n||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function o(t){if(c===clearTimeout)return clearTimeout(t);if((c===i||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{return c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}function a(){_&&p&&(_=!1,p.length?f=p.concat(f):m=-1,f.length&&s())}function s(){if(!_){var t=r(a);_=!0;for(var e=f.length;e;){for(p=f,f=[];++m<e;)p&&p[m].run();m=-1,e=f.length}p=null,_=!1,o(t)}}function l(t,e){this.fun=t,this.array=e}function u(){}var h,c,d=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:n}catch(t){h=n}try{c="function"==typeof clearTimeout?clearTimeout:i}catch(t){c=i}}();var p,f=[],_=!1,m=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new l(t,e)),1!==f.length||_||r(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.prependListener=u,d.prependOnceListener=u,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e){String.prototype.startsWith||!function(){"use strict";var t=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(t){}return n}(),e={}.toString,n=function(t){if(null==this)throw TypeError();var n=String(this);if(t&&"[object RegExp]"==e.call(t))throw TypeError();var i=n.length,r=String(t),o=r.length,a=arguments.length>1?arguments[1]:void 0,s=a?Number(a):0;s!=s&&(s=0);var l=Math.min(Math.max(s,0),i);if(o+l>i)return!1;for(var u=-1;++u<o;)if(n.charCodeAt(l+u)!=r.charCodeAt(u))return!1;return!0};t?t(String.prototype,"startsWith",{value:n,configurable:!0,writable:!0}):String.prototype.startsWith=n}()},function(t,e){!function(e){"use strict";function n(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function i(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){this.map={},t instanceof r?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function s(t){var e=new FileReader;return e.readAsArrayBuffer(t),a(e)}function l(t,e){var n=new FileReader,i=e.headers.map["content-type"]?e.headers.map["content-type"].toString():"",r=/charset\=[0-9a-zA-Z\-\_]*;?/,o=t.type.match(r)||i.match(r),s=[t];return o&&s.push(o[0].replace(/^charset\=/,"").replace(/;$/,"")),n.readAsText.apply(n,s),a(n)}function u(){return this.bodyUsed=!1,this._initBody=function(t,e){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(_.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t,this._options=e;else if(_.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(t){if(!_.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t))throw new Error("unsupported BodyInit type")}else this._bodyText=""},_.blob?(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(s)},this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return l(this._bodyBlob,this._options);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var t=o(this);return t?t:Promise.resolve(this._bodyText)},_.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(t){var e=t.toUpperCase();return m.indexOf(e)>-1?e:t}function c(t,e){e=e||{};var n=e.body;if(c.prototype.isPrototypeOf(t)){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new r(t.headers)),this.method=t.method,this.mode=t.mode,n||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=t;if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new r(e.headers)),this.method=h(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n,e)}function d(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}}),e}function p(t){var e=new r,n=t.getAllResponseHeaders().trim().split("\n");return n.forEach(function(t){var n=t.trim().split(":"),i=n.shift().trim(),r=n.join(":").trim();e.append(i,r)}),e}function f(t,e){e||(e={}),this._initBody(t,e),this.type="default",this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof r?e.headers:new r(e.headers),this.url=e.url||""}if(e.__disableNativeFetch||!e.fetch){r.prototype.append=function(t,e){t=n(t),e=i(e);var r=this.map[t];r||(r=[],this.map[t]=r),r.push(e)},r.prototype.delete=function(t){delete this.map[n(t)]},r.prototype.get=function(t){var e=this.map[n(t)];return e?e[0]:null},r.prototype.getAll=function(t){return this.map[n(t)]||[]},r.prototype.has=function(t){return this.map.hasOwnProperty(n(t))},r.prototype.set=function(t,e){this.map[n(t)]=[i(e)]},r.prototype.forEach=function(t,e){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(i){t.call(e,i,n,this)},this)},this)};var _={blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e},m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];c.prototype.clone=function(){return new c(this)},u.call(c.prototype),u.call(f.prototype),f.prototype.clone=function(){return new f(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},f.error=function(){var t=new f(null,{status:0,statusText:""});return t.type="error",t};var y=[301,302,303,307,308];f.redirect=function(t,e){if(y.indexOf(e)===-1)throw new RangeError("Invalid status code");return new f(null,{status:e,headers:{location:t}})},e.Headers=r,e.Request=c,e.Response=f,e.fetch=function(t,e){return new Promise(function(n,i){function r(){return"responseURL"in s?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):void 0}function o(){if(4===s.readyState){var t=1223===s.status?204:s.status;if(t<100||t>599){if(l)return;return l=!0,void i(new TypeError("Network request failed"))}var e={status:t,statusText:s.statusText,headers:p(s),url:r()},o="response"in s?s.response:s.responseText;l||(l=!0,n(new f(o,e)))}}var a;a=c.prototype.isPrototypeOf(t)&&!e?t:new c(t,e);var s=new XMLHttpRequest,l=!1;s.onreadystatechange=o,s.onload=o,s.onerror=function(){l||(l=!0,i(new TypeError("Network request failed")))},s.open(a.method,a.url,!0);try{"include"===a.credentials&&("withCredentials"in s?s.withCredentials=!0:console&&console.warn&&console.warn("withCredentials is not supported, you can ignore this warning"))}catch(t){console&&console.warn&&console.warn("set withCredentials error:"+t)}"responseType"in s&&_.blob&&(s.responseType="blob"),a.headers.forEach(function(t,e){s.setRequestHeader(e,t)}),s.send("undefined"==typeof a._bodyInit?null:a._bodyInit)})},e.fetch.polyfill=!0,"undefined"!=typeof t&&t.exports&&(t.exports=e.fetch)}}("undefined"!=typeof self?self:this)},function(t,e,n){var i=n(13);i.Template=n(14).Template,i.template=i.Template,t.exports=i},function(t,e,n){!function(t){function e(t){"}"===t.n.substr(t.n.length-1)&&(t.n=t.n.substring(0,t.n.length-1))}function n(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}function i(t,e,n){if(e.charAt(n)!=t.charAt(0))return!1;for(var i=1,r=t.length;i<r;i++)if(e.charAt(n+i)!=t.charAt(i))return!1;return!0}function r(e,n,i,s){var l=[],u=null,h=null,c=null;for(h=i[i.length-1];e.length>0;){if(c=e.shift(),h&&"<"==h.tag&&!(c.tag in A))throw new Error("Illegal content in < super tag.");if(t.tags[c.tag]<=t.tags.$||o(c,s))i.push(c),c.nodes=r(e,c.tag,i,s);else{if("/"==c.tag){if(0===i.length)throw new Error("Closing tag without opener: /"+c.n);if(u=i.pop(),c.n!=u.n&&!a(c.n,u.n,s))throw new Error("Nesting error: "+u.n+" vs. "+c.n);return u.end=c.i,l}"\n"==c.tag&&(c.last=0==e.length||"\n"==e[0].tag)}l.push(c)}if(i.length>0)throw new Error("missing closing tag: "+i.pop().n);return l}function o(t,e){for(var n=0,i=e.length;n<i;n++)if(e[n].o==t.n)return t.tag="#",!0}function a(t,e,n){for(var i=0,r=n.length;i<r;i++)if(n[i].c==t&&n[i].o==e)return!0}function s(t){var e=[];for(var n in t)e.push('"'+u(n)+'": function(c,p,t,i) {'+t[n]+"}");return"{ "+e.join(",")+" }"}function l(t){var e=[];for(var n in t.partials)e.push('"'+u(n)+'":{name:"'+u(t.partials[n].name)+'", '+l(t.partials[n])+"}");return"partials: {"+e.join(",")+"}, subs: "+s(t.subs)}function u(t){return t.replace(v,"\\\\").replace(_,'\\"').replace(m,"\\n").replace(y,"\\r").replace(g,"\\u2028").replace(T,"\\u2029")}function h(t){return~t.indexOf(".")?"d":"f"}function c(t,e){var n="<"+(e.prefix||""),i=n+t.n+b++;return e.partials[i]={name:t.n,partials:{}},e.code+='t.b(t.rp("'+u(i)+'",c,p,"'+(t.indent||"")+'"));',i}function d(t,e){e.code+="t.b(t.t(t."+h(t.n)+'("'+u(t.n)+'",c,p,0)));'}function p(t){return"t.b("+t+");"}var f=/\S/,_=/\"/g,m=/\n/g,y=/\r/g,v=/\\/g,g=/\u2028/,T=/\u2029/;t.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},t.scan=function(r,o){function a(){v.length>0&&(g.push({tag:"_t",text:new String(v)}),v="")}function s(){for(var e=!0,n=b;n<g.length;n++)if(e=t.tags[g[n].tag]<t.tags._v||"_t"==g[n].tag&&null===g[n].text.match(f),!e)return!1;return e}function l(t,e){if(a(),t&&s())for(var n,i=b;i<g.length;i++)g[i].text&&((n=g[i+1])&&">"==n.tag&&(n.indent=g[i].text.toString()),g.splice(i,1));else e||g.push({tag:"\n"});T=!1,b=g.length}function u(t,e){var i="="+E,r=t.indexOf(i,e),o=n(t.substring(t.indexOf("=",e)+1,r)).split(" ");return S=o[0],E=o[o.length-1],r+i.length-1}var h=r.length,c=0,d=1,p=2,_=c,m=null,y=null,v="",g=[],T=!1,A=0,b=0,S="{{",E="}}";for(o&&(o=o.split(" "),S=o[0],E=o[1]),A=0;A<h;A++)_==c?i(S,r,A)?(--A,a(),_=d):"\n"==r.charAt(A)?l(T):v+=r.charAt(A):_==d?(A+=S.length-1,y=t.tags[r.charAt(A+1)],m=y?r.charAt(A+1):"_v","="==m?(A=u(r,A),_=c):(y&&A++,_=p),T=A):i(E,r,A)?(g.push({tag:m,n:n(v),otag:S,ctag:E,i:"/"==m?T-S.length:A+E.length}),v="",A+=E.length-1,_=c,"{"==m&&("}}"==E?A++:e(g[g.length-1]))):v+=r.charAt(A);return l(T,!0),g};var A={_t:!0,"\n":!0,$:!0,"/":!0};t.stringify=function(e,n,i){return"{code: function (c,p,i) { "+t.wrapMain(e.code)+" },"+l(e)+"}"};var b=0;t.generate=function(e,n,i){b=0;var r={code:"",subs:{},partials:{}};return t.walk(e,r),i.asString?this.stringify(r,n,i):this.makeTemplate(r,n,i)},t.wrapMain=function(t){return'var t=this;t.b(i=i||"");'+t+"return t.fl();"},t.template=t.Template,t.makeTemplate=function(t,e,n){var i=this.makePartials(t);return i.code=new Function("c","p","i",this.wrapMain(t.code)),new this.template(i,e,this,n)},t.makePartials=function(t){var e,n={subs:{},partials:t.partials,name:t.name};for(e in n.partials)n.partials[e]=this.makePartials(n.partials[e]);for(e in t.subs)n.subs[e]=new Function("c","p","t","i",t.subs[e]);return n},t.codegen={"#":function(e,n){n.code+="if(t.s(t."+h(e.n)+'("'+u(e.n)+'",c,p,1),c,p,0,'+e.i+","+e.end+',"'+e.otag+" "+e.ctag+'")){t.rs(c,p,function(c,p,t){',t.walk(e.nodes,n),n.code+="});c.pop();}"},"^":function(e,n){n.code+="if(!t.s(t."+h(e.n)+'("'+u(e.n)+'",c,p,1),c,p,1,0,0,"")){',t.walk(e.nodes,n),n.code+="};"},">":c,"<":function(e,n){var i={partials:{},code:"",subs:{},inPartial:!0};t.walk(e.nodes,i);var r=n.partials[c(e,n)];r.subs=i.subs,r.partials=i.partials},$:function(e,n){var i={subs:{},code:"",partials:n.partials,prefix:e.n};t.walk(e.nodes,i),n.subs[e.n]=i.code,n.inPartial||(n.code+='t.sub("'+u(e.n)+'",c,p,i);')},"\n":function(t,e){e.code+=p('"\\n"'+(t.last?"":" + i"))},_v:function(t,e){e.code+="t.b(t.v(t."+h(t.n)+'("'+u(t.n)+'",c,p,0)));'},_t:function(t,e){e.code+=p('"'+u(t.text)+'"')},"{":d,"&":d},t.walk=function(e,n){for(var i,r=0,o=e.length;r<o;r++)i=t.codegen[e[r].tag],i&&i(e[r],n);return n},t.parse=function(t,e,n){return n=n||{},r(t,"",[],n.sectionTags||[])},t.cache={},t.cacheKey=function(t,e){return[t,!!e.asString,!!e.disableLambda,e.delimiters,!!e.modelGet].join("||")},t.compile=function(e,n){n=n||{};var i=t.cacheKey(e,n),r=this.cache[i];if(r){var o=r.partials;for(var a in o)delete o[a].instance;return r}return r=this.generate(this.parse(this.scan(e,n.delimiters),e,n),e,n),this.cache[i]=r}}(e)},function(t,e,n){!function(t){function e(t,e,n){var i;return e&&"object"==typeof e&&(void 0!==e[t]?i=e[t]:n&&e.get&&"function"==typeof e.get&&(i=e.get(t))),i}function n(t,e,n,i,r,o){function a(){}function s(){}a.prototype=t,s.prototype=t.subs;var l,u=new a;u.subs=new s,u.subsText={},u.buf="",i=i||{},u.stackSubs=i,u.subsText=o;for(l in e)i[l]||(i[l]=e[l]);for(l in i)u.subs[l]=i[l];r=r||{},u.stackPartials=r;for(l in n)r[l]||(r[l]=n[l]);for(l in r)u.partials[l]=r[l];return u}function i(t){return String(null===t||void 0===t?"":t)}function r(t){return t=i(t),h.test(t)?t.replace(o,"&amp;").replace(a,"&lt;").replace(s,"&gt;").replace(l,"&#39;").replace(u,"&quot;"):t}t.Template=function(t,e,n,i){t=t||{},this.r=t.code||this.r,this.c=n,this.options=i||{},this.text=e||"",this.partials=t.partials||{},this.subs=t.subs||{},this.buf=""},t.Template.prototype={r:function(t,e,n){return""},v:r,t:i,render:function(t,e,n){return this.ri([t],e||{},n)},ri:function(t,e,n){return this.r(t,e,n)},ep:function(t,e){var i=this.partials[t],r=e[i.name];if(i.instance&&i.base==r)return i.instance;if("string"==typeof r){if(!this.c)throw new Error("No compiler available.");r=this.c.compile(r,this.options)}if(!r)return null;if(this.partials[t].base=r,i.subs){e.stackText||(e.stackText={});for(key in i.subs)e.stackText[key]||(e.stackText[key]=void 0!==this.activeSub&&e.stackText[this.activeSub]?e.stackText[this.activeSub]:this.text);r=n(r,i.subs,i.partials,this.stackSubs,this.stackPartials,e.stackText)}return this.partials[t].instance=r,r},rp:function(t,e,n,i){var r=this.ep(t,n);return r?r.ri(e,n,i):""},rs:function(t,e,n){var i=t[t.length-1];if(!c(i))return void n(t,e,this);for(var r=0;r<i.length;r++)t.push(i[r]),n(t,e,this),t.pop()},s:function(t,e,n,i,r,o,a){var s;return(!c(t)||0!==t.length)&&("function"==typeof t&&(t=this.ms(t,e,n,i,r,o,a)),s=!!t,!i&&s&&e&&e.push("object"==typeof t?t:e[e.length-1]),s)},d:function(t,n,i,r){var o,a=t.split("."),s=this.f(a[0],n,i,r),l=this.options.modelGet,u=null;if("."===t&&c(n[n.length-2]))s=n[n.length-1];else for(var h=1;h<a.length;h++)o=e(a[h],s,l),void 0!==o?(u=s,s=o):s="";return!(r&&!s)&&(r||"function"!=typeof s||(n.push(u),s=this.mv(s,n,i),n.pop()),s)},f:function(t,n,i,r){for(var o=!1,a=null,s=!1,l=this.options.modelGet,u=n.length-1;u>=0;u--)if(a=n[u],o=e(t,a,l),void 0!==o){s=!0;break}return s?(r||"function"!=typeof o||(o=this.mv(o,n,i)),o):!r&&""},ls:function(t,e,n,r,o){var a=this.options.delimiters;return this.options.delimiters=o,this.b(this.ct(i(t.call(e,r)),e,n)),this.options.delimiters=a,!1},ct:function(t,e,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(t,this.options).render(e,n)},b:function(t){this.buf+=t},fl:function(){var t=this.buf;return this.buf="",t},ms:function(t,e,n,i,r,o,a){var s,l=e[e.length-1],u=t.call(l);return"function"==typeof u?!!i||(s=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(u,l,n,s.substring(r,o),a)):u},mv:function(t,e,n){var r=e[e.length-1],o=t.call(r);return"function"==typeof o?this.ct(i(o.call(r)),r,n):o},sub:function(t,e,n,i){var r=this.subs[t];r&&(this.activeSub=t,r(e,n,this,i),this.activeSub=!1)}};var o=/&/g,a=/</g,s=/>/g,l=/\'/g,u=/\"/g,h=/[&<>\"\']/,c=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}(e)},function(t,e){t.exports={main:"build/game.js",resources:"build/resources/",version:"1.0.475 Thu Oct 17 2024 04:19:58 GMT-0400 (Eastern Daylight Time)",replace:{rules:["PIXI"],prefix:"BLACKJACK_PIXIJS_"},settings:{resourcesRoot:"build/resources",urlPuzzleCfg:"build/resources/puzzlescfg.json"},language:"en"}},function(t,e,n){(function(t){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.loader=e.prepare=e.particles=e.mesh=e.loaders=e.interaction=e.filters=e.extras=e.extract=e.accessibility=void 0;var o=n(17);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var a=n(23);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})});var s=n(143),l=r(s),u=n(144),h=i(u),c=n(147),d=i(c),p=n(150),f=i(p),_=n(158),m=i(_),y=n(170),v=i(y),g=n(176),T=i(g),A=n(189),b=i(A),S=n(196),E=i(S),w=n(201),C=i(w);a.utils.mixins.performMixins();var P=T.shared||null;e.accessibility=h,e.extract=d,e.extras=f,e.filters=m,e.interaction=v,e.loaders=T,e.mesh=b,e.particles=E,e.prepare=C,e.loader=P,"function"==typeof l.default&&(0,l.default)(e),t.PIXI=e}).call(e,function(){return this}())},function(t,e,n){"use strict";n(18),n(20),n(21),n(22),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(19),o=i(r);Object.assign||(Object.assign=o.default)},function(t,e){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function i(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var i=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==i.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=i()?Object.assign:function(t,e){for(var i,s,l=n(t),u=1;u<arguments.length;u++){i=Object(arguments[u]);for(var h in i)o.call(i,h)&&(l[h]=i[h]);if(r){s=r(i);for(var c=0;c<s.length;c++)a.call(i,s[c])&&(l[s[c]]=i[s[c]])}}return l}},function(t,e){(function(t){"use strict";var e=16;if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var n=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-n}}for(var i=Date.now(),r=["ms","moz","webkit","o"],o=0;o<r.length&&!t.requestAnimationFrame;++o){var a=r[o];t.requestAnimationFrame=t[a+"RequestAnimationFrame"],t.cancelAnimationFrame=t[a+"CancelAnimationFrame"]||t[a+"CancelRequestAnimationFrame"]}t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var n=Date.now(),r=e+i-n;return r<0&&(r=0),i=n,setTimeout(function(){i=Date.now(),t(performance.now())},r)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}).call(e,function(){return this}())},function(t,e){"use strict";Math.sign||(Math.sign=function(t){return t=Number(t),0===t||isNaN(t)?t:t>0?1:-1})},function(t,e){"use strict";Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t})},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.autoDetectRenderer=e.Application=e.Filter=e.SpriteMaskFilter=e.Quad=e.RenderTarget=e.ObjectRenderer=e.WebGLManager=e.Shader=e.CanvasRenderTarget=e.TextureUvs=e.VideoBaseTexture=e.BaseRenderTexture=e.RenderTexture=e.BaseTexture=e.TextureMatrix=e.Texture=e.Spritesheet=e.CanvasGraphicsRenderer=e.GraphicsRenderer=e.GraphicsData=e.Graphics=e.TextMetrics=e.TextStyle=e.Text=e.SpriteRenderer=e.CanvasTinter=e.CanvasSpriteRenderer=e.Sprite=e.TransformBase=e.TransformStatic=e.Transform=e.Container=e.DisplayObject=e.Bounds=e.glCore=e.WebGLRenderer=e.CanvasRenderer=e.ticker=e.utils=e.settings=void 0;
var o=n(24);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var a=n(25);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})});var s=n(35);Object.defineProperty(e,"glCore",{enumerable:!0,get:function(){return r(s).default}});var l=n(52);Object.defineProperty(e,"Bounds",{enumerable:!0,get:function(){return r(l).default}});var u=n(53);Object.defineProperty(e,"DisplayObject",{enumerable:!0,get:function(){return r(u).default}});var h=n(62);Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return r(h).default}});var c=n(61);Object.defineProperty(e,"Transform",{enumerable:!0,get:function(){return r(c).default}});var d=n(59);Object.defineProperty(e,"TransformStatic",{enumerable:!0,get:function(){return r(d).default}});var p=n(60);Object.defineProperty(e,"TransformBase",{enumerable:!0,get:function(){return r(p).default}});var f=n(69);Object.defineProperty(e,"Sprite",{enumerable:!0,get:function(){return r(f).default}});var _=n(85);Object.defineProperty(e,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return r(_).default}});var m=n(94);Object.defineProperty(e,"CanvasTinter",{enumerable:!0,get:function(){return r(m).default}});var y=n(95);Object.defineProperty(e,"SpriteRenderer",{enumerable:!0,get:function(){return r(y).default}});var v=n(124);Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return r(v).default}});var g=n(125);Object.defineProperty(e,"TextStyle",{enumerable:!0,get:function(){return r(g).default}});var T=n(126);Object.defineProperty(e,"TextMetrics",{enumerable:!0,get:function(){return r(T).default}});var A=n(128);Object.defineProperty(e,"Graphics",{enumerable:!0,get:function(){return r(A).default}});var b=n(129);Object.defineProperty(e,"GraphicsData",{enumerable:!0,get:function(){return r(b).default}});var S=n(131);Object.defineProperty(e,"GraphicsRenderer",{enumerable:!0,get:function(){return r(S).default}});var E=n(139);Object.defineProperty(e,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return r(E).default}});var w=n(140);Object.defineProperty(e,"Spritesheet",{enumerable:!0,get:function(){return r(w).default}});var C=n(70);Object.defineProperty(e,"Texture",{enumerable:!0,get:function(){return r(C).default}});var P=n(107);Object.defineProperty(e,"TextureMatrix",{enumerable:!0,get:function(){return r(P).default}});var x=n(71);Object.defineProperty(e,"BaseTexture",{enumerable:!0,get:function(){return r(x).default}});var M=n(88);Object.defineProperty(e,"RenderTexture",{enumerable:!0,get:function(){return r(M).default}});var O=n(89);Object.defineProperty(e,"BaseRenderTexture",{enumerable:!0,get:function(){return r(O).default}});var D=n(80);Object.defineProperty(e,"VideoBaseTexture",{enumerable:!0,get:function(){return r(D).default}});var I=n(84);Object.defineProperty(e,"TextureUvs",{enumerable:!0,get:function(){return r(I).default}});var N=n(91);Object.defineProperty(e,"CanvasRenderTarget",{enumerable:!0,get:function(){return r(N).default}});var L=n(113);Object.defineProperty(e,"Shader",{enumerable:!0,get:function(){return r(L).default}});var B=n(97);Object.defineProperty(e,"WebGLManager",{enumerable:!0,get:function(){return r(B).default}});var R=n(96);Object.defineProperty(e,"ObjectRenderer",{enumerable:!0,get:function(){return r(R).default}});var k=n(110);Object.defineProperty(e,"RenderTarget",{enumerable:!0,get:function(){return r(k).default}});var G=n(111);Object.defineProperty(e,"Quad",{enumerable:!0,get:function(){return r(G).default}});var F=n(100);Object.defineProperty(e,"SpriteMaskFilter",{enumerable:!0,get:function(){return r(F).default}});var H=n(101);Object.defineProperty(e,"Filter",{enumerable:!0,get:function(){return r(H).default}});var U=n(141);Object.defineProperty(e,"Application",{enumerable:!0,get:function(){return r(U).default}});var V=n(142);Object.defineProperty(e,"autoDetectRenderer",{enumerable:!0,get:function(){return V.autoDetectRenderer}});var j=n(63),Y=i(j),X=n(81),W=i(X),z=n(55),K=r(z),Q=n(86),J=r(Q),q=n(98),Z=r(q);e.settings=K.default,e.utils=Y,e.ticker=W,e.CanvasRenderer=J.default,e.WebGLRenderer=Z.default},function(t,e){"use strict";e.__esModule=!0;e.VERSION="4.8.9",e.PI_2=2*Math.PI,e.RAD_TO_DEG=180/Math.PI,e.DEG_TO_RAD=Math.PI/180,e.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},e.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},e.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},e.SCALE_MODES={LINEAR:0,NEAREST:1},e.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},e.GC_MODES={AUTO:0,MANUAL:1},e.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,e.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},e.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},e.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},e.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},e.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(26);Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return i(r).default}});var o=n(27);Object.defineProperty(e,"ObservablePoint",{enumerable:!0,get:function(){return i(o).default}});var a=n(28);Object.defineProperty(e,"Matrix",{enumerable:!0,get:function(){return i(a).default}});var s=n(29);Object.defineProperty(e,"GroupD8",{enumerable:!0,get:function(){return i(s).default}});var l=n(30);Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return i(l).default}});var u=n(32);Object.defineProperty(e,"Ellipse",{enumerable:!0,get:function(){return i(u).default}});var h=n(33);Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return i(h).default}});var c=n(31);Object.defineProperty(e,"Rectangle",{enumerable:!0,get:function(){return i(c).default}});var d=n(34);Object.defineProperty(e,"RoundedRectangle",{enumerable:!0,get:function(){return i(d).default}})},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n(this,t),this.x=e,this.y=i}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){this.set(t.x,t.y)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},t}();e.default=i},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;n(this,t),this._x=r,this._y=o,this.cb=e,this.scope=i}return t.prototype.clone=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=e||this.cb,r=n||this.scope;return new t(i,r,this._x,this._y)},t.prototype.set=function(t,e){var n=t||0,i=e||(0!==e?n:0);this._x===n&&this._y===i||(this._x=n,this._y=i,this.cb.call(this.scope))},t.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},i(t,[{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),t}();e.default=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(26),s=i(a),l=n(24),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;r(this,t),this.a=e,this.b=n,this.c=i,this.d=o,this.tx=a,this.ty=s,this.array=null}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,n,i,r,o){return this.a=t,this.b=e,this.c=n,this.d=i,this.tx=r,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var n=e||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(t,e){e=e||new s.default;var n=t.x,i=t.y;return e.x=this.a*n+this.c*i+this.tx,e.y=this.b*n+this.d*i+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new s.default;var n=1/(this.a*this.d+this.c*-this.b),i=t.x,r=t.y;return e.x=this.d*n*i+-this.c*n*r+(this.ty*this.c-this.tx*this.d)*n,e.y=this.a*n*r+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),i=this.a,r=this.c,o=this.tx;return this.a=i*e-this.b*n,this.b=i*n+this.b*e,this.c=r*e-this.d*n,this.d=r*n+this.d*e,this.tx=o*e-this.ty*n,this.ty=o*n+this.ty*e,this},t.prototype.append=function(t){var e=this.a,n=this.b,i=this.c,r=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*n+t.b*r,this.c=t.c*e+t.d*i,this.d=t.c*n+t.d*r,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*n+t.ty*r+this.ty,this},t.prototype.setTransform=function(t,e,n,i,r,o,a,s,l){return this.a=Math.cos(a+l)*r,this.b=Math.sin(a+l)*r,this.c=-Math.sin(a-s)*o,this.d=Math.cos(a-s)*o,this.tx=t-(n*this.a+i*this.c),this.ty=e-(n*this.b+i*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var n=this.a,i=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,n=this.b,i=this.c,r=this.d,o=-Math.atan2(-i,r),a=Math.atan2(n,e),s=Math.abs(o+a);return s<1e-5||Math.abs(l.PI_2-s)<1e-5?(t.rotation=a,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=a),t.scale.x=Math.sqrt(e*e+n*n),t.scale.y=Math.sqrt(i*i+r*r),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,n=this.c,i=this.d,r=this.tx,o=t*i-e*n;return this.a=i/o,this.b=-e/o,this.c=-n/o,this.d=t/o,this.tx=(n*this.ty-i*r)/o,this.ty=-(t*this.ty-e*r)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},o(t,null,[{key:"IDENTITY",get:function(){return new t}},{key:"TEMP_MATRIX",get:function(){return new t}}]),t}();e.default=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){return t<0?-1:t>0?1:0}function o(){for(var t=0;t<16;t++){var e=[];p.push(e);for(var n=0;n<16;n++)for(var i=r(l[t]*l[n]+h[t]*u[n]),o=r(u[t]*l[n]+c[t]*u[n]),a=r(l[t]*h[n]+h[t]*c[n]),f=r(u[t]*h[n]+c[t]*c[n]),_=0;_<16;_++)if(l[_]===i&&u[_]===o&&h[_]===a&&c[_]===f){e.push(_);break}}for(var m=0;m<16;m++){var y=new s.default;y.set(l[m],u[m],h[m],c[m],0,0),d.push(y)}}e.__esModule=!0;var a=n(28),s=i(a),l=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],u=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],h=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],c=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],d=[],p=[];o();var f={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return l[t]},uY:function(t){return u[t]},vX:function(t){return h[t]},vY:function(t){return c[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return p[t][e]},sub:function(t,e){return p[t][f.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2===(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?f.S:f.N:2*Math.abs(e)<=Math.abs(t)?t>0?f.E:f.W:e>0?t>0?f.SE:f.SW:t>0?f.NE:f.NW},matrixAppendRotationInv:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=d[f.inv(e)];r.tx=n,r.ty=i,t.append(r)}};e.default=f},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=n(31),a=i(o),s=n(24),l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;r(this,t),this.x=e,this.y=n,this.radius=i,this.type=s.SHAPES.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-t,r=this.y-e;return i*=i,r*=r,i+r<=n},t.prototype.getBounds=function(){return new a.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();e.default=l},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(24),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;i(this,t),this.x=Number(e),this.y=Number(n),this.width=Number(r),this.height=Number(a),this.type=o.SHAPES.RECT}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),n=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),r=Math.min(this.y+this.height,t.y+t.height);this.x=e,this.width=Math.max(n-e,0),this.y=i,this.height=Math.max(r-i,0)},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),r=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=n-e,this.y=i,this.height=r-i},t.prototype.ceil=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001,n=Math.ceil((this.x+this.width-e)*t)/t,i=Math.ceil((this.y+this.height-e)*t)/t;this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=n-this.x,this.height=i-this.y},r(t,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new t(0,0,0,0)}}]),t}();e.default=a},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=n(31),a=i(o),s=n(24),l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r(this,t),this.x=e,this.y=n,this.width=i,this.height=o,this.type=s.SHAPES.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var n=(t-this.x)/this.width,i=(e-this.y)/this.height;return n*=n,i*=i,n+i<=1},t.prototype.getBounds=function(){return new a.default(this.x-this.width,this.y-this.height,this.width,this.height)},t}();e.default=l},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=n(26),a=i(o),s=n(24),l=function(){function t(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];if(r(this,t),Array.isArray(n[0])&&(n=n[0]),n[0]instanceof a.default){for(var o=[],l=0,u=n.length;l<u;l++)o.push(n[l].x,n[l].y);n=o}this.closed=!0,this.points=n,this.type=s.SHAPES.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.contains=function(t,e){for(var n=!1,i=this.points.length/2,r=0,o=i-1;r<i;o=r++){var a=this.points[2*r],s=this.points[2*r+1],l=this.points[2*o],u=this.points[2*o+1],h=s>e!=u>e&&t<(l-a)*((e-s)/(u-s))+a;h&&(n=!n)}return n},t}();e.default=l},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=n(24),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;i(this,t),this.x=e,this.y=n,this.width=o,this.height=a,this.radius=s,this.type=r.SHAPES.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var n=t-(this.x+this.radius),i=e-(this.y+this.radius),r=this.radius*this.radius;if(n*n+i*i<=r)return!0;if(n=t-(this.x+this.width-this.radius),n*n+i*i<=r)return!0;if(i=e-(this.y+this.height-this.radius),n*n+i*i<=r)return!0;if(n=t-(this.x+this.radius),n*n+i*i<=r)return!0}return!1},t}();e.default=o},function(t,e,n){var i={createContext:n(36),setVertexAttribArrays:n(37),GLBuffer:n(38),GLFramebuffer:n(39),GLShader:n(41),GLTexture:n(40),VertexArrayObject:n(50),shader:n(51)};"undefined"!=typeof t&&t.exports&&(t.exports=i),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=i)},function(t,e){var n=function(t,e){var n=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!n)throw new Error("This browser does not support webGL. Try using the canvas renderer");return n};t.exports=n},function(t,e){var n=function(t,e,n){var i;if(n){var r=n.tempAttribState,o=n.attribState;for(i=0;i<r.length;i++)r[i]=!1;for(i=0;i<e.length;i++)r[e[i].attribute.location]=!0;for(i=0;i<o.length;i++)o[i]!==r[i]&&(o[i]=r[i],n.attribState[i]?t.enableVertexAttribArray(i):t.disableVertexAttribArray(i))}else for(i=0;i<e.length;i++){var a=e[i];t.enableVertexAttribArray(a.attribute.location)}};t.exports=n},function(t,e){var n=new ArrayBuffer(0),i=function(t,e,i,r){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=r||t.STATIC_DRAW,this.data=n,i&&this.upload(i),this._updateID=0};i.prototype.upload=function(t,e,n){n||this.bind();var i=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?i.bufferSubData(this.type,e,t):i.bufferData(this.type,t,this.drawType),this.data=t},i.prototype.bind=function(){var t=this.gl;t.bindBuffer(this.type,this.buffer)},i.createVertexBuffer=function(t,e,n){return new i(t,t.ARRAY_BUFFER,e,n)},i.createIndexBuffer=function(t,e,n){return new i(t,t.ELEMENT_ARRAY_BUFFER,e,n)},i.create=function(t,e,n,r){return new i(t,e,n,r)},i.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},t.exports=i},function(t,e,n){var i=n(40),r=function(t,e,n){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=n||100};r.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new i(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},r.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},r.prototype.clear=function(t,e,n,i){this.bind();var r=this.gl;r.clearColor(t,e,n,i),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT)},r.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},r.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},r.prototype.resize=function(t,e){var n=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,this.stencil),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t,e))},r.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},r.createRGBA=function(t,e,n,o){var a=i.fromData(t,null,e,n);a.enableNearestScaling(),a.enableWrapClamp();var s=new r(t,e,n);return s.enableTexture(a),s.unbind(),s},r.createFloat32=function(t,e,n,o){var a=new i.fromData(t,o,e,n);a.enableNearestScaling(),a.enableWrapClamp();var s=new r(t,e,n);return s.enableTexture(a),s.unbind(),s},t.exports=r},function(t,e){var n=function(t,e,n,i,r){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=n||-1,this.format=i||t.RGBA,this.type=r||t.UNSIGNED_BYTE};n.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var n=t.videoWidth||t.width,i=t.videoHeight||t.height;i!==this.height||n!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=n,this.height=i};var i=!1;n.prototype.uploadData=function(t,e,n){this.bind();var r=this.gl;if(t instanceof Float32Array){if(!i){var o=r.getExtension("OES_texture_float");if(!o)throw new Error("floating point textures not available");i=!0}this.type=r.FLOAT}else this.type=this.type||r.UNSIGNED_BYTE;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||n!==this.height?r.texImage2D(r.TEXTURE_2D,0,this.format,e,n,0,this.format,this.type,t||null):r.texSubImage2D(r.TEXTURE_2D,0,0,0,e,n,this.format,this.type,t||null),this.width=e,this.height=n},n.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},n.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},n.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},n.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},n.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},n.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},n.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},n.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},n.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},n.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},n.prototype.destroy=function(){var t=this.gl;t.deleteTexture(this.texture)},n.fromSource=function(t,e,i){var r=new n(t);return r.premultiplyAlpha=i||!1,r.upload(e),r},n.fromData=function(t,e,i,r){var o=new n(t);return o.uploadData(e,i,r),o},t.exports=n},function(t,e,n){var i=n(42),r=n(43),o=n(46),a=n(48),s=n(49),l=function(t,e,n,l,u){this.gl=t,l&&(e=a(e,l),n=a(n,l)),this.program=i(t,e,n,u),this.attributes=r(t,this.program),this.uniformData=o(t,this.program),this.uniforms=s(t,this.uniformData)};l.prototype.bind=function(){return this.gl.useProgram(this.program),this},l.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null;var t=this.gl;t.deleteProgram(this.program)},t.exports=l},function(t,e){var n=function(t,e,n,r){var o=i(t,t.VERTEX_SHADER,e),a=i(t,t.FRAGMENT_SHADER,n),s=t.createProgram();if(t.attachShader(s,o),t.attachShader(s,a),r)for(var l in r)t.bindAttribLocation(s,r[l],l);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(o),t.deleteShader(a),s},i=function(t,e,n){var i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)?i:(console.log(t.getShaderInfoLog(i)),null)};t.exports=n},function(t,e,n){var i=n(44),r=n(45),o=function(t,e){for(var n={},o=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),s=0;s<o;s++){var l=t.getActiveAttrib(e,s),u=i(t,l.type);n[l.name]={type:u,size:r(u),location:t.getAttribLocation(e,l.name),pointer:a}}return n},a=function(t,e,n,i){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,n||0,i||0)};t.exports=o},function(t,e){var n=function(t,e){if(!i){var n=Object.keys(r);i={};for(var o=0;o<n.length;++o){var a=n[o];i[t[a]]=r[a]}}return i[e]},i=null,r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};t.exports=n},function(t,e){var n=function(t){return i[t]},i={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};t.exports=n},function(t,e,n){var i=n(44),r=n(47),o=function(t,e){for(var n={},o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),a=0;a<o;a++){var s=t.getActiveUniform(e,a),l=s.name.replace(/\[.*?\]/,""),u=i(t,s.type);n[l]={type:u,size:s.size,location:t.getUniformLocation(e,l),value:r(u,s.size)}}return n};t.exports=o},function(t,e){var n=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return i(2*e);case"bvec3":return i(3*e);case"bvec4":return i(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},i=function(t){for(var e=new Array(t),n=0;n<e.length;n++)e[n]=!1;return e};t.exports=n},function(t,e){var n=function(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t};t.exports=n},function(t,e){function n(t,e){return function(n){this.data[t].value=n;var i=this.data[t].location;1===e.size?a[e.type](this.gl,i,n):s[e.type](this.gl,i,n)}}function i(t,e){for(var n=e,i=0;i<t.length-1;i++){var r=n[t[i]]||{data:{}};n[t[i]]=r,n=r}return n}var r=function(t,e){var r={data:{}};r.gl=t;for(var a=Object.keys(e),s=0;s<a.length;s++){var l=a[s],u=l.split("."),h=u[u.length-1],c=i(u,r),d=e[l];c.data[h]=d,c.gl=t,Object.defineProperty(c,h,{get:o(h),set:n(h,d)})}return r},o=function(t){return function(){return this.data[t].value}},a={float:function(t,e,n){t.uniform1f(e,n)},vec2:function(t,e,n){t.uniform2f(e,n[0],n[1])},vec3:function(t,e,n){t.uniform3f(e,n[0],n[1],n[2])},vec4:function(t,e,n){t.uniform4f(e,n[0],n[1],n[2],n[3])},int:function(t,e,n){t.uniform1i(e,n)},ivec2:function(t,e,n){t.uniform2i(e,n[0],n[1])},ivec3:function(t,e,n){t.uniform3i(e,n[0],n[1],n[2])},ivec4:function(t,e,n){t.uniform4i(e,n[0],n[1],n[2],n[3])},bool:function(t,e,n){t.uniform1i(e,n)},bvec2:function(t,e,n){t.uniform2i(e,n[0],n[1])},bvec3:function(t,e,n){t.uniform3i(e,n[0],n[1],n[2])},bvec4:function(t,e,n){t.uniform4i(e,n[0],n[1],n[2],n[3])},mat2:function(t,e,n){t.uniformMatrix2fv(e,!1,n)},mat3:function(t,e,n){t.uniformMatrix3fv(e,!1,n)},mat4:function(t,e,n){t.uniformMatrix4fv(e,!1,n)},sampler2D:function(t,e,n){t.uniform1i(e,n)}},s={float:function(t,e,n){t.uniform1fv(e,n)},vec2:function(t,e,n){t.uniform2fv(e,n)},vec3:function(t,e,n){t.uniform3fv(e,n)},vec4:function(t,e,n){t.uniform4fv(e,n)},int:function(t,e,n){t.uniform1iv(e,n)},ivec2:function(t,e,n){t.uniform2iv(e,n)},ivec3:function(t,e,n){t.uniform3iv(e,n)},ivec4:function(t,e,n){t.uniform4iv(e,n)},bool:function(t,e,n){t.uniform1iv(e,n)},bvec2:function(t,e,n){t.uniform2iv(e,n)},bvec3:function(t,e,n){t.uniform3iv(e,n)},bvec4:function(t,e,n){t.uniform4iv(e,n)},sampler2D:function(t,e,n){t.uniform1iv(e,n)}};t.exports=r},function(t,e,n){function i(t,e){if(this.nativeVaoExtension=null,i.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var n=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(n),attribState:new Array(n)}}this.gl=t,this.attributes=[],
this.indexBuffer=null,this.dirty=!1}var r=n(37);i.prototype.constructor=i,t.exports=i,i.FORCE_NATIVE=!1,i.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},i.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},i.prototype.activate=function(){for(var t=this.gl,e=null,n=0;n<this.attributes.length;n++){var i=this.attributes[n];e!==i.buffer&&(i.buffer.bind(),e=i.buffer),t.vertexAttribPointer(i.attribute.location,i.attribute.size,i.type||t.FLOAT,i.normalized||!1,i.stride||0,i.start||0)}return r(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},i.prototype.addAttribute=function(t,e,n,i,r,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:n||this.gl.FLOAT,normalized:i||!1,stride:r||0,start:o||0}),this.dirty=!0,this},i.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},i.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},i.prototype.draw=function(t,e,n){var i=this.gl;return this.indexBuffer?i.drawElements(t,e||this.indexBuffer.data.length,i.UNSIGNED_SHORT,2*(n||0)):i.drawArrays(t,n,e||this.getSize()),this},i.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},i.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},function(t,e,n){t.exports={compileProgram:n(42),defaultValue:n(47),extractAttributes:n(43),extractUniforms:n(46),generateUniformAccessObject:n(49),setPrecision:n(48),mapSize:n(45),mapType:n(44)}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=n(25),o=function(){function t(){i(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-(1/0),this.maxY=-(1/0),this.rect=null}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-(1/0),this.maxY=-(1/0)},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?r.Rectangle.EMPTY:(t=t||new r.Rectangle(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,n=this.minY,i=this.maxX,r=this.maxY,o=t[0],a=t[1];e=o<e?o:e,n=a<n?a:n,i=o>i?o:i,r=a>r?a:r,o=t[2],a=t[3],e=o<e?o:e,n=a<n?a:n,i=o>i?o:i,r=a>r?a:r,o=t[4],a=t[5],e=o<e?o:e,n=a<n?a:n,i=o>i?o:i,r=a>r?a:r,o=t[6],a=t[7],e=o<e?o:e,n=a<n?a:n,i=o>i?o:i,r=a>r?a:r,this.minX=e,this.minY=n,this.maxX=i,this.maxY=r},t.prototype.addFrame=function(t,e,n,i,r){var o=t.worldTransform,a=o.a,s=o.b,l=o.c,u=o.d,h=o.tx,c=o.ty,d=this.minX,p=this.minY,f=this.maxX,_=this.maxY,m=a*e+l*n+h,y=s*e+u*n+c;d=m<d?m:d,p=y<p?y:p,f=m>f?m:f,_=y>_?y:_,m=a*i+l*n+h,y=s*i+u*n+c,d=m<d?m:d,p=y<p?y:p,f=m>f?m:f,_=y>_?y:_,m=a*e+l*r+h,y=s*e+u*r+c,d=m<d?m:d,p=y<p?y:p,f=m>f?m:f,_=y>_?y:_,m=a*i+l*r+h,y=s*i+u*r+c,d=m<d?m:d,p=y<p?y:p,f=m>f?m:f,_=y>_?y:_,this.minX=d,this.minY=p,this.maxX=f,this.maxY=_},t.prototype.addVertices=function(t,e,n,i){for(var r=t.worldTransform,o=r.a,a=r.b,s=r.c,l=r.d,u=r.tx,h=r.ty,c=this.minX,d=this.minY,p=this.maxX,f=this.maxY,_=n;_<i;_+=2){var m=e[_],y=e[_+1],v=o*m+s*y+u,g=l*y+a*m+h;c=v<c?v:c,d=g<d?g:d,p=v>p?v:p,f=g>f?g:f}this.minX=c,this.minY=d,this.maxX=p,this.maxY=f},t.prototype.addBounds=function(t){var e=this.minX,n=this.minY,i=this.maxX,r=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>r?t.maxY:r},t.prototype.addBoundsMask=function(t,e){var n=t.minX>e.minX?t.minX:e.minX,i=t.minY>e.minY?t.minY:e.minY,r=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(n<=r&&i<=o){var a=this.minX,s=this.minY,l=this.maxX,u=this.maxY;this.minX=n<a?n:a,this.minY=i<s?i:s,this.maxX=r>l?r:l,this.maxY=o>u?o:u}},t.prototype.addBoundsArea=function(t,e){var n=t.minX>e.x?t.minX:e.x,i=t.minY>e.y?t.minY:e.y,r=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(n<=r&&i<=o){var a=this.minX,s=this.minY,l=this.maxX,u=this.maxY;this.minX=n<a?n:a,this.minY=i<s?i:s,this.maxX=r>l?r:l,this.maxY=o>u?o:u}},t}();e.default=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(54),u=i(l),h=n(24),c=n(55),d=i(c),p=n(59),f=i(p),_=n(61),m=i(_),y=n(52),v=i(y),g=n(25),T=function(t){function e(){r(this,e);var n=o(this,t.call(this)),i=d.default.TRANSFORM_MODE===h.TRANSFORM_MODE.STATIC?f.default:m.default;return n.tempDisplayObjectParent=null,n.transform=new i,n.alpha=1,n.visible=!0,n.renderable=!0,n.parent=null,n.worldAlpha=1,n.filterArea=null,n._filters=null,n._enabledFilters=null,n._bounds=new v.default,n._boundsID=0,n._lastBoundsID=-1,n._boundsRect=null,n._localBoundsRect=null,n._mask=null,n._destroyed=!1,n}return a(e,t),e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new g.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new g.Rectangle),t=this._localBoundsRect);var i=this.getBounds(!1,t);return this.parent=n,this.transform=e,i},e.prototype.toGlobal=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,n,i){return e&&(t=e.toGlobal(t,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,n)},e.prototype.renderWebGL=function(t){},e.prototype.renderCanvas=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=n?n:1,this.scale.y=i?i:1,this.rotation=r,this.skew.x=o,this.skew.y=a,this.pivot.x=s,this.pivot.y=l,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},s(e,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:"scale",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:"skew",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:"worldVisible",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),e}(u.default);e.default=T,T.prototype.displayObjectUpdateTransform=T.prototype.updateTransform},function(t,e,n){"use strict";function i(){}function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(){this._events=new i,this._eventsCount=0}var a=Object.prototype.hasOwnProperty,s="~";Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(s=!1)),o.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)a.call(t,e)&&n.push(s?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},o.prototype.listeners=function(t,e){var n=s?s+t:t,i=this._events[n];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,a=new Array(o);r<o;r++)a[r]=i[r].fn;return a},o.prototype.emit=function(t,e,n,i,r,o){var a=s?s+t:t;if(!this._events[a])return!1;var l,u,h=this._events[a],c=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),c){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,n),!0;case 4:return h.fn.call(h.context,e,n,i),!0;case 5:return h.fn.call(h.context,e,n,i,r),!0;case 6:return h.fn.call(h.context,e,n,i,r,o),!0}for(u=1,l=new Array(c-1);u<c;u++)l[u-1]=arguments[u];h.fn.apply(h.context,l)}else{var d,p=h.length;for(u=0;u<p;u++)switch(h[u].once&&this.removeListener(t,h[u].fn,void 0,!0),c){case 1:h[u].fn.call(h[u].context);break;case 2:h[u].fn.call(h[u].context,e);break;case 3:h[u].fn.call(h[u].context,e,n);break;case 4:h[u].fn.call(h[u].context,e,n,i);break;default:if(!l)for(d=1,l=new Array(c-1);d<c;d++)l[d-1]=arguments[d];h[u].fn.apply(h[u].context,l)}}return!0},o.prototype.on=function(t,e,n){var i=new r(e,n||this),o=s?s+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):(this._events[o]=i,this._eventsCount++),this},o.prototype.once=function(t,e,n){var i=new r(e,n||this,!0),o=s?s+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):(this._events[o]=i,this._eventsCount++),this},o.prototype.removeListener=function(t,e,n,r){var o=s?s+t:t;if(!this._events[o])return this;if(!e)return 0===--this._eventsCount?this._events=new i:delete this._events[o],this;var a=this._events[o];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||(0===--this._eventsCount?this._events=new i:delete this._events[o]);else{for(var l=0,u=[],h=a.length;l<h;l++)(a[l].fn!==e||r&&!a[l].once||n&&a[l].context!==n)&&u.push(a[l]);u.length?this._events[o]=1===u.length?u[0]:u:0===--this._eventsCount?this._events=new i:delete this._events[o]}return this},o.prototype.removeAllListeners=function(t){var e;return t?(e=s?s+t:t,this._events[e]&&(0===--this._eventsCount?this._events=new i:delete this._events[e])):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=s,o.EventEmitter=o,t.exports=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(56),o=i(r),a=n(58),s=i(a);e.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,o.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,s.default)(),MESH_CANVAS_PADDING:0}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){return a.default.tablet||a.default.phone?4:t}e.__esModule=!0,e.default=r;var o=n(57),a=i(o)},function(t,e){!function(e){function n(t,e){return t.test(e)}function i(t){var e=t||("undefined"!=typeof navigator?navigator.userAgent:""),i=e.split("[FBAN");void 0!==i[1]&&(e=i[0]),void 0!==(i=e.split("Twitter"))[1]&&(e=i[0]);var v={apple:{phone:n(r,e)&&!n(c,e),ipod:n(o,e),tablet:!n(r,e)&&n(a,e)&&!n(c,e),device:(n(r,e)||n(o,e)||n(a,e))&&!n(c,e)},amazon:{phone:n(u,e),tablet:!n(u,e)&&n(h,e),device:n(u,e)||n(h,e)},android:{phone:!n(c,e)&&n(u,e)||!n(c,e)&&n(s,e),tablet:!n(c,e)&&!n(u,e)&&!n(s,e)&&(n(h,e)||n(l,e)),device:!n(c,e)&&(n(u,e)||n(h,e)||n(s,e)||n(l,e))||n(/\bokhttp\b/i,e)},windows:{phone:n(c,e),tablet:n(d,e),device:n(c,e)||n(d,e)},other:{blackberry:n(p,e),blackberry10:n(f,e),opera:n(_,e),firefox:n(y,e),chrome:n(m,e),device:n(p,e)||n(f,e)||n(_,e)||n(y,e)||n(m,e)}};return v.any=v.apple.device||v.android.device||v.windows.device||v.other.device,v.phone=v.apple.phone||v.android.phone||v.windows.phone,v.tablet=v.apple.tablet||v.android.tablet||v.windows.tablet,v}var r=/iPhone/i,o=/iPod/i,a=/iPad/i,s=/\bAndroid(?:.+)Mobile\b/i,l=/Android/i,u=/\bAndroid(?:.+)SD4930UR\b/i,h=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,c=/Windows Phone/i,d=/\bWindows(?:.+)ARM\b/i,p=/BlackBerry/i,f=/BB10/i,_=/Opera Mini/i,m=/\b(CriOS|Chrome)(?:.+)Mobile/i,y=/Mobile(?:.+)Firefox\b/i;"undefined"!=typeof t&&t.exports&&"undefined"==typeof window?t.exports=i:"undefined"!=typeof t&&t.exports&&"undefined"!=typeof window?(t.exports=i(),t.exports.isMobile=i):"function"==typeof define&&define.amd?define([],e.isMobile=i()):e.isMobile=i()}(this)},function(t,e){"use strict";function n(){var t=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);return!t}e.__esModule=!0,e.default=n},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(25),u=n(60),h=i(u),c=function(t){function e(){r(this,e);var n=o(this,t.call(this));return n.position=new l.ObservablePoint(n.onChange,n,0,0),n.scale=new l.ObservablePoint(n.onChange,n,1,1),n.pivot=new l.ObservablePoint(n.onChange,n,0,0),n.skew=new l.ObservablePoint(n.updateSkew,n,0,0),n._rotation=0,n._cx=1,n._sx=0,n._cy=0,n._sy=1,n._localID=0,n._currentLocalID=0,n}return a(e,t),e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var n=t.worldTransform,i=this.worldTransform;i.a=e.a*n.a+e.b*n.c,i.b=e.a*n.b+e.b*n.d,i.c=e.c*n.a+e.d*n.c,i.d=e.c*n.b+e.d*n.d,i.tx=e.tx*n.a+e.ty*n.c+n.tx,i.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},s(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}}]),e}(h.default);e.default=c},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=n(25),o=function(){function t(){i(this,t),this.worldTransform=new r.Matrix,this.localTransform=new r.Matrix,this._worldID=0,this._parentID=0}return t.prototype.updateLocalTransform=function(){},t.prototype.updateTransform=function(t){var e=t.worldTransform,n=this.worldTransform,i=this.localTransform;n.a=i.a*e.a+i.b*e.c,n.b=i.a*e.b+i.b*e.d,n.c=i.c*e.a+i.d*e.c,n.d=i.c*e.b+i.d*e.d,n.tx=i.tx*e.a+i.ty*e.c+e.tx,n.ty=i.tx*e.b+i.ty*e.d+e.ty,this._worldID++},t}();e.default=o,o.prototype.updateWorldTransform=o.prototype.updateTransform,o.IDENTITY=new o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(25),u=n(60),h=i(u),c=function(t){function e(){r(this,e);var n=o(this,t.call(this));return n.position=new l.Point(0,0),n.scale=new l.Point(1,1),n.skew=new l.ObservablePoint(n.updateSkew,n,0,0),n.pivot=new l.Point(0,0),n._rotation=0,n._cx=1,n._sx=0,n._cy=0,n._sy=1,n}return a(e,t),e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},e.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},e.prototype.updateTransform=function(t){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);var n=t.worldTransform,i=this.worldTransform;i.a=e.a*n.a+e.b*n.c,i.b=e.a*n.b+e.b*n.d,i.c=e.c*n.a+e.d*n.c,i.d=e.c*n.b+e.d*n.d,i.tx=e.tx*n.a+e.ty*n.c+n.tx,i.ty=e.tx*n.b+e.ty*n.d+n.ty,this._worldID++},e.prototype.setFromMatrix=function(t){t.decompose(this)},s(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(h.default);e.default=c},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(63),u=n(53),h=i(u),c=function(t){function e(){r(this,e);var n=o(this,t.call(this));return n.children=[],n}return a(e,t),e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var n=0;n<e;n++)this.addChild(arguments[n]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),t},e.prototype.swapChildren=function(t,e){if(t!==e){var n=this.getChildIndex(t),i=this.getChildIndex(e);this.children[n]=e,this.children[i]=t,this.onChildrenChange(n<i?n:i)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var n=this.getChildIndex(t);(0,l.removeItems)(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var n=0;n<e;n++)this.removeChild(arguments[n]);else{var i=this.children.indexOf(t);if(i===-1)return null;t.parent=null,t.transform._parentID=-1,(0,l.removeItems)(this.children,i,1),this._boundsID++,this.onChildrenChange(i),t.emit("removed",this)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,l.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),e},e.prototype.removeChildren=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],n=t,i="number"==typeof e?e:this.children.length,r=i-n,o=void 0;if(r>0&&r<=i){o=this.children.splice(n,r);for(var a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var s=0;s<o.length;++s)o[s].emit("removed",this);return o}if(0===r&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var n=this.children[t];n.visible&&n.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,n=this.children.length;e<n;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.flush();var e=this._filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var i=0;i<e.length;i++)e[i].enabled&&this._enabledFilters.push(e[i]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}n&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var r=0,o=this.children.length;r<o;r++)this.children[r].renderWebGL(t);t.flush(),n&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype._renderCanvas=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,n=this.children.length;e<n;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},e.prototype.destroy=function(e){t.prototype.destroy.call(this);var n="boolean"==typeof e?e:e&&e.children,i=this.removeChildren(0,this.children.length);if(n)for(var r=0;r<i.length;++r)i[r].destroy(e)},s(e,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;0!==e?this.scale.x=t/e:this.scale.x=1,this._width=t}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;0!==e?this.scale.y=t/e:this.scale.y=1,this._height=t}}]),e}(h.default);e.default=c,c.prototype.containerUpdateTransform=c.prototype.updateTransform},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(){return++H}function a(t,e){return e=e||[],e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function s(t){return t=t.toString(16),t="000000".substr(0,6-t.length)+t,"#"+t}function l(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}function u(t,e){var n=w.default.RETINA_PREFIX.exec(t);return n?parseFloat(n[1]):void 0!==e?e:1}function h(t){var e=S.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function c(t){var e=S.URL_FILE_EXTENSION.exec(t);if(e)return e[1].toLowerCase()}function d(t){var e=S.SVG_SIZE.exec(t),n={};return e&&(n[e[1]]=Math.round(parseFloat(e[3])),n[e[5]]=Math.round(parseFloat(e[7]))),n}function p(){U=!0}function f(t){if(!U){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c PixiJS "+S.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS "+S.VERSION+" - "+t+" - http://www.pixijs.com/");U=!0}}function _(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),i=!(!n||!n.getContextAttributes().stencil);if(n){var r=n.getExtension("WEBGL_lose_context");r&&r.loseContext()}return n=null,i}catch(t){return!1}}function m(t){return 0===t?0:t<0?-1:1}function y(){var t=void 0;for(t in V)V[t].destroy();for(t in j)j[t].destroy()}function v(){var t=void 0;for(t in V)delete V[t];for(t in j)delete j[t]}function g(t,e){return Y[e?1:0][t]}function T(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var n=t>>16&255,i=t>>8&255,r=255&t;return n=n*e+.5|0,i=i*e+.5|0,r=r*e+.5|0,(255*e<<24)+(n<<16)+(i<<8)+r}function A(t,e,n,i){return n=n||new Float32Array(4),i||void 0===i?(n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e):(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=e,n}function b(t,e,n,i){return n=n||new Float32Array(4),n[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(255&t)/255,(i||void 0===i)&&(n[0]*=e,n[1]*=e,n[2]*=e),n[3]=e,n}e.__esModule=!0,e.premultiplyBlendMode=e.BaseTextureCache=e.TextureCache=e.earcut=e.mixins=e.pluginTarget=e.EventEmitter=e.removeItems=e.isMobile=void 0,e.uid=o,e.hex2rgb=a,e.hex2string=s,e.rgb2hex=l,e.getResolutionOfUrl=u,e.decomposeDataUri=h,e.getUrlFileExtension=c,e.getSvgSize=d,e.skipHello=p,e.sayHello=f,e.isWebGLSupported=_,e.sign=m,e.destroyTextureCache=y,e.clearTextureCache=v,e.correctBlendMode=g,e.premultiplyTint=T,e.premultiplyRgba=A,e.premultiplyTintToRgba=b;var S=n(24),E=n(55),w=r(E),C=n(54),P=r(C),x=n(64),M=r(x),O=n(65),D=i(O),I=n(57),N=i(I),L=n(66),B=r(L),R=n(67),k=r(R),G=n(68),F=r(G),H=0,U=!1;e.isMobile=N,e.removeItems=B.default,e.EventEmitter=P.default,e.pluginTarget=M.default,e.mixins=D,e.earcut=F.default;var V=e.TextureCache=Object.create(null),j=e.BaseTextureCache=Object.create(null),Y=e.premultiplyBlendMode=(0,
k.default)()},function(t,e){"use strict";function n(t){t.__plugins={},t.registerPlugin=function(e,n){t.__plugins[e]=n},t.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var e in t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}e.__esModule=!0,e.default={mixin:function(t){n(t)}}},function(t,e){"use strict";function n(t,e){if(t&&e)for(var n=Object.keys(e),i=0;i<n.length;++i){var r=n[i];Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}}function i(t,e){o.push(t,e)}function r(){for(var t=0;t<o.length;t+=2)n(o[t],o[t+1]);o.length=0}e.__esModule=!0,e.mixin=n,e.delayMixin=i,e.performMixins=r;var o=[]},function(t,e){"use strict";t.exports=function(t,e,n){var i,r=t.length;if(!(e>=r||0===n)){n=e+n>r?r-e:n;var o=r-n;for(i=e;i<o;++i)t[i]=t[i+n];t.length=o}}},function(t,e,n){"use strict";function i(){for(var t=[],e=[],n=0;n<32;n++)t[n]=n,e[n]=n;t[r.BLEND_MODES.NORMAL_NPM]=r.BLEND_MODES.NORMAL,t[r.BLEND_MODES.ADD_NPM]=r.BLEND_MODES.ADD,t[r.BLEND_MODES.SCREEN_NPM]=r.BLEND_MODES.SCREEN,e[r.BLEND_MODES.NORMAL]=r.BLEND_MODES.NORMAL_NPM,e[r.BLEND_MODES.ADD]=r.BLEND_MODES.ADD_NPM,e[r.BLEND_MODES.SCREEN]=r.BLEND_MODES.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i}e.__esModule=!0,e.default=i;var r=n(24)},function(t,e){"use strict";function n(t,e,n){n=n||2;var r=e&&e.length,a=r?e[0]*n:t.length,s=i(t,0,a,n,!0),l=[];if(!s||s.next===s.prev)return l;var u,c,d,p,f,_,m;if(r&&(s=h(t,e,s,n)),t.length>80*n){u=d=t[0],c=p=t[1];for(var y=n;y<a;y+=n)f=t[y],_=t[y+1],f<u&&(u=f),_<c&&(c=_),f>d&&(d=f),_>p&&(p=_);m=Math.max(d-u,p-c),m=0!==m?1/m:0}return o(s,l,n,u,c,m),l}function i(t,e,n,i,r){var o,a;if(r===N(t,e,n,i)>0)for(o=e;o<n;o+=i)a=O(o,t[o],t[o+1],a);else for(o=n-i;o>=e;o-=i)a=O(o,t[o],t[o+1],a);return a&&b(a,a.next)&&(D(a),a=a.next),a}function r(t,e){if(!t)return t;e||(e=t);var n,i=t;do if(n=!1,i.steiner||!b(i,i.next)&&0!==A(i.prev,i,i.next))i=i.next;else{if(D(i),i=e=i.prev,i===i.next)break;n=!0}while(n||i!==e);return e}function o(t,e,n,i,h,c,d){if(t){!d&&c&&_(t,i,h,c);for(var p,f,m=t;t.prev!==t.next;)if(p=t.prev,f=t.next,c?s(t,i,h,c):a(t))e.push(p.i/n),e.push(t.i/n),e.push(f.i/n),D(t),t=f.next,m=f.next;else if(t=f,t===m){d?1===d?(t=l(r(t),e,n),o(t,e,n,i,h,c,2)):2===d&&u(t,e,n,i,h,c):o(r(t),e,n,i,h,c,1);break}}}function a(t){var e=t.prev,n=t,i=t.next;if(A(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(g(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&A(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function s(t,e,n,i){var r=t.prev,o=t,a=t.next;if(A(r,o,a)>=0)return!1;for(var s=r.x<o.x?r.x<a.x?r.x:a.x:o.x<a.x?o.x:a.x,l=r.y<o.y?r.y<a.y?r.y:a.y:o.y<a.y?o.y:a.y,u=r.x>o.x?r.x>a.x?r.x:a.x:o.x>a.x?o.x:a.x,h=r.y>o.y?r.y>a.y?r.y:a.y:o.y>a.y?o.y:a.y,c=y(s,l,e,n,i),d=y(u,h,e,n,i),p=t.prevZ,f=t.nextZ;p&&p.z>=c&&f&&f.z<=d;){if(p!==t.prev&&p!==t.next&&g(r.x,r.y,o.x,o.y,a.x,a.y,p.x,p.y)&&A(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,f!==t.prev&&f!==t.next&&g(r.x,r.y,o.x,o.y,a.x,a.y,f.x,f.y)&&A(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&g(r.x,r.y,o.x,o.y,a.x,a.y,p.x,p.y)&&A(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;f&&f.z<=d;){if(f!==t.prev&&f!==t.next&&g(r.x,r.y,o.x,o.y,a.x,a.y,f.x,f.y)&&A(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function l(t,e,n){var i=t;do{var o=i.prev,a=i.next.next;!b(o,a)&&S(o,i,i.next,a)&&P(o,a)&&P(a,o)&&(e.push(o.i/n),e.push(i.i/n),e.push(a.i/n),D(i),D(i.next),i=t=a),i=i.next}while(i!==t);return r(i)}function u(t,e,n,i,a,s){var l=t;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&T(l,u)){var h=M(l,u);return l=r(l,l.next),h=r(h,h.next),o(l,e,n,i,a,s),void o(h,e,n,i,a,s)}u=u.next}l=l.next}while(l!==t)}function h(t,e,n,o){var a,s,l,u,h,p=[];for(a=0,s=e.length;a<s;a++)l=e[a]*o,u=a<s-1?e[a+1]*o:t.length,h=i(t,l,u,o,!1),h===h.next&&(h.steiner=!0),p.push(v(h));for(p.sort(c),a=0;a<p.length;a++)d(p[a],n),n=r(n,n.next);return n}function c(t,e){return t.x-e.x}function d(t,e){if(e=p(t,e)){var n=M(e,t);r(e,e.next),r(n,n.next)}}function p(t,e){var n,i=e,r=t.x,o=t.y,a=-(1/0);do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var s=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&s>a){if(a=s,s===r){if(o===i.y)return i;if(o===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===a)return n;var l,u=n,h=n.x,c=n.y,d=1/0;i=n;do r>=i.x&&i.x>=h&&r!==i.x&&g(o<c?r:a,o,h,c,o<c?a:r,o,i.x,i.y)&&(l=Math.abs(o-i.y)/(r-i.x),P(i,t)&&(l<d||l===d&&(i.x>n.x||i.x===n.x&&f(n,i)))&&(n=i,d=l)),i=i.next;while(i!==u);return n}function f(t,e){return A(t.prev,t,e.prev)<0&&A(e.next,t,t.next)<0}function _(t,e,n,i){var r=t;do null===r.z&&(r.z=y(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,m(r)}function m(t){var e,n,i,r,o,a,s,l,u=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,i=n,s=0,e=0;e<u&&(s++,i=i.nextZ,i);e++);for(l=u;s>0||l>0&&i;)0!==s&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,u*=2}while(a>1);return t}function y(t,e,n,i,r){return t=32767*(t-n)*r,e=32767*(e-i)*r,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function v(t){var e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function g(t,e,n,i,r,o,a,s){return(r-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(i-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(r-a)*(i-s)>=0}function T(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!C(t,e)&&(P(t,e)&&P(e,t)&&x(t,e)&&(A(t.prev,t,e.prev)||A(t,e.prev,e))||b(t,e)&&A(t.prev,t,t.next)>0&&A(e.prev,e,e.next)>0)}function A(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function b(t,e){return t.x===e.x&&t.y===e.y}function S(t,e,n,i){var r=w(A(t,e,n)),o=w(A(t,e,i)),a=w(A(n,i,t)),s=w(A(n,i,e));return r!==o&&a!==s||(!(0!==r||!E(t,n,e))||(!(0!==o||!E(t,i,e))||(!(0!==a||!E(n,t,i))||!(0!==s||!E(n,e,i)))))}function E(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function w(t){return t>0?1:t<0?-1:0}function C(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&S(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function P(t,e){return A(t.prev,t,t.next)<0?A(t,e,t.next)>=0&&A(t,t.prev,e)>=0:A(t,e,t.prev)<0||A(t,t.next,e)<0}function x(t,e){var n=t,i=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function M(t,e){var n=new I(t.i,t.x,t.y),i=new I(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function O(t,e,n,i){var r=new I(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function D(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function I(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function N(t,e,n,i){for(var r=0,o=e,a=n-i;o<n;o+=i)r+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return r}t.exports=n,t.exports.default=n,n.deviation=function(t,e,n,i){var r=e&&e.length,o=r?e[0]*n:t.length,a=Math.abs(N(t,0,o,n));if(r)for(var s=0,l=e.length;s<l;s++){var u=e[s]*n,h=s<l-1?e[s+1]*n:t.length;a-=Math.abs(N(t,u,h,n))}var c=0;for(s=0;s<i.length;s+=3){var d=i[s]*n,p=i[s+1]*n,f=i[s+2]*n;c+=Math.abs((t[d]-t[f])*(t[p+1]-t[d+1])-(t[d]-t[p])*(t[f+1]-t[d+1]))}return 0===a&&0===c?0:Math.abs((c-a)/a)},n.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[r][o][a]);r>0&&(i+=t[r-1].length,n.holes.push(i))}return n}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(25),u=n(63),h=n(24),c=n(70),d=i(c),p=n(62),f=i(p),_=new l.Point,m=function(t){function e(n){r(this,e);var i=o(this,t.call(this));return i._anchor=new l.ObservablePoint(i._onAnchorUpdate,i,n?n.defaultAnchor.x:0,n?n.defaultAnchor.y:0),i._texture=null,i._width=0,i._height=0,i._tint=null,i._tintRGB=null,i.tint=16777215,i.blendMode=h.BLEND_MODES.NORMAL,i.shader=null,i.cachedTint=16777215,i.texture=n||d.default.EMPTY,i.vertexData=new Float32Array(8),i.vertexTrimmedData=null,i._transformID=-1,i._textureID=-1,i._transformTrimmedID=-1,i._textureTrimmedID=-1,i.pluginName="sprite",i}return a(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,u.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,u.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,n=e.a,i=e.b,r=e.c,o=e.d,a=e.tx,s=e.ty,l=this.vertexData,u=t.trim,h=t.orig,c=this._anchor,d=0,p=0,f=0,_=0;u?(p=u.x-c._x*h.width,d=p+u.width,_=u.y-c._y*h.height,f=_+u.height):(p=-c._x*h.width,d=p+h.width,_=-c._y*h.height,f=_+h.height),l[0]=n*p+r*_+a,l[1]=o*_+i*p+s,l[2]=n*d+r*_+a,l[3]=o*_+i*d+s,l[4]=n*d+r*f+a,l[5]=o*f+i*d+s,l[6]=n*p+r*f+a,l[7]=o*f+i*p+s}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,n=t.orig,i=this._anchor,r=this.transform.worldTransform,o=r.a,a=r.b,s=r.c,l=r.d,u=r.tx,h=r.ty,c=-i._x*n.width,d=c+n.width,p=-i._y*n.height,f=p+n.height;e[0]=o*c+s*p+u,e[1]=l*p+a*c+h,e[2]=o*d+s*p+u,e[3]=l*p+a*d+h,e[4]=o*d+s*f+u,e[5]=l*f+a*d+h,e[6]=o*c+s*f+u,e[7]=l*f+a*c+h},e.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new l.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,_);var e=this._texture.orig.width,n=this._texture.orig.height,i=-e*this.anchor.x,r=0;return _.x>=i&&_.x<i+e&&(r=-n*this.anchor.y,_.y>=r&&_.y<r+n)},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n="boolean"==typeof e?e:e&&e.texture;if(n){var i="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!i)}this._texture=null,this.shader=null},e.from=function(t){return new e(d.default.from(t))},e.fromFrame=function(t){var n=u.TextureCache[t];if(!n)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new e(n)},e.fromImage=function(t,n,i){return new e(d.default.fromImage(t,n,i))},s(e,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,u.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,u.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t||d.default.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}]),e}(f.default);e.default=m},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(){var t=document.createElement("canvas");t.width=10,t.height=10;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,10,10),new b(new c.default(t))}function l(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}e.__esModule=!0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=n(71),c=i(h),d=n(80),p=i(d),f=n(84),_=i(f),m=n(54),y=i(m),v=n(25),g=n(63),T=n(55),A=i(T),b=function(t){function e(n,i,a,s,l,u){r(this,e);var h=o(this,t.call(this));if(h.noFrame=!1,i||(h.noFrame=!0,i=new v.Rectangle(0,0,1,1)),n instanceof e&&(n=n.baseTexture),h.baseTexture=n,h._frame=i,h.trim=s,h.valid=!1,h.requiresUpdate=!1,h._uvs=null,h.orig=a||i,h._rotate=Number(l||0),l===!0)h._rotate=2;else if(h._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return n.hasLoaded?(h.noFrame&&(i=new v.Rectangle(0,0,n.width,n.height),n.on("update",h.onBaseTextureUpdated,h)),h.frame=i):n.once("loaded",h.onBaseTextureLoaded,h),h.defaultAnchor=u?new v.Point(u.x,u.y):new v.Point(0,0),h._updateID=0,h.transform=null,h.textureCacheIds=[],h}return a(e,t),e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function(t){this._updateID++,this.noFrame?this.frame=new v.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},e.prototype.onBaseTextureUpdated=function(t){this._updateID++,this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},e.prototype.destroy=function(t){this.baseTexture&&(t&&(g.TextureCache[this.baseTexture.imageUrl]&&e.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},e.prototype._updateUvs=function(){this._uvs||(this._uvs=new _.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.fromImage=function(t,n,i,r){var o=g.TextureCache[t];return o||(o=new e(c.default.fromImage(t,n,i,r)),e.addToCache(o,t)),o},e.fromFrame=function(t){var e=g.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},e.fromCanvas=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";return new e(c.default.fromCanvas(t,n,i))},e.fromVideo=function(t,n,i,r){return"string"==typeof t?e.fromVideoUrl(t,n,i,r):new e(p.default.fromVideo(t,n,r))},e.fromVideoUrl=function(t,n,i,r){return new e(p.default.fromUrl(t,n,i,r))},e.from=function(t){if("string"==typeof t){var n=g.TextureCache[t];if(!n){var i=null!==t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/);return i?e.fromVideoUrl(t):e.fromImage(t)}return n}return t instanceof HTMLImageElement?new e(c.default.from(t)):t instanceof HTMLCanvasElement?e.fromCanvas(t,A.default.SCALE_MODE,"HTMLCanvasElement"):t instanceof HTMLVideoElement?e.fromVideo(t):t instanceof c.default?new e(t):t},e.fromLoader=function(t,n,i){var r=new c.default(t,void 0,(0,g.getResolutionOfUrl)(n)),o=new e(r);return r.imageUrl=n,i||(i=n),c.default.addToCache(o.baseTexture,i),e.addToCache(o,i),i!==n&&(c.default.addToCache(o.baseTexture,n),e.addToCache(o,n)),o},e.addToCache=function(t,e){e&&(t.textureCacheIds.indexOf(e)===-1&&t.textureCacheIds.push(e),g.TextureCache[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),g.TextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=g.TextureCache[t];if(e){var n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete g.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)g.TextureCache[t.textureCacheIds[i]]===t&&delete g.TextureCache[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},u(e,[{key:"frame",get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,n=t.y,i=t.width,r=t.height,o=e+i>this.baseTexture.width,a=n+r>this.baseTexture.height;if(o||a){var s=o&&a?"and":"or",l="X: "+e+" + "+i+" = "+(e+i)+" > "+this.baseTexture.width,u="Y: "+n+" + "+r+" = "+(n+r)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(l+" "+s+" "+u))}this.valid=i&&r&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),e}(y.default);e.default=b,b.EMPTY=new b(new c.default),l(b.EMPTY),l(b.EMPTY.baseTexture),b.WHITE=s(),l(b.WHITE),l(b.WHITE.baseTexture)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(63),l=n(55),u=i(l),h=n(54),c=i(h),d=n(72),p=i(d),f=n(79),_=i(f),m=function(t){function e(n,i,a){r(this,e);var l=o(this,t.call(this));return l.uid=(0,s.uid)(),l.touched=0,l.resolution=a||u.default.RESOLUTION,l.width=100,l.height=100,l.realWidth=100,l.realHeight=100,l.scaleMode=void 0!==i?i:u.default.SCALE_MODE,l.hasLoaded=!1,l.isLoading=!1,l.source=null,l.origSource=null,l.imageType=null,l.sourceScale=1,l.premultipliedAlpha=!0,l.imageUrl=null,l.isPowerOfTwo=!1,l.mipmap=u.default.MIPMAP_TEXTURES,l.wrapMode=u.default.WRAP_MODE,l._glTextures={},l._enabled=0,l._virtalBoundId=-1,l._destroyed=!1,l.textureCacheIds=[],n&&l.loadSource(n),l}return a(e,t),e.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},e.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=_.default.isPow2(this.realWidth)&&_.default.isPow2(this.realHeight)},e.prototype.loadSource=function(t){var e=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null);var n=!this.source;if(this.source=t,(t.src&&t.complete||t.getContext)&&t.width&&t.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),n&&this.emit("loaded",this);else if(!t.getContext){this.isLoading=!0;var i=this;if(t.onload=function(){if(i._updateImageType(),t.onload=null,t.onerror=null,i.isLoading)return i.isLoading=!1,i._sourceLoaded(),"svg"===i.imageType?void i._loadSvgSource():void i.emit("loaded",i)},t.onerror=function(){t.onload=null,t.onerror=null,i.isLoading&&(i.isLoading=!1,i.emit("error",i))},t.complete&&t.src){if(t.onload=null,t.onerror=null,"svg"===i.imageType)return void i._loadSvgSource();this.isLoading=!1,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this)}}},e.prototype._updateImageType=function(){if(this.imageUrl){var t=(0,s.decomposeDataUri)(this.imageUrl),e=void 0;if(t&&"image"===t.mediaType){var n=t.subType.split("+")[0];if(e=(0,s.getUrlFileExtension)("."+n),!e)throw new Error("Invalid image type in data URI.")}else e=(0,s.getUrlFileExtension)(this.imageUrl),e||(e="png");this.imageType=e}},e.prototype._loadSvgSource=function(){if("svg"===this.imageType){var t=(0,s.decomposeDataUri)(this.imageUrl);t?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr()}},e.prototype._loadSvgSourceUsingDataUri=function(t){var e=void 0;if("base64"===t.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");e=atob(t.data)}else e=t.data;this._loadSvgSourceUsingString(e)},e.prototype._loadSvgSourceUsingXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error("Failed to load SVG using XHR.");t._loadSvgSourceUsingString(e.response)},e.onerror=function(){return t.emit("error",t)},e.open("GET",this.imageUrl,!0),e.send()},e.prototype._loadSvgSourceUsingString=function(t){var n=(0,s.getSvgSize)(t),i=n.width,r=n.height;if(!i||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(i*this.sourceScale),this.realHeight=Math.round(r*this.sourceScale),this._updateDimensions();var o=document.createElement("canvas");o.width=this.realWidth,o.height=this.realHeight,o._pixiId="canvas_"+(0,s.uid)(),o.getContext("2d").drawImage(this.source,0,0,i,r,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=o,e.addToCache(this,o._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},e.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},e.prototype.destroy=function(){this.imageUrl&&(delete s.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},e.fromImage=function(t,n,i,r){var o=s.BaseTextureCache[t];if(!o){var a=new Image;void 0===n&&0!==t.indexOf("data:")?a.crossOrigin=(0,p.default)(t):n&&(a.crossOrigin="string"==typeof n?n:"anonymous"),o=new e(a,i),o.imageUrl=t,r&&(o.sourceScale=r),o.resolution=(0,s.getResolutionOfUrl)(t),a.src=t,e.addToCache(o,t)}return o},e.fromCanvas=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";t._pixiId||(t._pixiId=i+"_"+(0,s.uid)());var r=s.BaseTextureCache[t._pixiId];return r||(r=new e(t,n),e.addToCache(r,t._pixiId)),r},e.from=function(t,n,i){if("string"==typeof t)return e.fromImage(t,void 0,n,i);if(t instanceof HTMLImageElement){var r=t.src,o=s.BaseTextureCache[r];return o||(o=new e(t,n),o.imageUrl=r,i&&(o.sourceScale=i),o.resolution=(0,s.getResolutionOfUrl)(r),e.addToCache(o,r)),o}return t instanceof HTMLCanvasElement?e.fromCanvas(t,n):t},e.addToCache=function(t,e){e&&(t.textureCacheIds.indexOf(e)===-1&&t.textureCacheIds.push(e),s.BaseTextureCache[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),s.BaseTextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=s.BaseTextureCache[t];if(e){var n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete s.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete s.BaseTextureCache[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},e}(c.default);e.default=m},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf("data:"))return"";e=e||window.location,s||(s=document.createElement("a")),s.href=t,t=a.default.parse(s.href);var n=!t.port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&n&&t.protocol===e.protocol?"":"anonymous"}e.__esModule=!0,e.default=r;var o=n(73),a=i(o),s=void 0},function(t,e,n){function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function r(t,e,n){if(t&&u(t)&&t instanceof i)return t;var r=new i;return r.parse(t,e,n),r}function o(t){return l(t)&&(t=r(t)),t instanceof i?t.format():i.prototype.format.call(t)}function a(t,e){return r(t,!1,!0).resolve(e)}function s(t,e){return t?r(t,!1,!0).resolveObject(e):e}function l(t){return"string"==typeof t}function u(t){return"object"==typeof t&&null!==t}function h(t){return null===t}function c(t){return null==t}var d=n(74);e.parse=r,e.resolve=a,e.resolveObject=s,e.format=o,e.Url=i;var p=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,_=["<",">",'"',"`"," ","\r","\n","\t"],m=["{","}","|","\\","^","`"].concat(_),y=["'"].concat(m),v=["%","/","?",";","#"].concat(y),g=["/","?","#"],T=255,A=/^[a-z0-9A-Z_-]{0,63}$/,b=/^([a-z0-9A-Z_-]{0,63})(.*)$/,S={javascript:!0,"javascript:":!0},E={javascript:!0,"javascript:":!0},w={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},C=n(76);i.prototype.parse=function(t,e,n){if(!l(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t;i=i.trim();var r=p.exec(i);if(r){r=r[0];var o=r.toLowerCase();this.protocol=o,i=i.substr(r.length)}if(n||r||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var a="//"===i.substr(0,2);!a||r&&E[r]||(i=i.substr(2),this.slashes=!0)}if(!E[r]&&(a||r&&!w[r])){for(var s=-1,u=0;u<g.length;u++){var h=i.indexOf(g[u]);h!==-1&&(s===-1||h<s)&&(s=h)}var c,f;f=s===-1?i.lastIndexOf("@"):i.lastIndexOf("@",s),f!==-1&&(c=i.slice(0,f),i=i.slice(f+1),this.auth=decodeURIComponent(c)),s=-1;for(var u=0;u<v.length;u++){var h=i.indexOf(v[u]);h!==-1&&(s===-1||h<s)&&(s=h)}s===-1&&(s=i.length),this.host=i.slice(0,s),i=i.slice(s),this.parseHost(),this.hostname=this.hostname||"";var _="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!_)for(var m=this.hostname.split(/\./),u=0,P=m.length;u<P;u++){var x=m[u];if(x&&!x.match(A)){for(var M="",O=0,D=x.length;O<D;O++)M+=x.charCodeAt(O)>127?"x":x[O];if(!M.match(A)){var I=m.slice(0,u),N=m.slice(u+1),L=x.match(b);L&&(I.push(L[1]),N.unshift(L[2])),N.length&&(i="/"+N.join(".")+i),this.hostname=I.join(".");break}}}if(this.hostname.length>T?this.hostname="":this.hostname=this.hostname.toLowerCase(),!_){for(var B=this.hostname.split("."),R=[],u=0;u<B.length;++u){var k=B[u];R.push(k.match(/[^A-Za-z0-9_-]/)?"xn--"+d.encode(k):k)}this.hostname=R.join(".")}var G=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+G,this.href+=this.host,_&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!S[o])for(var u=0,P=y.length;u<P;u++){var H=y[u],U=encodeURIComponent(H);U===H&&(U=escape(H)),i=i.split(H).join(U)}var V=i.indexOf("#");V!==-1&&(this.hash=i.substr(V),i=i.slice(0,V));var j=i.indexOf("?");if(j!==-1?(this.search=i.substr(j),this.query=i.substr(j+1),e&&(this.query=C.parse(this.query)),i=i.slice(0,j)):e&&(this.search="",this.query={}),i&&(this.pathname=i),w[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var G=this.pathname||"",k=this.search||"";this.path=G+k}return this.href=this.format(),this},i.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",i=this.hash||"",r=!1,o="";this.host?r=t+this.host:this.hostname&&(r=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&u(this.query)&&Object.keys(this.query).length&&(o=C.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||w[e])&&r!==!1?(r="//"+(r||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):r||(r=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),e+r+n+a+i},i.prototype.resolve=function(t){return this.resolveObject(r(t,!1,!0)).format()},i.prototype.resolveObject=function(t){if(l(t)){var e=new i;e.parse(t,!1,!0),t=e}var n=new i;if(Object.keys(this).forEach(function(t){n[t]=this[t]},this),n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(e){"protocol"!==e&&(n[e]=t[e])}),w[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(t.protocol&&t.protocol!==n.protocol){if(!w[t.protocol])return Object.keys(t).forEach(function(e){n[e]=t[e]}),n.href=n.format(),n;if(n.protocol=t.protocol,t.host||E[t.protocol])n.pathname=t.pathname;else{for(var r=(t.pathname||"").split("/");r.length&&!(t.host=r.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==r[0]&&r.unshift(""),r.length<2&&r.unshift(""),n.pathname=r.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var o=n.pathname||"",a=n.search||"";n.path=o+a}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var s=n.pathname&&"/"===n.pathname.charAt(0),u=t.host||t.pathname&&"/"===t.pathname.charAt(0),d=u||s||n.host&&t.pathname,p=d,f=n.pathname&&n.pathname.split("/")||[],r=t.pathname&&t.pathname.split("/")||[],_=n.protocol&&!w[n.protocol];if(_&&(n.hostname="",n.port=null,n.host&&(""===f[0]?f[0]=n.host:f.unshift(n.host)),
n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===r[0]?r[0]=t.host:r.unshift(t.host)),t.host=null),d=d&&(""===r[0]||""===f[0])),u)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,f=r;else if(r.length)f||(f=[]),f.pop(),f=f.concat(r),n.search=t.search,n.query=t.query;else if(!c(t.search)){if(_){n.hostname=n.host=f.shift();var m=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");m&&(n.auth=m.shift(),n.host=n.hostname=m.shift())}return n.search=t.search,n.query=t.query,h(n.pathname)&&h(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!f.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var y=f.slice(-1)[0],v=(n.host||t.host)&&("."===y||".."===y)||""===y,g=0,T=f.length;T>=0;T--)y=f[T],"."==y?f.splice(T,1):".."===y?(f.splice(T,1),g++):g&&(f.splice(T,1),g--);if(!d&&!p)for(;g--;g)f.unshift("..");!d||""===f[0]||f[0]&&"/"===f[0].charAt(0)||f.unshift(""),v&&"/"!==f.join("/").substr(-1)&&f.push("");var A=""===f[0]||f[0]&&"/"===f[0].charAt(0);if(_){n.hostname=n.host=A?"":f.length?f.shift():"";var m=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");m&&(n.auth=m.shift(),n.host=n.hostname=m.shift())}return d=d||n.host&&f.length,d&&!A&&f.unshift(""),f.length?n.pathname=f.join("/"):(n.pathname=null,n.path=null),h(n.pathname)&&h(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var t=this.host,e=f.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){var i;(function(t,r){!function(o){function a(t){throw RangeError(I[t])}function s(t,e){for(var n=t.length,i=[];n--;)i[n]=e(t[n]);return i}function l(t,e){var n=t.split("@"),i="";n.length>1&&(i=n[0]+"@",t=n[1]),t=t.replace(D,".");var r=t.split("."),o=s(r,e).join(".");return i+o}function u(t){for(var e,n,i=[],r=0,o=t.length;r<o;)e=t.charCodeAt(r++),e>=55296&&e<=56319&&r<o?(n=t.charCodeAt(r++),56320==(64512&n)?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),r--)):i.push(e);return i}function h(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=B(t>>>10&1023|55296),t=56320|1023&t),e+=B(t)}).join("")}function c(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:A}function d(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function p(t,e,n){var i=0;for(t=n?L(t/w):t>>1,t+=L(t/e);t>N*S>>1;i+=A)t=L(t/N);return L(i+(N+1)*t/(t+E))}function f(t){var e,n,i,r,o,s,l,u,d,f,_=[],m=t.length,y=0,v=P,g=C;for(n=t.lastIndexOf(x),n<0&&(n=0),i=0;i<n;++i)t.charCodeAt(i)>=128&&a("not-basic"),_.push(t.charCodeAt(i));for(r=n>0?n+1:0;r<m;){for(o=y,s=1,l=A;r>=m&&a("invalid-input"),u=c(t.charCodeAt(r++)),(u>=A||u>L((T-y)/s))&&a("overflow"),y+=u*s,d=l<=g?b:l>=g+S?S:l-g,!(u<d);l+=A)f=A-d,s>L(T/f)&&a("overflow"),s*=f;e=_.length+1,g=p(y-o,e,0==o),L(y/e)>T-v&&a("overflow"),v+=L(y/e),y%=e,_.splice(y++,0,v)}return h(_)}function _(t){var e,n,i,r,o,s,l,h,c,f,_,m,y,v,g,E=[];for(t=u(t),m=t.length,e=P,n=0,o=C,s=0;s<m;++s)_=t[s],_<128&&E.push(B(_));for(i=r=E.length,r&&E.push(x);i<m;){for(l=T,s=0;s<m;++s)_=t[s],_>=e&&_<l&&(l=_);for(y=i+1,l-e>L((T-n)/y)&&a("overflow"),n+=(l-e)*y,e=l,s=0;s<m;++s)if(_=t[s],_<e&&++n>T&&a("overflow"),_==e){for(h=n,c=A;f=c<=o?b:c>=o+S?S:c-o,!(h<f);c+=A)g=h-f,v=A-f,E.push(B(d(f+g%v,0))),h=L(g/v);E.push(B(d(h,0))),o=p(n,y,i==r),n=0,++i}++n,++e}return E.join("")}function m(t){return l(t,function(t){return M.test(t)?f(t.slice(4).toLowerCase()):t})}function y(t){return l(t,function(t){return O.test(t)?"xn--"+_(t):t})}var v=("object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof r&&r);v.global!==v&&v.window!==v&&v.self!==v||(o=v);var g,T=2147483647,A=36,b=1,S=26,E=38,w=700,C=72,P=128,x="-",M=/^xn--/,O=/[^\x20-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=A-b,L=Math.floor,B=String.fromCharCode;g={version:"1.3.2",ucs2:{decode:u,encode:h},decode:f,encode:_,toASCII:y,toUnicode:m},i=function(){return g}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))}(this)}).call(e,n(75)(t),function(){return this}())},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){"use strict";e.decode=e.parse=n(77),e.encode=e.stringify=n(78)},function(t,e){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,i,r){e=e||"&",i=i||"=";var o={};if("string"!=typeof t||0===t.length)return o;var a=/\+/g;t=t.split(e);var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var l=t.length;s>0&&l>s&&(l=s);for(var u=0;u<l;++u){var h,c,d,p,f=t[u].replace(a,"%20"),_=f.indexOf(i);_>=0?(h=f.substr(0,_),c=f.substr(_+1)):(h=f,c=""),d=decodeURIComponent(h),p=decodeURIComponent(c),n(o,d)?Array.isArray(o[d])?o[d].push(p):o[d]=[o[d],p]:o[d]=p}return o}},function(t,e){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,i,r){return e=e||"&",i=i||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(r){var o=encodeURIComponent(n(r))+i;return Array.isArray(t[r])?t[r].map(function(t){return o+encodeURIComponent(n(t))}).join(e):o+encodeURIComponent(n(t[r]))}).join(e):r?encodeURIComponent(n(r))+i+encodeURIComponent(n(t)):""}},function(t,e){"use strict";"use restrict";function n(t){var e=32;return t&=-t,t&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}var i=32;e.INT_BITS=i,e.INT_MAX=2147483647,e.INT_MIN=-1<<i-1,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>i-1;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,n;return e=(t>65535)<<4,t>>>=e,n=(t>255)<<3,t>>>=n,e|=n,n=(t>15)<<2,t>>>=n,e|=n,n=(t>3)<<1,t>>>=n,e|=n,e|t>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return t-=t>>>1&1431655765,t=(858993459&t)+(t>>>2&858993459),16843009*(t+(t>>>4)&252645135)>>>24},e.countTrailingZeros=n,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,t&=15,27030>>>t&1};var r=new Array(256);!function(t){for(var e=0;e<256;++e){var n=e,i=e,r=7;for(n>>>=1;n;n>>>=1)i<<=1,i|=1&n,--r;t[e]=i<<r&255}}(r),e.reverse=function(t){return r[255&t]<<24|r[t>>>8&255]<<16|r[t>>>16&255]<<8|r[t>>>24&255]},e.interleave2=function(t,e){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1},e.deinterleave2=function(t,e){return t=t>>>e&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),t=65535&(t|t>>>16),t<<16>>16},e.interleave3=function(t,e,n){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|=e<<1,n&=1023,n=4278190335&(n|n<<16),n=251719695&(n|n<<8),n=3272356035&(n|n<<4),n=1227133513&(n|n<<2),t|n<<2},e.deinterleave3=function(t,e){return t=t>>>e&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),t=1023&(t|t>>>16),t<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>n(t)+1}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(!e){var n=t.split("?").shift().toLowerCase();e="video/"+n.substr(n.lastIndexOf(".")+1)}var i=document.createElement("source");return i.src=t,i.type=e,i}e.__esModule=!0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(71),h=i(u),c=n(63),d=n(81),p=n(24),f=n(72),_=i(f),m=function(t){function e(n,i){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(r(this,e),!n)throw new Error("No video source element specified.");(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0);var s=o(this,t.call(this,n,i));return s.width=n.videoWidth,s.height=n.videoHeight,s._autoUpdate=!0,s._isAutoUpdating=!1,s.autoPlay=a,s.update=s.update.bind(s),s._onCanPlay=s._onCanPlay.bind(s),n.addEventListener("play",s._onPlayStart.bind(s)),n.addEventListener("pause",s._onPlayStop.bind(s)),s.hasLoaded=!1,s.__loaded=!1,s._isSourceReady()?s._onCanPlay():(n.addEventListener("canplay",s._onCanPlay),n.addEventListener("canplaythrough",s._onCanPlay)),s}return a(e,t),e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&t.paused===!1&&t.ended===!1&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(d.shared.add(this.update,this,p.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(d.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},e.prototype.destroy=function(){this._isAutoUpdating&&d.shared.remove(this.update,this),this.source&&this.source._pixiId&&(h.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),t.prototype.destroy.call(this)},e.fromVideo=function(t,n,i){t._pixiId||(t._pixiId="video_"+(0,c.uid)());var r=c.BaseTextureCache[t._pixiId];return r||(r=new e(t,n,i),h.default.addToCache(r,t._pixiId)),r},e.fromUrl=function(t,n,i,r){var o=document.createElement("video");o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline","");var a=Array.isArray(t)?t[0].src||t[0]:t.src||t;if(void 0===i&&0!==a.indexOf("data:")?o.crossOrigin=(0,_.default)(a):i&&(o.crossOrigin="string"==typeof i?i:"anonymous"),Array.isArray(t))for(var l=0;l<t.length;++l)o.appendChild(s(t[l].src||t[l],t[l].mime));else o.appendChild(s(a,t.mime));return o.load(),e.fromVideo(o,n,r)},l(e,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(d.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(d.shared.add(this.update,this,p.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),e}(h.default);e.default=m,m.fromUrls=m.fromUrl},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.Ticker=e.shared=void 0;var r=n(82),o=i(r),a=new o.default;a.autoStart=!0,a.destroy=function(){},e.shared=a,e.Ticker=o.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(55),s=i(a),l=n(24),u=n(83),h=i(u),c=function(){function t(){var e=this;r(this,t),this._head=new h.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/s.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.UPDATE_PRIORITY.NORMAL;return this._addListener(new h.default(t,e,n))},t.prototype.addOnce=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.UPDATE_PRIORITY.NORMAL;return this._addListener(new h.default(t,e,n,!0))},t.prototype._addListener=function(t){var e=this._head.next,n=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}else t.connect(n);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var n=this._head.next;n;)n=n.match(t,e)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null},t.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),e=void 0;if(t>this.lastTime){e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*s.default.TARGET_FPMS*this.speed;for(var n=this._head,i=n.next;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=t},o(t,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,s.default.TARGET_FPMS);this._maxElapsedMS=1/e}}]),t}();e.default=c},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n(this,t),this.fn=e,this.context=i,this.priority=r,this.once=o,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}();e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=n(29),a=i(o),s=function(){function t(){r(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function(t,e,n){var i=e.width,r=e.height;if(n){var o=t.width/2/i,s=t.height/2/r,l=t.x/i+o,u=t.y/r+s;n=a.default.add(n,a.default.NW),this.x0=l+o*a.default.uX(n),this.y0=u+s*a.default.uY(n),n=a.default.add(n,2),this.x1=l+o*a.default.uX(n),this.y1=u+s*a.default.uY(n),n=a.default.add(n,2),this.x2=l+o*a.default.uX(n),this.y2=u+s*a.default.uY(n),n=a.default.add(n,2),this.x3=l+o*a.default.uX(n),this.y3=u+s*a.default.uY(n)}else this.x0=t.x/i,this.y0=t.y/r,this.x1=(t.x+t.width)/i,this.y1=t.y/r,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/r,this.x3=t.x/i,this.y3=(t.y+t.height)/r;this.uvsUint32[0]=(65535&Math.round(65535*this.y0))<<16|65535&Math.round(65535*this.x0),this.uvsUint32[1]=(65535&Math.round(65535*this.y1))<<16|65535&Math.round(65535*this.x1),this.uvsUint32[2]=(65535&Math.round(65535*this.y2))<<16|65535&Math.round(65535*this.x2),this.uvsUint32[3]=(65535&Math.round(65535*this.y3))<<16|65535&Math.round(65535*this.x3)},t}();e.default=s},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=n(86),a=i(o),s=n(24),l=n(25),u=n(94),h=i(u),c=new l.Matrix,d=function(){function t(e){r(this,t),this.renderer=e}return t.prototype.render=function(t){var e=t._texture,n=this.renderer,i=e._frame.width,r=e._frame.height,o=t.transform.worldTransform,a=0,u=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&(n.setBlendMode(t.blendMode),e.valid)){n.context.globalAlpha=t.worldAlpha;var d=e.baseTexture.scaleMode===s.SCALE_MODES.LINEAR;n.smoothProperty&&n.context[n.smoothProperty]!==d&&(n.context[n.smoothProperty]=d),e.trim?(a=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,u=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(a=(.5-t.anchor.x)*e.orig.width,u=(.5-t.anchor.y)*e.orig.height),e.rotate&&(o.copy(c),o=c,l.GroupD8.matrixAppendRotationInv(o,e.rotate,a,u),a=0,u=0),a-=i/2,u-=r/2,n.roundPixels?(n.context.setTransform(o.a,o.b,o.c,o.d,o.tx*n.resolution|0,o.ty*n.resolution|0),a|=0,u|=0):n.context.setTransform(o.a,o.b,o.c,o.d,o.tx*n.resolution,o.ty*n.resolution);var p=e.baseTexture.resolution;16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=h.default.getTintedTexture(t,t.tint)),n.context.drawImage(t.tintedTexture,0,0,i*p,r*p,a*n.resolution,u*n.resolution,i*n.resolution,r*n.resolution)):n.context.drawImage(e.baseTexture.source,e._frame.x*p,e._frame.y*p,i*p,r*p,a*n.resolution,u*n.resolution,i*n.resolution,r*n.resolution)}},t.prototype.destroy=function(){this.renderer=null},t}();e.default=d,a.default.registerPlugin("sprite",d)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(87),l=i(s),u=n(90),h=i(u),c=n(91),d=i(c),p=n(92),f=i(p),_=n(63),m=n(24),y=n(55),v=i(y),g=function(t){function e(n,i,a){r(this,e);var s=o(this,t.call(this,"Canvas",n,i,a));return s.type=m.RENDERER_TYPE.CANVAS,s.rootContext=s.view.getContext("2d",{alpha:s.transparent}),s.context=s.rootContext,s.refresh=!0,s.maskManager=new h.default(s),s.smoothProperty="imageSmoothingEnabled",s.rootContext.imageSmoothingEnabled||(s.rootContext.webkitImageSmoothingEnabled?s.smoothProperty="webkitImageSmoothingEnabled":s.rootContext.mozImageSmoothingEnabled?s.smoothProperty="mozImageSmoothingEnabled":s.rootContext.oImageSmoothingEnabled?s.smoothProperty="oImageSmoothingEnabled":s.rootContext.msImageSmoothingEnabled&&(s.smoothProperty="msImageSmoothingEnabled")),s.initPlugins(),s.blendModes=(0,f.default)(),s._activeBlendMode=null,s.renderingToScreen=!1,s.resize(s.options.width,s.options.height),s}return a(e,t),e.prototype.render=function(t,e,n,i,r){if(this.view){this.renderingToScreen=!e,this.emit("prerender");var o=this.resolution;e?(e=e.baseTexture||e,e._canvasRenderTarget||(e._canvasRenderTarget=new d.default(e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var a=this.context;if(e||(this._lastObjectRendered=t),!r){var s=t.parent,l=this._tempDisplayObjectParent.transform.worldTransform;i?(i.copy(l),this._tempDisplayObjectParent.transform._worldID=-1):l.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=s}a.save(),a.setTransform(1,0,0,1,0,0),a.globalAlpha=1,this._activeBlendMode=m.BLEND_MODES.NORMAL,a.globalCompositeOperation=this.blendModes[m.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(a.fillStyle="black",a.clear()),(void 0!==n?n:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?a.clearRect(0,0,this.width,this.height):(a.fillStyle=this._backgroundColorString,a.fillRect(0,0,this.width,this.height)));var u=this.context;this.context=a,t.renderCanvas(this),this.context=u,a.restore(),this.resolution=o,this.emit("postrender")}},e.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(e){this.destroyPlugins(),t.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function(e,n){t.prototype.resize.call(this,e,n),this.smoothProperty&&(this.rootContext[this.smoothProperty]=v.default.SCALE_MODE===m.SCALE_MODES.LINEAR)},e.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},e}(l.default);e.default=g,_.pluginTarget.mixin(g)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(63),u=n(25),h=n(24),c=n(55),d=i(c),p=n(62),f=i(p),_=n(88),m=i(_),y=n(54),v=i(y),g=new u.Matrix,T=function(t){function e(n,i,a,s){r(this,e);var c=o(this,t.call(this));return(0,l.sayHello)(n),"number"==typeof i&&(i=Object.assign({width:i,height:a||d.default.RENDER_OPTIONS.height},s)),i=Object.assign({},d.default.RENDER_OPTIONS,i),c.options=i,c.type=h.RENDERER_TYPE.UNKNOWN,c.screen=new u.Rectangle(0,0,i.width,i.height),c.view=i.view||document.createElement("canvas"),c.resolution=i.resolution||d.default.RESOLUTION,c.transparent=i.transparent,c.autoResize=i.autoResize||!1,c.blendModes=null,c.preserveDrawingBuffer=i.preserveDrawingBuffer,c.clearBeforeRender=i.clearBeforeRender,c.roundPixels=i.roundPixels,c._backgroundColor=0,c._backgroundColorRgba=[0,0,0,0],c._backgroundColorString="#000000",c.backgroundColor=i.backgroundColor||c._backgroundColor,c._tempDisplayObjectParent=new f.default,c._lastObjectRendered=c._tempDisplayObjectParent,c}return a(e,t),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,n,i){i=i||t.getLocalBounds();var r=m.default.create(0|i.width,0|i.height,e,n);return g.tx=-i.x,g.ty=-i.y,this.render(t,r,!1,g,!!t.parent),r},e.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=h.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},s(e,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,l.hex2string)(t),(0,l.hex2rgb)(t,this._backgroundColorRgba)}}]),e}(v.default);e.default=T},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(89),l=i(s),u=n(70),h=i(u),c=function(t){function e(n,i){r(this,e);var a=null;if(!(n instanceof l.default)){var s=arguments[1],u=arguments[2],h=arguments[3],c=arguments[4];console.warn("Please use RenderTexture.create("+s+", "+u+") instead of the ctor directly."),a=arguments[0],i=null,n=new l.default(s,u,h,c)}var d=o(this,t.call(this,n,i));return d.legacyRenderer=a,d.valid=!0,d._updateUvs(),d}return a(e,t),e.prototype.resize=function(t,e,n){t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,n||this.baseTexture.resize(t,e),this._updateUvs()},e.create=function(t,n,i,r){return new e(new l.default(t,n,i,r))},e}(h.default);e.default=c},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(71),l=i(s),u=n(55),h=i(u),c=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=arguments[2],s=arguments[3];r(this,e);var l=o(this,t.call(this,null,a));return l.resolution=s||h.default.RESOLUTION,l.width=Math.ceil(n),l.height=Math.ceil(i),l.realWidth=l.width*l.resolution,l.realHeight=l.height*l.resolution,l.scaleMode=void 0!==a?a:h.default.SCALE_MODE,l.hasLoaded=!0,l._glRenderTargets={},l._canvasRenderTarget=null,l.valid=!1,l}return a(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.renderer=null},e}(l.default);e.default=c},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=n(24),o=function(){function t(e){i(this,t),this.renderer=e}return t.prototype.pushMask=function(t){var e=this.renderer;e.context.save();var n=t.alpha,i=t.transform.worldTransform,r=e.resolution;e.context.setTransform(i.a*r,i.b*r,i.c*r,i.d*r,i.tx*r,i.ty*r),t._texture||(this.renderGraphicsShape(t),e.context.clip()),t.worldAlpha=n},t.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,n=t.graphicsData.length;if(0!==n){e.beginPath();for(var i=0;i<n;i++){var o=t.graphicsData[i],a=o.shape;if(o.type===r.SHAPES.POLY){var s=a.points,l=o.holes,u=void 0,h=void 0;e.moveTo(s[0],s[1]);for(var c=2;c<s.length;c+=2)e.lineTo(s[c],s[c+1]);if(s[0]===s[s.length-2]&&s[1]===s[s.length-1]&&e.closePath(),l.length>0){u=0;for(var d=0;d<s.length;d+=2)u+=s[d]*s[d+3]-s[d+1]*s[d+2];for(var p=0;p<l.length;p++){s=l[p].points,h=0;for(var f=0;f<s.length;f+=2)h+=s[f]*s[f+3]-s[f+1]*s[f+2];if(e.moveTo(s[0],s[1]),h*u<0)for(var _=2;_<s.length;_+=2)e.lineTo(s[_],s[_+1]);else for(var m=s.length-2;m>=2;m-=2)e.lineTo(s[m],s[m+1])}}}else if(o.type===r.SHAPES.RECT)e.rect(a.x,a.y,a.width,a.height),e.closePath();else if(o.type===r.SHAPES.CIRC)e.arc(a.x,a.y,a.radius,0,2*Math.PI),e.closePath();else if(o.type===r.SHAPES.ELIP){var y=2*a.width,v=2*a.height,g=a.x-y/2,T=a.y-v/2,A=.5522848,b=y/2*A,S=v/2*A,E=g+y,w=T+v,C=g+y/2,P=T+v/2;e.moveTo(g,P),e.bezierCurveTo(g,P-S,C-b,T,C,T),e.bezierCurveTo(C+b,T,E,P-S,E,P),e.bezierCurveTo(E,P+S,C+b,w,C,w),e.bezierCurveTo(C-b,w,g,P+S,g,P),e.closePath()}else if(o.type===r.SHAPES.RREC){var x=a.x,M=a.y,O=a.width,D=a.height,I=a.radius,N=Math.min(O,D)/2|0;I=I>N?N:I,e.moveTo(x,M+I),e.lineTo(x,M+D-I),e.quadraticCurveTo(x,M+D,x+I,M+D),e.lineTo(x+O-I,M+D),e.quadraticCurveTo(x+O,M+D,x+O,M+D-I),e.lineTo(x+O,M+I),e.quadraticCurveTo(x+O,M,x+O-I,M),e.lineTo(x+I,M),e.quadraticCurveTo(x,M,x,M+I),e.closePath()}}}},t.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},t.prototype.destroy=function(){},t}();e.default=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(55),s=i(a),l=function(){function t(e,n,i){r(this,t),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||s.default.RESOLUTION,this.resize(e,n);
}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},o(t,[{key:"width",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:"height",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),t}();e.default=l},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,s.default)()?(t[o.BLEND_MODES.NORMAL]="source-over",t[o.BLEND_MODES.ADD]="lighter",t[o.BLEND_MODES.MULTIPLY]="multiply",t[o.BLEND_MODES.SCREEN]="screen",t[o.BLEND_MODES.OVERLAY]="overlay",t[o.BLEND_MODES.DARKEN]="darken",t[o.BLEND_MODES.LIGHTEN]="lighten",t[o.BLEND_MODES.COLOR_DODGE]="color-dodge",t[o.BLEND_MODES.COLOR_BURN]="color-burn",t[o.BLEND_MODES.HARD_LIGHT]="hard-light",t[o.BLEND_MODES.SOFT_LIGHT]="soft-light",t[o.BLEND_MODES.DIFFERENCE]="difference",t[o.BLEND_MODES.EXCLUSION]="exclusion",t[o.BLEND_MODES.HUE]="hue",t[o.BLEND_MODES.SATURATION]="saturate",t[o.BLEND_MODES.COLOR]="color",t[o.BLEND_MODES.LUMINOSITY]="luminosity"):(t[o.BLEND_MODES.NORMAL]="source-over",t[o.BLEND_MODES.ADD]="lighter",t[o.BLEND_MODES.MULTIPLY]="source-over",t[o.BLEND_MODES.SCREEN]="source-over",t[o.BLEND_MODES.OVERLAY]="source-over",t[o.BLEND_MODES.DARKEN]="source-over",t[o.BLEND_MODES.LIGHTEN]="source-over",t[o.BLEND_MODES.COLOR_DODGE]="source-over",t[o.BLEND_MODES.COLOR_BURN]="source-over",t[o.BLEND_MODES.HARD_LIGHT]="source-over",t[o.BLEND_MODES.SOFT_LIGHT]="source-over",t[o.BLEND_MODES.DIFFERENCE]="source-over",t[o.BLEND_MODES.EXCLUSION]="source-over",t[o.BLEND_MODES.HUE]="source-over",t[o.BLEND_MODES.SATURATION]="source-over",t[o.BLEND_MODES.COLOR]="source-over",t[o.BLEND_MODES.LUMINOSITY]="source-over"),t[o.BLEND_MODES.NORMAL_NPM]=t[o.BLEND_MODES.NORMAL],t[o.BLEND_MODES.ADD_NPM]=t[o.BLEND_MODES.ADD],t[o.BLEND_MODES.SCREEN_NPM]=t[o.BLEND_MODES.SCREEN],t}e.__esModule=!0,e.default=r;var o=n(24),a=n(93),s=i(a)},function(t,e){"use strict";function n(t){var e=document.createElement("canvas");e.width=6,e.height=1;var n=e.getContext("2d");return n.fillStyle=t,n.fillRect(0,0,6,1),e}function i(){if("undefined"==typeof document)return!1;var t=n("#ff00ff"),e=n("#ffff00"),i=document.createElement("canvas");i.width=6,i.height=1;var r=i.getContext("2d");r.globalCompositeOperation="multiply",r.drawImage(t,0,0),r.drawImage(e,2,0);var o=r.getImageData(2,0,1,1);if(!o)return!1;var a=o.data;return 255===a[0]&&0===a[1]&&0===a[2]}e.__esModule=!0,e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(63),o=n(93),a=i(o),s={getTintedTexture:function(t,e){var n=t._texture;e=s.roundColor(e);var i="#"+("00000"+(0|e).toString(16)).substr(-6);n.tintCache=n.tintCache||{};var r=n.tintCache[i],o=void 0;if(r){if(r.tintId===n._updateID)return n.tintCache[i];o=n.tintCache[i]}else o=s.canvas||document.createElement("canvas");if(s.tintMethod(n,e,o),o.tintId=n._updateID,s.convertTintToImage){var a=new Image;a.src=o.toDataURL(),n.tintCache[i]=a}else n.tintCache[i]=o,s.canvas=null;return o},tintWithMultiply:function(t,e,n){var i=n.getContext("2d"),r=t._frame.clone(),o=t.baseTexture.resolution;r.x*=o,r.y*=o,r.width*=o,r.height*=o,n.width=Math.ceil(r.width),n.height=Math.ceil(r.height),i.save(),i.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),i.fillRect(0,0,r.width,r.height),i.globalCompositeOperation="multiply",i.drawImage(t.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.globalCompositeOperation="destination-atop",i.drawImage(t.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.restore()},tintWithOverlay:function(t,e,n){var i=n.getContext("2d"),r=t._frame.clone(),o=t.baseTexture.resolution;r.x*=o,r.y*=o,r.width*=o,r.height*=o,n.width=Math.ceil(r.width),n.height=Math.ceil(r.height),i.save(),i.globalCompositeOperation="copy",i.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),i.fillRect(0,0,r.width,r.height),i.globalCompositeOperation="destination-atop",i.drawImage(t.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.restore()},tintWithPerPixel:function(t,e,n){var i=n.getContext("2d"),o=t._frame.clone(),a=t.baseTexture.resolution;o.x*=a,o.y*=a,o.width*=a,o.height*=a,n.width=Math.ceil(o.width),n.height=Math.ceil(o.height),i.save(),i.globalCompositeOperation="copy",i.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),i.restore();for(var s=(0,r.hex2rgb)(e),l=s[0],u=s[1],h=s[2],c=i.getImageData(0,0,o.width,o.height),d=c.data,p=0;p<d.length;p+=4)d[p+0]*=l,d[p+1]*=u,d[p+2]*=h;i.putImageData(c,0,0)},roundColor:function(t){var e=s.cacheStepsPerColorChannel,n=(0,r.hex2rgb)(t);return n[0]=Math.min(255,n[0]/e*e),n[1]=Math.min(255,n[1]/e*e),n[2]=Math.min(255,n[2]/e*e),(0,r.rgb2hex)(n)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,a.default)(),tintMethod:0};s.tintMethod=s.canUseMultiply?s.tintWithMultiply:s.tintWithPerPixel,e.default=s},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(96),l=i(s),u=n(98),h=i(u),c=n(112),d=i(c),p=n(121),f=i(p),_=n(122),m=i(_),y=n(123),v=i(y),g=n(55),T=i(g),A=n(63),b=n(35),S=i(b),E=n(79),w=i(E),C=0,P=0,x=function(t){function e(n){r(this,e);var i=o(this,t.call(this,n));i.vertSize=5,i.vertByteSize=4*i.vertSize,i.size=T.default.SPRITE_BATCH_SIZE,i.buffers=[];for(var a=1;a<=w.default.nextPow2(i.size);a*=2)i.buffers.push(new v.default(4*a*i.vertByteSize));i.indices=(0,d.default)(i.size),i.shader=null,i.currentIndex=0,i.groups=[];for(var s=0;s<i.size;s++)i.groups[s]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return i.sprites=[],i.vertexBuffers=[],i.vaos=[],i.vaoMax=2,i.vertexCount=0,i.renderer.on("prerender",i.onPrerender,i),i}return a(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),T.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,m.default)(this.MAX_TEXTURES,t)),this.shader=(0,f.default)(t,this.MAX_TEXTURES),this.indexBuffer=S.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null);for(var e=this.shader.attributes,n=0;n<this.vaoMax;n++){var i=this.vertexBuffers[n]=S.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),r=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(i,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(i,e.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(i,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);e.aTextureId&&r.addAttribute(i,e.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[n]=r}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},e.prototype.onPrerender=function(){this.vertexCount=0},e.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},e.prototype.flush=function(){if(0!==this.currentIndex){var t=this.renderer.gl,e=this.MAX_TEXTURES,n=w.default.nextPow2(this.currentIndex),i=w.default.log2(n),r=this.buffers[i],o=this.sprites,a=this.groups,s=r.float32View,l=r.uint32View,u=this.boundTextures,h=this.renderer.boundTextures,c=this.renderer.textureGC.count,d=0,p=void 0,f=void 0,_=1,m=0,y=a[0],v=void 0,g=void 0,b=A.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha?1:0][o[0].blendMode];y.textureCount=0,y.start=0,y.blend=b,C++;var E=void 0;for(E=0;E<e;++E){var x=h[E];x._enabled!==C?(u[E]=x,x._virtalBoundId=E,x._enabled=C):u[E]=this.renderer.emptyTextures[E]}for(C++,E=0;E<this.currentIndex;++E){var M=o[E];o[E]=null,p=M._texture.baseTexture;var O=A.premultiplyBlendMode[Number(p.premultipliedAlpha)][M.blendMode];if(b!==O&&(b=O,f=null,m=e,C++),f!==p&&(f=p,p._enabled!==C)){if(m===e&&(C++,y.size=E-y.start,m=0,y=a[_++],y.blend=b,y.textureCount=0,y.start=E),p.touched=c,p._virtalBoundId===-1)for(var D=0;D<e;++D){var I=(D+P)%e,N=u[I];if(N._enabled!==C){P++,N._virtalBoundId=-1,p._virtalBoundId=I,u[I]=p;break}}p._enabled=C,y.textureCount++,y.ids[m]=p._virtalBoundId,y.textures[m++]=p}if(v=M.vertexData,g=M._texture._uvs.uvsUint32,this.renderer.roundPixels){var L=this.renderer.resolution;s[d]=(v[0]*L|0)/L,s[d+1]=(v[1]*L|0)/L,s[d+5]=(v[2]*L|0)/L,s[d+6]=(v[3]*L|0)/L,s[d+10]=(v[4]*L|0)/L,s[d+11]=(v[5]*L|0)/L,s[d+15]=(v[6]*L|0)/L,s[d+16]=(v[7]*L|0)/L}else s[d]=v[0],s[d+1]=v[1],s[d+5]=v[2],s[d+6]=v[3],s[d+10]=v[4],s[d+11]=v[5],s[d+15]=v[6],s[d+16]=v[7];l[d+2]=g[0],l[d+7]=g[1],l[d+12]=g[2],l[d+17]=g[3];var B=Math.min(M.worldAlpha,1),R=B<1&&p.premultipliedAlpha?(0,A.premultiplyTint)(M._tintRGB,B):M._tintRGB+(255*B<<24);l[d+3]=l[d+8]=l[d+13]=l[d+18]=R,s[d+4]=s[d+9]=s[d+14]=s[d+19]=p._virtalBoundId,d+=20}if(y.size=E-y.start,T.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(r.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var k=this.shader.attributes,G=this.vertexBuffers[this.vertexCount]=S.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),F=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(G,k.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(G,k.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(G,k.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);k.aTextureId&&F.addAttribute(G,k.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=F}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(r.vertices,0,!1),this.vertexCount++}for(E=0;E<e;++E)h[E]._virtalBoundId=-1;for(E=0;E<_;++E){for(var H=a[E],U=H.textureCount,V=0;V<U;V++)f=H.textures[V],h[H.ids[V]]!==f&&this.renderer.bindTexture(f,H.ids[V],!0),f._virtalBoundId=-1;this.renderer.state.setBlendMode(H.blend),t.drawElements(t.TRIANGLES,6*H.size,t.UNSIGNED_SHORT,6*H.start*2)}this.currentIndex=0}},e.prototype.start=function(){this.renderer.bindShader(this.shader),T.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vertexBuffers[e]&&this.vertexBuffers[e].destroy(),this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var n=0;n<this.buffers.length;++n)this.buffers[n].destroy()},e}(l.default);e.default=x,h.default.registerPlugin("sprite",x)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(97),l=i(s),u=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return a(e,t),e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(l.default);e.default=u},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(e){n(this,t),this.renderer=e,this.renderer.on("context",this.onContextChange,this)}return t.prototype.onContextChange=function(){},t.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},t}();e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(87),l=i(s),u=n(99),h=i(u),c=n(108),d=i(c),p=n(109),f=i(p),_=n(110),m=i(_),y=n(96),v=i(y),g=n(115),T=i(g),A=n(71),b=i(A),S=n(116),E=i(S),w=n(117),C=i(w),P=n(119),x=i(P),M=n(120),O=i(M),D=n(63),I=n(35),N=i(I),L=n(24),B=0,R=function(t){function e(n,i,a){r(this,e);var s=o(this,t.call(this,"WebGL",n,i,a));return s.legacy=s.options.legacy,s.legacy&&(N.default.VertexArrayObject.FORCE_NATIVE=!0),s.type=L.RENDERER_TYPE.WEBGL,s.handleContextLost=s.handleContextLost.bind(s),s.handleContextRestored=s.handleContextRestored.bind(s),s.view.addEventListener("webglcontextlost",s.handleContextLost,!1),s.view.addEventListener("webglcontextrestored",s.handleContextRestored,!1),s._contextOptions={alpha:s.transparent,antialias:s.options.antialias,premultipliedAlpha:s.transparent&&"notMultiplied"!==s.transparent,stencil:!0,preserveDrawingBuffer:s.options.preserveDrawingBuffer,powerPreference:s.options.powerPreference},s._backgroundColorRgba[3]=s.transparent?0:1,s.maskManager=new h.default(s),s.stencilManager=new d.default(s),s.emptyRenderer=new v.default(s),s.currentRenderer=s.emptyRenderer,s.textureManager=null,s.filterManager=null,s.initPlugins(),s.options.context&&(0,O.default)(s.options.context),s.gl=s.options.context||N.default.createContext(s.view,s._contextOptions),s.CONTEXT_UID=B++,s.state=new C.default(s.gl),s.renderingToScreen=!0,s.boundTextures=null,s._activeShader=null,s._activeVao=null,s._activeRenderTarget=null,s._initContext(),s.drawModes=(0,x.default)(s.gl),s._nextTextureLocation=0,s.setBlendMode(0),s}return a(e,t),e.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext();var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(e),this.emptyTextures=new Array(e),this._unknownBoundTextures=!1,this.textureManager=new T.default(this),this.filterManager=new f.default(this),this.textureGC=new E.default(this),this.state.resetToDefault(),this.rootRenderTarget=new m.default(t,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var n=new N.default.GLTexture.fromData(t,null,1,1),i={_glTextures:{}};i._glTextures[this.CONTEXT_UID]={};for(var r=0;r<e;r++){var o=new b.default;o._glTextures[this.CONTEXT_UID]=n,this.boundTextures[r]=i,this.emptyTextures[r]=o,this.bindTexture(null,r)}this.emit("context",t),this.resize(this.screen.width,this.screen.height)},e.prototype.render=function(t,e,n,i,r){if(this.renderingToScreen=!e,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),!r){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.bindRenderTexture(e,i),this.currentRenderer.start(),(void 0!==n?n:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.resize=function(t,e){l.default.prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},e.prototype.clear=function(t){this._activeRenderTarget.clear(t)},e.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},e.prototype.clearRenderTexture=function(t,e){var n=t.baseTexture,i=n._glRenderTargets[this.CONTEXT_UID];return i&&i.clear(e),this},e.prototype.bindRenderTexture=function(t,e){var n=void 0;if(t){var i=t.baseTexture;i._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(i,0),this.unbindTexture(i),n=i._glRenderTargets[this.CONTEXT_UID],n.setFrame(t.frame)}else n=this.rootRenderTarget;return n.transform=e,this.bindRenderTarget(n),this},e.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},e.prototype.bindShader=function(t,e){return this._activeShader!==t&&(this._activeShader=t,t.bind(),e!==!1&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.bindTexture=function(t,e,n){if(t=t||this.emptyTextures[e],t=t.baseTexture||t,t.touched=this.textureGC.count,n)e=e||0;else{for(var i=0;i<this.boundTextures.length;i++)if(this.boundTextures[i]===t)return i;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var r=this.gl,o=t._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[e]=t,r.activeTexture(r.TEXTURE0+e),r.bindTexture(r.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(t,e),e},e.prototype.unbindTexture=function(t){var e=this.gl;if(t=t.baseTexture||t,this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var n=0;n<this.boundTextures.length;n++)this.boundTextures[n]===this.emptyTextures[n]&&(e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[n]._glTextures[this.CONTEXT_UID].texture))}for(var i=0;i<this.boundTextures.length;i++)this.boundTextures[i]===t&&(this.boundTextures[i]=this.emptyTextures[i],e.activeTexture(e.TEXTURE0+i),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[i]._glTextures[this.CONTEXT_UID].texture));return this},e.prototype.createVao=function(){return new N.default.VertexArrayObject(this.gl,this.state.attribState)},e.prototype.bindVao=function(t){return this._activeVao===t?this:(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t,this)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this._unknownBoundTextures=!0;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.emptyTextures[t];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},e.prototype.destroy=function(e){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),t.prototype.destroy.call(this,e),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},e}(l.default);e.default=R,D.pluginTarget.mixin(R)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(97),l=i(s),u=n(100),h=i(u),c=function(t){function e(n){r(this,e);var i=o(this,t.call(this,n));return i.scissor=!1,i.scissorData=null,i.scissorRenderTarget=null,i.enableScissor=!0,i.alphaMaskPool=[],i.alphaMaskIndex=0,i}return a(e,t),e.prototype.pushMask=function(t,e){if(e.texture)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&e.isFastRect()){var n=e.worldTransform,i=Math.atan2(n.b,n.a);i=Math.round(i*(180/Math.PI)),i%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var n=this.alphaMaskPool[this.alphaMaskIndex];n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new h.default(e)]),n[0].resolution=this.renderer.resolution,n[0].maskSprite=e;var i=t.filterArea;t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,n),t.filterArea=i,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var n=this.renderer._activeRenderTarget,i=e.getBounds();i.fit(n.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var r=this.renderer.resolution;this.renderer.gl.scissor(i.x*r,(n.root?n.size.height-i.y-i.height:i.y)*r,i.width*r,i.height*r),this.scissorRenderTarget=n,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(l.default);e.default=c},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(101),l=i(s),u=n(25),h=(n(103),n(107)),c=i(h),d=function(t){function e(n){r(this,e);var i=new u.Matrix,a=o(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return n.renderable=!1,a.maskSprite=n,a.maskMatrix=i,a}return a(e,t),e.prototype.apply=function(t,e,n,i){var r=this.maskSprite,o=this.maskSprite.texture;o.valid&&(o.transform||(o.transform=new c.default(o,0)),o.transform.update(),this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,r).prepend(o.transform.mapCoord),this.uniforms.alpha=r.worldAlpha,this.uniforms.maskClamp=o.transform.uClampFrame,t.applyFilter(this,e,n,i))},e}(l.default);e.default=d},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(102),s=i(a),l=n(63),u=n(24),h=n(55),c=i(h),d={},p=function(){function t(e,n,i){r(this,t),this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=n||t.defaultFragmentSrc,this._blendMode=u.BLEND_MODES.NORMAL,this.uniformData=i||(0,s.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={};for(var o in this.uniformData)this.uniforms[o]=this.uniformData[o].value,this.uniformData[o].type&&(this.uniformData[o].type=this.uniformData[o].type.toLowerCase());this.glShaders={},d[this.vertexSrc+this.fragmentSrc]||(d[this.vertexSrc+this.fragmentSrc]=(0,l.uid)()),this.glShaderKey=d[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=c.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return t.prototype.apply=function(t,e,n,i,r){t.applyFilter(this,e,n,i)},o(t,[{key:"blendMode",get:function(){return this._blendMode},set:function(t){this._blendMode=t}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),t}();e.default=p},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){var i=o(t,n),r=o(e,n);return Object.assign(i,r)}function o(t){for(var e=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),n={},i=void 0,r=t.replace(/\s+/g," ").split(/\s*;\s*/),o=0;o<r.length;o++){var a=r[o].trim();if(a.indexOf("uniform")>-1){var s=a.split(" "),u=s[1],h=s[2],c=1;h.indexOf("[")>-1&&(i=h.split(/\[|]/),h=i[0],c*=Number(i[1])),h.match(e)||(n[h]={value:l(u,c),name:h,type:u})}}return n}e.__esModule=!0,e.default=r;var a=n(35),s=i(a),l=s.default.shader.defaultValue},function(t,e,n){(function(e){"use strict";function i(t,e){for(var n=[],i=0;i<t.length;i++){var r=t[i];r&&"."!==r&&(".."===r?n.length&&".."!==n[n.length-1]?n.pop():e&&n.push(".."):n.push(r))}return n}function r(t){for(var e=t.length-1,n=0;n<=e&&!t[n];n++);for(var i=e;i>=0&&!t[i];i--);return 0===n&&i===e?t:n>i?[]:t.slice(n,i+1)}function o(t){var e=c.exec(t),n=(e[1]||"")+(e[2]||""),i=e[3]||"",r=d.exec(i),o=r[1],a=r[2],s=r[3];return[n,o,a,s]}function a(t){var e=c.exec(t),n=e[1]||"",i=!!n&&":"!==n[1];return{device:n,isUnc:i,isAbsolute:i||!!e[2],tail:e[3]}}function s(t){return"\\\\"+t.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}function l(t){return f.exec(t).slice(1)}var u="win32"===e.platform,h=n(104),c=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,d=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,p={};p.resolve=function(){for(var t="",n="",r=!1,o=arguments.length-1;o>=-1;o--){var l;if(o>=0?l=arguments[o]:t?(l=e.env["="+t],l&&l.substr(0,3).toLowerCase()===t.toLowerCase()+"\\"||(l=t+"\\")):l=e.cwd(),!h.isString(l))throw new TypeError("Arguments to path.resolve must be strings");if(l){var u=a(l),c=u.device,d=u.isUnc,p=u.isAbsolute,f=u.tail;if((!c||!t||c.toLowerCase()===t.toLowerCase())&&(t||(t=c),r||(n=f+"\\"+n,r=p),t&&r))break}}return d&&(t=s(t)),n=i(n.split(/[\\\/]+/),!r).join("\\"),t+(r?"\\":"")+n||"."},p.normalize=function(t){var e=a(t),n=e.device,r=e.isUnc,o=e.isAbsolute,l=e.tail,u=/[\\\/]$/.test(l);return l=i(l.split(/[\\\/]+/),!o).join("\\"),l||o||(l="."),l&&u&&(l+="\\"),r&&(n=s(n)),n+(o?"\\":"")+l},p.isAbsolute=function(t){return a(t).isAbsolute},p.join=function(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(!h.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&t.push(n)}var i=t.join("\\");return/^[\\\/]{2}[^\\\/]/.test(t[0])||(i=i.replace(/^[\\\/]{2,}/,"\\")),p.normalize(i)},p.relative=function(t,e){t=p.resolve(t),e=p.resolve(e);for(var n=t.toLowerCase(),i=e.toLowerCase(),o=r(e.split("\\")),a=r(n.split("\\")),s=r(i.split("\\")),l=Math.min(a.length,s.length),u=l,h=0;h<l;h++)if(a[h]!==s[h]){u=h;break}if(0==u)return e;for(var c=[],h=u;h<a.length;h++)c.push("..");return c=c.concat(o.slice(u)),c.join("\\")},p._makeLong=function(t){if(!h.isString(t))return t;if(!t)return"";var e=p.resolve(t);return/^[a-zA-Z]\:\\/.test(e)?"\\\\?\\"+e:/^\\\\[^?.]/.test(e)?"\\\\?\\UNC\\"+e.substring(2):t},p.dirname=function(t){var e=o(t),n=e[0],i=e[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},p.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},p.extname=function(t){return o(t)[3]},p.format=function(t){if(!h.isObject(t))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof t);var e=t.root||"";if(!h.isString(e))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof t.root);var n=t.dir,i=t.base||"";return n?n[n.length-1]===p.sep?n+i:n+p.sep+i:i},p.parse=function(t){if(!h.isString(t))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);
var e=o(t);if(!e||4!==e.length)throw new TypeError("Invalid path '"+t+"'");return{root:e[0],dir:e[0]+e[1].slice(0,-1),base:e[2],ext:e[3],name:e[2].slice(0,e[2].length-e[3].length)}},p.sep="\\",p.delimiter=";";var f=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,_={};_.resolve=function(){for(var t="",n=!1,r=arguments.length-1;r>=-1&&!n;r--){var o=r>=0?arguments[r]:e.cwd();if(!h.isString(o))throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,n="/"===o[0])}return t=i(t.split("/"),!n).join("/"),(n?"/":"")+t||"."},_.normalize=function(t){var e=_.isAbsolute(t),n=t&&"/"===t[t.length-1];return t=i(t.split("/"),!e).join("/"),t||e||(t="."),t&&n&&(t+="/"),(e?"/":"")+t},_.isAbsolute=function(t){return"/"===t.charAt(0)},_.join=function(){for(var t="",e=0;e<arguments.length;e++){var n=arguments[e];if(!h.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&(t+=t?"/"+n:n)}return _.normalize(t)},_.relative=function(t,e){t=_.resolve(t).substr(1),e=_.resolve(e).substr(1);for(var n=r(t.split("/")),i=r(e.split("/")),o=Math.min(n.length,i.length),a=o,s=0;s<o;s++)if(n[s]!==i[s]){a=s;break}for(var l=[],s=a;s<n.length;s++)l.push("..");return l=l.concat(i.slice(a)),l.join("/")},_._makeLong=function(t){return t},_.dirname=function(t){var e=l(t),n=e[0],i=e[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},_.basename=function(t,e){var n=l(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},_.extname=function(t){return l(t)[3]},_.format=function(t){if(!h.isObject(t))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof t);var e=t.root||"";if(!h.isString(e))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof t.root);var n=t.dir?t.dir+_.sep:"",i=t.base||"";return n+i},_.parse=function(t){if(!h.isString(t))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e=l(t);if(!e||4!==e.length)throw new TypeError("Invalid path '"+t+"'");return e[1]=e[1]||"",e[2]=e[2]||"",e[3]=e[3]||"",{root:e[0],dir:e[0]+e[1].slice(0,-1),base:e[2],ext:e[3],name:e[2].slice(0,e[2].length-e[3].length)}},_.sep="/",_.delimiter=":",u?t.exports=p:t.exports=_,t.exports.posix=_,t.exports.win32=p}).call(e,n(9))},function(t,e,n){(function(t,i){function r(t,n){var i={seen:[],stylize:a};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),_(n)?i.showHidden=n:n&&e._extend(i,n),A(i.showHidden)&&(i.showHidden=!1),A(i.depth)&&(i.depth=2),A(i.colors)&&(i.colors=!1),A(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=o),l(i,t,i.depth)}function o(t,e){var n=r.styles[e];return n?"["+r.colors[n][0]+"m"+t+"["+r.colors[n][1]+"m":t}function a(t,e){return t}function s(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function l(t,n,i){if(t.customInspect&&n&&C(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,t);return g(r)||(r=l(t,r,i)),r}var o=u(t,n);if(o)return o;var a=Object.keys(n),_=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),w(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return h(n);if(0===a.length){if(C(n)){var m=n.name?": "+n.name:"";return t.stylize("[Function"+m+"]","special")}if(b(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(E(n))return t.stylize(Date.prototype.toString.call(n),"date");if(w(n))return h(n)}var y="",v=!1,T=["{","}"];if(f(n)&&(v=!0,T=["[","]"]),C(n)){var A=n.name?": "+n.name:"";y=" [Function"+A+"]"}if(b(n)&&(y=" "+RegExp.prototype.toString.call(n)),E(n)&&(y=" "+Date.prototype.toUTCString.call(n)),w(n)&&(y=" "+h(n)),0===a.length&&(!v||0==n.length))return T[0]+y+T[1];if(i<0)return b(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var S;return S=v?c(t,n,i,_,a):a.map(function(e){return d(t,n,i,_,e,v)}),t.seen.pop(),p(S,y,T)}function u(t,e){if(A(e))return t.stylize("undefined","undefined");if(g(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return v(e)?t.stylize(""+e,"number"):_(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function c(t,e,n,i,r){for(var o=[],a=0,s=e.length;a<s;++a)D(e,String(a))?o.push(d(t,e,n,i,String(a),!0)):o.push("");return r.forEach(function(r){r.match(/^\d+$/)||o.push(d(t,e,n,i,r,!0))}),o}function d(t,e,n,i,r,o){var a,s,u;if(u=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]},u.get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),D(i,r)||(a="["+r+"]"),s||(t.seen.indexOf(u.value)<0?(s=m(n)?l(t,u.value,null):l(t,u.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),A(a)){if(o&&r.match(/^\d+$/))return s;a=JSON.stringify(""+r),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function p(t,e,n){var i=0,r=t.reduce(function(t,e){return i++,e.indexOf("\n")>=0&&i++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function f(t){return Array.isArray(t)}function _(t){return"boolean"==typeof t}function m(t){return null===t}function y(t){return null==t}function v(t){return"number"==typeof t}function g(t){return"string"==typeof t}function T(t){return"symbol"==typeof t}function A(t){return void 0===t}function b(t){return S(t)&&"[object RegExp]"===x(t)}function S(t){return"object"==typeof t&&null!==t}function E(t){return S(t)&&"[object Date]"===x(t)}function w(t){return S(t)&&("[object Error]"===x(t)||t instanceof Error)}function C(t){return"function"==typeof t}function P(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function x(t){return Object.prototype.toString.call(t)}function M(t){return t<10?"0"+t.toString(10):t.toString(10)}function O(){var t=new Date,e=[M(t.getHours()),M(t.getMinutes()),M(t.getSeconds())].join(":");return[t.getDate(),B[t.getMonth()],e].join(" ")}function D(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var I=/%[sdj%]/g;e.format=function(t){if(!g(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(r(arguments[n]));return e.join(" ")}for(var n=1,i=arguments,o=i.length,a=String(t).replace(I,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return t}}),s=i[n];n<o;s=i[++n])a+=m(s)||!S(s)?" "+s:" "+r(s);return a},e.deprecate=function(n,r){function o(){if(!a){if(i.throwDeprecation)throw new Error(r);i.traceDeprecation?console.trace(r):console.error(r),a=!0}return n.apply(this,arguments)}if(A(t.process))return function(){return e.deprecate(n,r).apply(this,arguments)};if(i.noDeprecation===!0)return n;var a=!1;return o};var N,L={};e.debuglog=function(t){if(A(N)&&(N=i.env.NODE_DEBUG||""),t=t.toUpperCase(),!L[t])if(new RegExp("\\b"+t+"\\b","i").test(N)){var n=i.pid;L[t]=function(){var i=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,i)}}else L[t]=function(){};return L[t]},e.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=f,e.isBoolean=_,e.isNull=m,e.isNullOrUndefined=y,e.isNumber=v,e.isString=g,e.isSymbol=T,e.isUndefined=A,e.isRegExp=b,e.isObject=S,e.isDate=E,e.isError=w,e.isFunction=C,e.isPrimitive=P,e.isBuffer=n(105);var B=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",O(),e.format.apply(e,arguments))},e.inherits=n(106),e._extend=function(t,e){if(!e||!S(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}}).call(e,function(){return this}(),n(9))},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(28),s=i(a),l=new s.default,u=function(){function t(e,n){r(this,t),this._texture=e,this.mapCoord=new s.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin="undefined"==typeof n?.5:n}return t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var n=this.mapCoord,i=0;i<t.length;i+=2){var r=t[i],o=t[i+1];e[i]=r*n.a+o*n.c+n.tx,e[i+1]=r*n.b+o*n.d+n.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var n=e._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=e.orig,r=e.trim;r&&(l.set(i.width/r.width,0,0,i.height/r.height,-r.x/r.width,-r.y/r.height),this.mapCoord.append(l));var o=e.baseTexture,a=this.uClampFrame,s=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(e._frame.x+s+u)/o.width,a[1]=(e._frame.y+s+u)/o.height,a[2]=(e._frame.x+e._frame.width-s+u)/o.width,a[3]=(e._frame.y+e._frame.height-s+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,!0},o(t,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),t}();e.default=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(97),l=i(s),u=function(t){function e(n){r(this,e);var i=o(this,t.call(this,n));return i.stencilMaskStack=null,i}return a(e,t),e.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},e.prototype.pushStencil=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,n=this.stencilMaskStack.length;0===n&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,n,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),this._useCurrent()},e.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(e),this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},e.prototype.destroy=function(){l.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},e}(l.default);e.default=u},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var l=n(97),u=r(l),h=n(110),c=r(h),d=n(111),p=r(d),f=n(25),_=n(113),m=r(_),y=n(114),v=i(y),g=n(79),T=r(g),A=function(){function t(){s(this,t),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new f.Rectangle,this.destinationFrame=new f.Rectangle,this.filters=[]}return t.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null},t}(),b="screen",S=function(t){function e(n){s(this,e);var i=o(this,t.call(this,n));return i.gl=i.renderer.gl,i.quad=new p.default(i.gl,n.state.attribState),i.shaderCache={},i.pool={},i.filterData=null,i.managedFilters=[],i.renderer.on("prerender",i.onPrerender,i),i._screenWidth=n.view.width,i._screenHeight=n.view.height,i}return a(e,t),e.prototype.pushFilter=function(t,e){var n=this.renderer,i=this.filterData;if(!i){i=this.renderer._activeRenderTarget.filterStack;var r=new A;r.sourceFrame=r.destinationFrame=this.renderer._activeRenderTarget.size,r.renderTarget=n._activeRenderTarget,this.renderer._activeRenderTarget.filterData=i={index:0,stack:[r]},this.filterData=i}var o=i.stack[++i.index],a=i.stack[0].destinationFrame;o||(o=i.stack[i.index]=new A);var s=t.filterArea&&0===t.filterArea.x&&0===t.filterArea.y&&t.filterArea.width===n.screen.width&&t.filterArea.height===n.screen.height,l=e[0].resolution,u=0|e[0].padding,h=s?n.screen:t.filterArea||t.getBounds(!0),c=o.sourceFrame,d=o.destinationFrame;c.x=(h.x*l|0)/l,c.y=(h.y*l|0)/l,c.width=(h.width*l|0)/l,c.height=(h.height*l|0)/l,s||(i.stack[0].renderTarget.transform||e[0].autoFit&&c.fit(a),c.pad(u)),d.width=c.width,d.height=c.height;var p=this.getPotRenderTarget(n.gl,c.width,c.height,l);o.target=t,o.filters=e,o.resolution=l,o.renderTarget=p,p.setFrame(d,c),n.bindRenderTarget(p),p.clear()},e.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],n=t.stack[t.index];this.quad.map(n.renderTarget.size,n.sourceFrame).upload();var i=n.filters;if(1===i.length)i[0].apply(this,n.renderTarget,e.renderTarget,!1,n),this.freePotRenderTarget(n.renderTarget);else{var r=n.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,n.resolution);o.setFrame(n.destinationFrame,n.sourceFrame),o.clear();var a=0;for(a=0;a<i.length-1;++a){i[a].apply(this,r,o,!0,n);var s=r;r=o,o=s}i[a].apply(this,r,e.renderTarget,!1,n),this.freePotRenderTarget(r),this.freePotRenderTarget(o)}n.clear(),t.index--,0===t.index&&(this.filterData=null)},e.prototype.applyFilter=function(t,e,n,i){var r=this.renderer,o=r.gl,a=t.glShaders[r.CONTEXT_UID];a||(t.glShaderKey?(a=this.shaderCache[t.glShaderKey],a||(a=new m.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[r.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=a,this.managedFilters.push(t))):(a=t.glShaders[r.CONTEXT_UID]=new m.default(this.gl,t.vertexSrc,t.fragmentSrc),this.managedFilters.push(t)),r.bindVao(null),this.quad.initVao(a)),r.bindVao(this.quad.vao),r.bindRenderTarget(n),i&&(o.disable(o.SCISSOR_TEST),r.clear(),o.enable(o.SCISSOR_TEST)),n===r.maskManager.scissorRenderTarget&&r.maskManager.pushScissorMask(null,r.maskManager.scissorData),r.bindShader(a);var s=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=s,this.syncUniforms(a,t),r.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,s._glTextures[this.renderer.CONTEXT_UID].texture)},e.prototype.syncUniforms=function(t,e){var n=e.uniformData,i=e.uniforms,r=1,o=void 0;if(t.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var a=t.uniforms.filterArea;a[0]=o.renderTarget.size.width,a[1]=o.renderTarget.size.height,a[2]=o.sourceFrame.x,a[3]=o.sourceFrame.y,t.uniforms.filterArea=a}if(t.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var s=t.uniforms.filterClamp;s[0]=0,s[1]=0,s[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,s[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,t.uniforms.filterClamp=s}for(var l in n)if(t.uniforms.data[l]){var u=n[l].type;if("sampler2d"===u&&0!==i[l]){if(i[l].baseTexture)t.uniforms[l]=this.renderer.bindTexture(i[l].baseTexture,r);else{t.uniforms[l]=r;var h=this.renderer.gl;this.renderer.boundTextures[r]=this.renderer.emptyTextures[r],h.activeTexture(h.TEXTURE0+r),i[l].texture.bind()}r++}else if("mat3"===u)void 0!==i[l].a?t.uniforms[l]=i[l].toArray(!0):t.uniforms[l]=i[l];else if("vec2"===u)if(void 0!==i[l].x){var c=t.uniforms[l]||new Float32Array(2);c[0]=i[l].x,c[1]=i[l].y,t.uniforms[l]=c}else t.uniforms[l]=i[l];else"float"===u?t.uniforms.data[l].value!==n[l]&&(t.uniforms[l]=i[l]):t.uniforms[l]=i[l]}},e.prototype.getRenderTarget=function(t,e){var n=this.filterData.stack[this.filterData.index],i=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,e||n.resolution);return i.setFrame(n.destinationFrame,n.sourceFrame),i},e.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},e.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return v.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},e.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return v.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)},e.prototype.calculateSpriteMatrix=function(t,e){var n=this.filterData.stack[this.filterData.index];return v.calculateSpriteMatrix(t,n.sourceFrame,n.renderTarget.size,e)},e.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.renderer,n=this.managedFilters;e.off("prerender",this.onPrerender,this);for(var i=0;i<n.length;i++)t||n[i].glShaders[e.CONTEXT_UID].destroy(),delete n[i].glShaders[e.CONTEXT_UID];this.shaderCache={},t?this.pool={}:this.emptyPool()},e.prototype.getPotRenderTarget=function(t,e,n,i){var r=b;e*=i,n*=i,e===this._screenWidth&&n===this._screenHeight||(e=T.default.nextPow2(e),n=T.default.nextPow2(n),r=(65535&e)<<16|65535&n),this.pool[r]||(this.pool[r]=[]);var o=this.pool[r].pop();if(!o){var a=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0),o=new c.default(t,e,n,null,1),t.bindTexture(t.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture)}return o.resolution=i,o.defaultFrame.width=o.size.width=e/i,o.defaultFrame.height=o.size.height=n/i,o.filterPoolKey=r,o},e.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var n=0;n<e.length;n++)e[n].destroy(!0)}this.pool={}},e.prototype.freePotRenderTarget=function(t){this.pool[t.filterPoolKey].push(t)},e.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var t=this.pool[b];if(t)for(var e=0;e<t.length;e++)t[e].destroy(!0);this.pool[b]=[]}},e}(u.default);e.default=S},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=n(25),a=n(24),s=n(55),l=i(s),u=n(35),h=function(){function t(e,n,i,s,h,c){r(this,t),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new o.Rectangle(0,0,1,1),this.resolution=h||l.default.RESOLUTION,this.projectionMatrix=new o.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new o.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=void 0!==s?s:l.default.SCALE_MODE,this.root=c||!1,this.root?(this.frameBuffer=new u.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=u.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===a.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(n,i)}return t.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},t.prototype.calculateProjection=function(t,e){var n=this.projectionMatrix;e=e||t,n.identity(),this.root?(n.a=1/t.width*2,n.d=-1/t.height*2,n.tx=-1-e.x*n.a,n.ty=1-e.y*n.d):(n.a=1/t.width*2,n.d=1/t.height*2,n.tx=-1-e.x*n.a,n.ty=-1-e.y*n.d)},t.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var n=this.frame||this.size;this.calculateProjection(n)}},t.prototype.destroy=function(){this.frameBuffer.stencil&&this.gl.deleteRenderbuffer(this.frameBuffer.stencil),this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}();e.default=h},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=n(35),a=i(o),s=n(112),l=i(s),u=function(){function t(e,n){r(this,t),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var i=0;i<4;i++)this.interleaved[4*i]=this.vertices[2*i],this.interleaved[4*i+1]=this.vertices[2*i+1],this.interleaved[4*i+2]=this.uvs[2*i],this.interleaved[4*i+3]=this.uvs[2*i+1];this.indices=(0,l.default)(1),this.vertexBuffer=a.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=a.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new a.default.VertexArrayObject(e,n)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+e.width/t.width,this.uvs[3]=i,this.uvs[4]=n+e.width/t.width,this.uvs[5]=i+e.height/t.height,this.uvs[6]=n,this.uvs[7]=i+e.height/t.height,n=e.x,i=e.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+e.width,this.vertices[3]=i,this.vertices[4]=n+e.width,this.vertices[5]=i+e.height,this.vertices[6]=n,this.vertices[7]=i+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},t}();e.default=u},function(t,e){"use strict";function n(t){for(var e=6*t,n=new Uint16Array(e),i=0,r=0;i<e;i+=6,r+=4)n[i+0]=r+0,n[i+1]=r+1,n[i+2]=r+2,n[i+3]=r+0,n[i+4]=r+2,n[i+5]=r+3;return n}e.__esModule=!0,e.default=n},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(t instanceof Array){if("precision"!==t[0].substring(0,9)){var n=t.slice(0);return n.unshift("precision "+e+" float;"),n}}else if("precision"!==t.trim().substring(0,9))return"precision "+e+" float;\n"+t;return t}e.__esModule=!0;var l=n(35),u=n(55),h=i(u),c=function(t){function e(n,i,a,l,u){return r(this,e),o(this,t.call(this,n,s(i,u||h.default.PRECISION_VERTEX),s(a,u||h.default.PRECISION_FRAGMENT),void 0,l))}return a(e,t),e}(l.GLShader);e.default=c},function(t,e,n){"use strict";function i(t,e,n){var i=t.identity();return i.translate(e.x/n.width,e.y/n.height),i.scale(n.width,n.height),i}function r(t,e,n){var i=t.identity();i.translate(e.x/n.width,e.y/n.height);var r=n.width/e.width,o=n.height/e.height;return i.scale(r,o),i}function o(t,e,n,i){var r=i._texture.orig,o=t.set(n.width,0,0,n.height,e.x,e.y),s=i.worldTransform.copy(a.Matrix.TEMP_MATRIX);return s.invert(),o.prepend(s),o.scale(1/r.width,1/r.height),o.translate(i.anchor.x,i.anchor.y),o}e.__esModule=!0,e.calculateScreenSpaceMatrix=i,e.calculateNormalizedScreenSpaceMatrix=r,e.calculateSpriteMatrix=o;var a=n(25)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=n(35),a=n(24),s=n(110),l=i(s),u=n(63),h=function(){function t(e){r(this,t),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return t.prototype.bindTexture=function(){},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,e){var n=this.gl,i=!!t._glRenderTargets;if(!t.hasLoaded)return null;var r=this.renderer.boundTextures;if(void 0===e){e=0;for(var s=0;s<r.length;++s)if(r[s]===t){e=s;break}}r[e]=t,n.activeTexture(n.TEXTURE0+e);var u=t._glTextures[this.renderer.CONTEXT_UID];if(u)i?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):u.upload(t.source);else{if(i){var h=new l.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);h.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=h,u=h.texture,this.renderer._activeRenderTarget.root||this.renderer._activeRenderTarget.frameBuffer.bind()}else u=new o.GLTexture(this.gl,null,null,null,null),u.bind(e),u.premultiplyAlpha=!0,u.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=u,t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&u.enableMipmap(),t.wrapMode===a.WRAP_MODES.CLAMP?u.enableWrapClamp():t.wrapMode===a.WRAP_MODES.REPEAT?u.enableWrapRepeat():u.enableWrapMirrorRepeat()):u.enableWrapClamp(),t.scaleMode===a.SCALE_MODES.NEAREST?u.enableNearestScaling():u.enableLinearScaling()}return u},t.prototype.destroyTexture=function(t,e){if(t=t.baseTexture||t,t.hasLoaded){var n=this.renderer,i=n.CONTEXT_UID,r=t._glTextures,o=t._glRenderTargets;if(r[i]&&(n.unbindTexture(t),r[i].destroy(),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this),delete r[i],!e)){var a=this._managedTextures.indexOf(t);a!==-1&&(0,u.removeItems)(this._managedTextures,a,1)}o&&o[i]&&(n._activeRenderTarget===o[i]&&n.bindRenderTarget(n.rootRenderTarget),o[i].destroy(),delete o[i])}},t.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this)}this._managedTextures=null},t}();e.default=h},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=n(24),a=n(55),s=i(a),l=function(){function t(e){r(this,t),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=s.default.GC_MAX_IDLE,this.checkCountMax=s.default.GC_MAX_CHECK_COUNT,this.mode=s.default.GC_MODE}return t.prototype.update=function(){this.count++,this.mode!==o.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},t.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,n=!1,i=0;i<e.length;i++){var r=e[i];!r._glRenderTargets&&this.count-r.touched>this.maxIdle&&(t.destroyTexture(r,!0),e[i]=null,n=!0)}if(n){for(var o=0,a=0;a<e.length;a++)null!==e[a]&&(e[o++]=e[a]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var n=t.children.length-1;n>=0;n--)this.unload(t.children[n])},t}();e.default=l},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=n(118),a=i(o),s=0,l=1,u=2,h=3,c=4,d=function(){function t(e){r(this,t),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,a.default)(e),this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.push=function(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]},t.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},t.prototype.setState=function(t){this.setBlend(t[s]),this.setDepthTest(t[l]),this.setFrontFace(t[u]),
this.setCullFace(t[h]),this.setBlendMode(t[c])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[s]!==t&&(this.activeState[s]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){if(t!==this.activeState[c]){this.activeState[c]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[l]!==t&&(this.activeState[l]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[h]!==t&&(this.activeState[h]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[u]!==t&&(this.activeState[u]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var n=1;n<this.maxAttribs;n++)this.gl.disableVertexAttribArray(n)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t}();e.default=d},function(t,e,n){"use strict";function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[r.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.ADD]=[t.ONE,t.ONE],e[r.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[r.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e}e.__esModule=!0,e.default=i;var r=n(24)},function(t,e,n){"use strict";function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[r.DRAW_MODES.POINTS]=t.POINTS,e[r.DRAW_MODES.LINES]=t.LINES,e[r.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[r.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[r.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[r.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[r.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e}e.__esModule=!0,e.default=i;var r=n(24)},function(t,e){"use strict";function n(t){var e=t.getContextAttributes();e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}e.__esModule=!0,e.default=n},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",i=l;i=i.replace(/%count%/gi,e),i=i.replace(/%forloop%/gi,o(e));for(var r=new s.default(t,n,i),a=[],u=0;u<e;u++)a[u]=u;return r.bind(),r.uniforms.uSamplers=a,r}function o(t){var e="";e+="\n",e+="\n";for(var n=0;n<t;n++)n>0&&(e+="\nelse "),n<t-1&&(e+="if(vTextureId < "+n+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+n+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}e.__esModule=!0,e.default=r;var a=n(113),s=i(a),l=(n(103),["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","%forloop%","gl_FragColor = color * vColor;","}"].join("\n"))},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n=!e;if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(n){var i=document.createElement("canvas");i.width=1,i.height=1,e=s.default.createContext(i)}for(var r=e.createShader(e.FRAGMENT_SHADER);;){var a=l.replace(/%forloop%/gi,o(t));if(e.shaderSource(r,a),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))break;t=t/2|0}return n&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext(),t}function o(t){for(var e="",n=0;n<t;++n)n>0&&(e+="\nelse "),n<t-1&&(e+="if(test == "+n+".0){}");return e}e.__esModule=!0,e.default=r;var a=n(35),s=i(a),l=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n")},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(e){n(this,t),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}();e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(69),u=i(l),h=n(70),c=i(h),d=n(25),p=n(63),f=n(24),_=n(55),m=i(_),y=n(125),v=i(y),g=n(126),T=i(g),A=n(127),b=i(A),S={texture:!0,children:!1,baseTexture:!0},E=function(t){function e(n,i,a){r(this,e),a=a||document.createElement("canvas"),a.width=3,a.height=3;var s=c.default.fromCanvas(a,m.default.SCALE_MODE,"text");s.orig=new d.Rectangle,s.trim=new d.Rectangle;var l=o(this,t.call(this,s));return c.default.addToCache(l._texture,l._texture.baseTexture.textureCacheIds[0]),l.canvas=a,l.context=l.canvas.getContext("2d"),l.resolution=m.default.RESOLUTION,l._text=null,l._style=null,l._styleListener=null,l._font="",l.text=n,l.style=i,l.localStyleID=-1,l}return a(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var n=this.context,i=T.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),r=i.width,o=i.height,a=i.lines,s=i.lineHeight,l=i.lineWidths,u=i.maxLineWidth,h=i.fontProperties;this.canvas.width=Math.ceil((Math.max(1,r)+2*e.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,o)+2*e.padding)*this.resolution),n.scale(this.resolution,this.resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.strokeStyle=e.stroke,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;var c=void 0,d=void 0;if(e.dropShadow){n.fillStyle=e.dropShadowColor,n.globalAlpha=e.dropShadowAlpha,n.shadowBlur=e.dropShadowBlur,e.dropShadowBlur>0&&(n.shadowColor=e.dropShadowColor);for(var p=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,f=Math.sin(e.dropShadowAngle)*e.dropShadowDistance,_=0;_<a.length;_++)c=e.strokeThickness/2,d=e.strokeThickness/2+_*s+h.ascent,"right"===e.align?c+=u-l[_]:"center"===e.align&&(c+=(u-l[_])/2),e.fill&&(this.drawLetterSpacing(a[_],c+p+e.padding,d+f+e.padding),e.stroke&&e.strokeThickness&&(n.strokeStyle=e.dropShadowColor,this.drawLetterSpacing(a[_],c+p+e.padding,d+f+e.padding,!0),n.strokeStyle=e.stroke))}n.shadowBlur=0,n.globalAlpha=1,n.fillStyle=this._generateFillStyle(e,a);for(var m=0;m<a.length;m++)c=e.strokeThickness/2,d=e.strokeThickness/2+m*s+h.ascent,"right"===e.align?c+=u-l[m]:"center"===e.align&&(c+=(u-l[m])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(a[m],c+e.padding,d+e.padding,!0),e.fill&&this.drawLetterSpacing(a[m],c+e.padding,d+e.padding);this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=this._style,o=r.letterSpacing;if(0===o)return void(i?this.context.strokeText(t,e,n):this.context.fillText(t,e,n));for(var a=String.prototype.split.call(t,""),s=e,l=0,u="",h=this.context.measureText(t).width,c=0;l<t.length;)u=a[l++],i?this.context.strokeText(u,s,n):this.context.fillText(u,s,n),c=this.context.measureText(t.substring(l)).width,s+=h-c+o,h=c},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,b.default)(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var n=this._texture,i=this._style,r=i.trim?0:i.padding,o=n.baseTexture;o.hasLoaded=!0,o.resolution=this.resolution,o.realWidth=t.width,o.realHeight=t.height,o.width=t.width/this.resolution,o.height=t.height/this.resolution,n.trim.width=n._frame.width=t.width/this.resolution,n.trim.height=n._frame.height=t.height/this.resolution,n.trim.x=-r,n.trim.y=-r,n.orig.width=n._frame.width-2*r,n.orig.height=n._frame.height-2*r,this._onTextureUpdate(),o.emit("update",o),this.dirty=!1},e.prototype.renderWebGL=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype.renderWebGL.call(this,e)},e.prototype._renderCanvas=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var n=void 0,i=void 0,r=void 0,o=void 0,a=this.canvas.width/this.resolution,s=this.canvas.height/this.resolution,l=t.fill.slice(),u=t.fillGradientStops.slice();if(!u.length)for(var h=l.length+1,c=1;c<h;++c)u.push(c/h);if(l.unshift(t.fill[0]),u.unshift(0),l.push(t.fill[t.fill.length-1]),u.push(1),t.fillGradientType===f.TEXT_GRADIENT.LINEAR_VERTICAL){n=this.context.createLinearGradient(a/2,0,a/2,s),i=(l.length+1)*e.length,r=0;for(var d=0;d<e.length;d++){r+=1;for(var p=0;p<l.length;p++)o="number"==typeof u[p]?u[p]/e.length+d/e.length:r/i,n.addColorStop(o,l[p]),r++}}else{n=this.context.createLinearGradient(0,s/2,a,s/2),i=l.length+1,r=1;for(var _=0;_<l.length;_++)o="number"==typeof u[_]?u[_]:r/i,n.addColorStop(o,l[_]),r++}return n},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},S,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},s(e,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,p.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,p.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"style",get:function(){return this._style},set:function(t){t=t||{},t instanceof v.default?this._style=t:this._style=new v.default(t),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(t){t=String(""===t||null===t||void 0===t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0)}}]),e}(u.default);e.default=E},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){return"number"==typeof t?(0,h.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function o(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=r(t[e]);return t}return r(t)}function a(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}function s(t,e,n){for(var i in n)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}e.__esModule=!0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(24),h=n(63),c={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:u.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},d=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],p=function(){function t(e){i(this,t),this.styleID=0,this.reset(),s(this,e,e)}return t.prototype.clone=function(){var e={};return s(e,this,c),new t(e)},t.prototype.reset=function(){s(this,c,c)},t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var n=e.length-1;n>=0;n--){var i=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&d.indexOf(i)<0&&(i='"'+i+'"'),e[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},l(t,[{key:"align",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(t){var e=o(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(t){var e=o(t);this._fill!==e&&(this._fill=e,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(t){a(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(t){var e=o(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),t}();e.default=p},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(e,i,r,o,a,s,l,u,h){n(this,t),this.text=e,this.style=i,this.width=r,this.height=o,this.lines=a,this.lineWidths=s,this.lineHeight=l,this.maxLineWidth=u,this.fontProperties=h}return t.measureText=function(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t._canvas;i=void 0===i||null===i?n.wordWrap:i;var o=n.toFontString(),a=t.measureFont(o),s=r.getContext("2d");s.font=o;for(var l=i?t.wordWrap(e,n,r):e,u=l.split(/(?:\r\n|\r|\n)/),h=new Array(u.length),c=0,d=0;d<u.length;d++){var p=s.measureText(u[d]).width+(u[d].length-1)*n.letterSpacing;h[d]=p,c=Math.max(c,p)}var f=c+n.strokeThickness;n.dropShadow&&(f+=n.dropShadowDistance);var _=n.lineHeight||a.fontSize+n.strokeThickness,m=Math.max(_,a.fontSize+n.strokeThickness)+(u.length-1)*(_+n.leading);return n.dropShadow&&(m+=n.dropShadowDistance),new t(e,n,f,m,u,h,_+n.leading,c,a)},t.wordWrap=function(e,n){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t._canvas,r=i.getContext("2d"),o=0,a="",s="",l={},u=n.letterSpacing,h=n.whiteSpace,c=t.collapseSpaces(h),d=t.collapseNewlines(h),p=!c,f=n.wordWrapWidth+u,_=t.tokenize(e),m=0;m<_.length;m++){var y=_[m];if(t.isNewline(y)){if(!d){s+=t.addLine(a),p=!c,a="",o=0;continue}y=" "}if(c){var v=t.isBreakingSpace(y),g=t.isBreakingSpace(a[a.length-1]);if(v&&g)continue}var T=t.getFromCache(y,u,l,r);if(T>f)if(""!==a&&(s+=t.addLine(a),a="",o=0),t.canBreakWords(y,n.breakWords))for(var A=y.split(""),b=0;b<A.length;b++){for(var S=A[b],E=1;A[b+E];){var w=A[b+E],C=S[S.length-1];if(t.canBreakChars(C,w,y,b,n.breakWords))break;S+=w,E++}b+=S.length-1;var P=t.getFromCache(S,u,l,r);P+o>f&&(s+=t.addLine(a),p=!1,a="",o=0),a+=S,o+=P}else{a.length>0&&(s+=t.addLine(a),a="",o=0);var x=m===_.length-1;s+=t.addLine(y,!x),p=!1,a="",o=0}else T+o>f&&(p=!1,s+=t.addLine(a),a="",o=0),(a.length>0||!t.isBreakingSpace(y)||p)&&(a+=y,o+=T)}return s+=t.addLine(a,!1)},t.addLine=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e=t.trimRight(e),e=n?e+"\n":e},t.getFromCache=function(t,e,n,i){var r=n[t];if(void 0===r){var o=t.length*e;r=i.measureText(t).width+o,n[t]=r}return r},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var n=e.length-1;n>=0;n--){var i=e[n];if(!t.isBreakingSpace(i))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var n=[],i="";if("string"!=typeof e)return n;for(var r=0;r<e.length;r++){var o=e[r];t.isBreakingSpace(o)||t.isNewline(o)?(""!==i&&(n.push(i),i=""),n.push(o)):i+=o}return""!==i&&n.push(i),n},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,n,i,r){return!0},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var n={},i=t._canvas,r=t._context;r.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,a=Math.ceil(r.measureText(o).width),s=Math.ceil(r.measureText(t.BASELINE_SYMBOL).width),l=2*s;s=s*t.BASELINE_MULTIPLIER|0,i.width=a,i.height=l,r.fillStyle="#f00",r.fillRect(0,0,a,l),r.font=e,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(o,0,s);var u=r.getImageData(0,0,a,l).data,h=u.length,c=4*a,d=0,p=0,f=!1;for(d=0;d<s;++d){for(var _=0;_<c;_+=4)if(255!==u[p+_]){f=!0;break}if(f)break;p+=c}for(n.ascent=s-d,p=h-c,f=!1,d=l;d>s;--d){for(var m=0;m<c;m+=4)if(255!==u[p+m]){f=!0;break}if(f)break;p-=c}return n.descent=d-s,n.fontSize=n.ascent+n.descent,t._fonts[e]=n,n},t.clearMetrics=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e?delete t._fonts[e]:t._fonts={}},t}();e.default=i;var r=document.createElement("canvas");r.width=r.height=10,i._canvas=r,i._context=r.getContext("2d"),i._fonts={},i.METRICS_STRING="|Éq",i.BASELINE_SYMBOL="M",i.BASELINE_MULTIPLIER=1.4,i._newlines=[10,13],i._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},function(t,e){"use strict";function n(t){var e=t.width,n=t.height,i=t.getContext("2d"),r=i.getImageData(0,0,e,n),o=r.data,a=o.length,s={top:null,left:null,right:null,bottom:null},l=null,u=void 0,h=void 0,c=void 0;for(u=0;u<a;u+=4)0!==o[u+3]&&(h=u/4%e,c=~~(u/4/e),null===s.top&&(s.top=c),null===s.left?s.left=h:h<s.left&&(s.left=h),null===s.right?s.right=h+1:s.right<h&&(s.right=h+1),null===s.bottom?s.bottom=c:s.bottom<c&&(s.bottom=c));return null!==s.top&&(e=s.right-s.left,n=s.bottom-s.top+1,l=i.getImageData(s.left,s.top,e,n)),{height:n,width:e,data:l}}e.__esModule=!0,e.default=n},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(62),l=i(s),u=n(88),h=i(u),c=n(70),d=i(c),p=n(129),f=i(p),_=n(69),m=i(_),y=n(25),v=n(63),g=n(24),T=n(52),A=i(T),b=n(130),S=i(b),E=n(86),w=i(E),C=void 0,P=new y.Matrix,x=new y.Point,M=new Float32Array(4),O=new Float32Array(4),D=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r(this,e);var i=o(this,t.call(this));return i.fillAlpha=1,i.lineWidth=0,i.nativeLines=n,i.lineColor=0,i.lineAlignment=.5,i.graphicsData=[],i.tint=16777215,i._prevTint=16777215,i.blendMode=g.BLEND_MODES.NORMAL,i.currentPath=null,i._webGL={},i.isMask=!1,i.boundsPadding=0,i._localBounds=new A.default,i.dirty=0,i.fastRectDirty=-1,i.clearDirty=0,i.boundsDirty=-1,i.cachedSpriteDirty=!1,i._spriteRect=null,i._fastRect=!1,i._prevRectTint=null,i._prevRectFillColor=null,i}return a(e,t),e.prototype.clone=function t(){var t=new e;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.lineAlignment=this.lineAlignment,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var n=0;n<this.graphicsData.length;++n)t.graphicsData.push(this.graphicsData[n].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},e.prototype._quadraticCurveLength=function(t,e,n,i,r,o){var a=t-2*n+r,s=e-2*i+o,l=2*n-2*t,u=2*i-2*e,h=4*(a*a+s*s),c=4*(a*l+s*u),d=l*l+u*u,p=2*Math.sqrt(h+c+d),f=Math.sqrt(h),_=2*h*f,m=2*Math.sqrt(d),y=c/f;return(_*p+f*c*(p-m)+(4*d*h-c*c)*Math.log((2*f+y+p)/(y+m)))/(4*_)},e.prototype._bezierCurveLength=function(t,e,n,i,r,o,a,s){for(var l=10,u=0,h=0,c=0,d=0,p=0,f=0,_=0,m=0,y=0,v=0,g=0,T=t,A=e,b=1;b<=l;++b)h=b/l,c=h*h,d=c*h,p=1-h,f=p*p,_=f*p,m=_*t+3*f*h*n+3*p*c*r+d*a,y=_*e+3*f*h*i+3*p*c*o+d*s,v=T-m,g=A-y,T=m,A=y,u+=Math.sqrt(v*v+g*g);return u},e.prototype._segmentsCount=function(t){var n=Math.ceil(t/e.CURVES.maxLength);return n<e.CURVES.minSegments?n=e.CURVES.minSegments:n>e.CURVES.maxSegments&&(n=e.CURVES.maxSegments),n},e.prototype.lineStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;if(this.lineWidth=t,this.lineColor=e,this.lineAlpha=n,this.lineAlignment=i,this.currentPath)if(this.currentPath.shape.points.length){var r=new y.Polygon(this.currentPath.shape.points.slice(-2));r.closed=!1,this.drawShape(r)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this},e.prototype.moveTo=function(t,e){var n=new y.Polygon([t,e]);return n.closed=!1,this.drawShape(n),this},e.prototype.lineTo=function(t,e){var n=this.currentPath.shape.points,i=n[n.length-2],r=n[n.length-1];return i===t&&r===e||(n.push(t,e),this.dirty++),this},e.prototype.quadraticCurveTo=function(t,n,i,r){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var o=this.currentPath.shape.points,a=0,s=0;0===o.length&&this.moveTo(0,0);for(var l=o[o.length-2],u=o[o.length-1],h=e.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(l,u,t,n,i,r)):20,c=1;c<=h;++c){var d=c/h;a=l+(t-l)*d,s=u+(n-u)*d,o.push(a+(t+(i-t)*d-a)*d,s+(n+(r-n)*d-s)*d)}return this.dirty++,this},e.prototype.bezierCurveTo=function(t,n,i,r,o,a){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var s=this.currentPath.shape.points,l=s[s.length-2],u=s[s.length-1];s.length-=2;var h=e.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(l,u,t,n,i,r,o,a)):20;return(0,S.default)(l,u,t,n,i,r,o,a,h,s),this.dirty++,this},e.prototype.arcTo=function(t,e,n,i,r){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,a=o[o.length-2],s=o[o.length-1],l=s-e,u=a-t,h=i-e,c=n-t,d=Math.abs(l*c-u*h);if(d<1e-8||0===r)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var p=l*l+u*u,f=h*h+c*c,_=l*h+u*c,m=r*Math.sqrt(p)/d,y=r*Math.sqrt(f)/d,v=m*_/p,g=y*_/f,T=m*c+y*u,A=m*h+y*l,b=u*(y+v),S=l*(y+v),E=c*(m+g),w=h*(m+g),C=Math.atan2(S-A,b-T),P=Math.atan2(w-A,E-T);this.arc(T+t,A+e,r,C,P,u*h>c*l)}return this.dirty++,this},e.prototype.arc=function(t,n,i,r,o){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(r===o)return this;!a&&o<=r?o+=g.PI_2:a&&r<=o&&(r+=g.PI_2);var s=o-r,l=e.CURVES.adaptive?this._segmentsCount(Math.abs(s)*i):40*Math.ceil(Math.abs(s)/g.PI_2);if(0===s)return this;var u=t+Math.cos(r)*i,h=n+Math.sin(r)*i,c=this.currentPath?this.currentPath.shape.points:null;if(c){var d=Math.abs(c[c.length-2]-u),p=Math.abs(c[c.length-1]-h);d<.001&&p<.001||c.push(u,h)}else this.moveTo(u,h),c=this.currentPath.shape.points;for(var f=s/(2*l),_=2*f,m=Math.cos(f),y=Math.sin(f),v=l-1,T=v%1/v,A=0;A<=v;++A){var b=A+T*A,S=f+r+_*b,E=Math.cos(S),w=-Math.sin(S);c.push((m*E+y*w)*i+t,(m*-w+y*E)*i+n)}return this.dirty++,this},e.prototype.beginFill=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},e.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},e.prototype.drawRect=function(t,e,n,i){return this.drawShape(new y.Rectangle(t,e,n,i)),this},e.prototype.drawRoundedRect=function(t,e,n,i,r){return this.drawShape(new y.RoundedRectangle(t,e,n,i,r)),this},e.prototype.drawCircle=function(t,e,n){return this.drawShape(new y.Circle(t,e,n)),this},e.prototype.drawEllipse=function(t,e,n,i){return this.drawShape(new y.Ellipse(t,e,n,i)),this},e.prototype.drawPolygon=function(t){var e=t,n=!0;if(e instanceof y.Polygon&&(n=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var i=0;i<e.length;++i)e[i]=arguments[i]}var r=new y.Polygon(e);return r.closed=n,this.drawShape(r),this},e.prototype.drawStar=function(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;r=r||i/2;for(var a=-1*Math.PI/2+o,s=2*n,l=g.PI_2/s,u=[],h=0;h<s;h++){var c=h%2?r:i,d=h*l+a;u.push(t+c*Math.cos(d),e+c*Math.sin(d))}return this.drawPolygon(u)},e.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.canvasTintDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===g.SHAPES.RECT&&!this.graphicsData[0].lineWidth},e.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},e.prototype._renderSpriteRect=function(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new m.default(new d.default(d.default.WHITE)));var n=this._spriteRect,i=this.graphicsData[0].fillColor;if(16777215===this.tint)n.tint=i;else if(this.tint!==this._prevRectTint||i!==this._prevRectFillColor){
var r=M,o=O;(0,v.hex2rgb)(i,r),(0,v.hex2rgb)(this.tint,o),r[0]*=o[0],r[1]*=o[1],r[2]*=o[2],n.tint=(0,v.rgb2hex)(r),this._prevRectTint=this.tint,this._prevRectFillColor=i}n.alpha=this.graphicsData[0].fillAlpha,n.worldAlpha=this.worldAlpha*n.alpha,n.blendMode=this.blendMode,n._texture._frame.width=e.width,n._texture._frame.height=e.height,n.transform.worldTransform=this.transform.worldTransform,n.anchor.set(-e.x/e.width,-e.y/e.height),n._onAnchorUpdate(),n._renderWebGL(t)},e.prototype._renderCanvas=function(t){this.isMask!==!0&&t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,x);for(var e=this.graphicsData,n=0;n<e.length;++n){var i=e[n];if(i.fill&&i.shape&&i.shape.contains(x.x,x.y)){var r=!1;if(i.holes)for(var o=0;o<i.holes.length;o++){var a=i.holes[o];if(a.contains(x.x,x.y)){r=!0;break}}if(!r)return!0}}return!1},e.prototype.updateLocalBounds=function(){var t=1/0,e=-(1/0),n=1/0,i=-(1/0);if(this.graphicsData.length)for(var r=0,o=0,a=0,s=0,l=0,u=0;u<this.graphicsData.length;u++){var h=this.graphicsData[u],c=h.type,d=h.lineWidth,p=h.lineAlignment,f=d*p;if(r=h.shape,c===g.SHAPES.RECT||c===g.SHAPES.RREC)o=r.x-f,a=r.y-f,s=r.width+2*f,l=r.height+2*f,t=o<t?o:t,e=o+s>e?o+s:e,n=a<n?a:n,i=a+l>i?a+l:i;else if(c===g.SHAPES.CIRC)o=r.x,a=r.y,s=r.radius+f,l=r.radius+f,t=o-s<t?o-s:t,e=o+s>e?o+s:e,n=a-l<n?a-l:n,i=a+l>i?a+l:i;else if(c===g.SHAPES.ELIP)o=r.x,a=r.y,s=r.width+f,l=r.height+f,t=o-s<t?o-s:t,e=o+s>e?o+s:e,n=a-l<n?a-l:n,i=a+l>i?a+l:i;else for(var _=r.points,m=0,y=0,v=0,T=0,A=0,b=0,S=0,E=0,w=0;w+2<_.length;w+=2)o=_[w],a=_[w+1],m=_[w+2],y=_[w+3],v=Math.abs(m-o),T=Math.abs(y-a),l=2*f,s=Math.sqrt(v*v+T*T),s<1e-9||(A=(l/s*T+v)/2,b=(l/s*v+T)/2,S=(m+o)/2,E=(y+a)/2,t=S-A<t?S-A:t,e=S+A>e?S+A:e,n=E-b<n?E-b:n,i=E+b>i?E+b:i)}else t=0,e=0,n=0,i=0;var C=this.boundsPadding;this._localBounds.minX=t-C,this._localBounds.maxX=e+C,this._localBounds.minY=n-C,this._localBounds.maxY=i+C},e.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new f.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t,this.lineAlignment);return this.graphicsData.push(e),e.type===g.SHAPES.POLY&&(e.shape.closed=e.shape.closed,this.currentPath=e),this.dirty++,e},e.prototype.generateCanvasTexture=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.getLocalBounds(),i=h.default.create(n.width,n.height,t,e);C||(C=new w.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(P),P.invert(),P.tx-=n.x,P.ty-=n.y,C.render(this,i,!0,P);var r=d.default.fromCanvas(i.baseTexture._canvasRenderTarget.canvas,t,"graphics");return r.baseTexture.resolution=e,r.baseTexture.update(),r},e.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},e.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var n=0;n<this.graphicsData.length;++n)this.graphicsData[n].destroy();for(var i in this._webGL)for(var r=0;r<this._webGL[i].data.length;++r)this._webGL[i].data[r].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webGL=null,this._localBounds=null},e}(l.default);e.default=D,D._SPRITE_TEXTURE=null,D.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(e,i,r,o,a,s,l,u,h){n(this,t),this.lineWidth=e,this.lineAlignment=h,this.nativeLines=l,this.lineColor=i,this.lineAlpha=r,this._lineTint=i,this.fillColor=o,this.fillAlpha=a,this._fillTint=o,this.fill=s,this.holes=[],this.shape=u,this.type=u.type}return t.prototype.clone=function(){return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape,this.lineAlignment)},t.prototype.addHole=function(t){this.holes.push(t)},t.prototype.destroy=function(){this.shape=null,this.holes=null},t}();e.default=i},function(t,e){"use strict";function n(t,e,n,i,r,o,a,s,l){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],h=0,c=0,d=0,p=0,f=0;u.push(t,e);for(var _=1,m=0;_<=l;++_)m=_/l,h=1-m,c=h*h,d=c*h,p=m*m,f=p*m,u.push(d*t+3*c*m*n+3*h*p*r+f*a,d*e+3*c*m*i+3*h*p*o+f*s);return u}e.__esModule=!0,e.default=n},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(63),l=n(24),u=n(96),h=i(u),c=n(98),d=i(c),p=n(132),f=i(p),_=n(133),m=i(_),y=n(134),v=i(y),g=n(136),T=i(g),A=n(137),b=i(A),S=n(138),E=i(S),w=function(t){function e(n){r(this,e);var i=o(this,t.call(this,n));return i.graphicsDataPool=[],i.primitiveShader=null,i.gl=n.gl,i.CONTEXT_UID=0,i}return a(e,t),e.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new m.default(this.gl)},e.prototype.destroy=function(){h.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},e.prototype.render=function(t){var e=this.renderer,n=e.gl,i=void 0,r=t._webGL[this.CONTEXT_UID];r&&t.dirty===r.dirty||(this.updateGraphics(t),r=t._webGL[this.CONTEXT_UID]);var o=this.primitiveShader;e.bindShader(o),e.state.setBlendMode(t.blendMode);for(var a=0,l=r.data.length;a<l;a++){i=r.data[a];var u=i.shader;e.bindShader(u),u.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),u.uniforms.tint=(0,s.hex2rgb)(t.tint),u.uniforms.alpha=t.worldAlpha,e.bindVao(i.vao),i.nativeLines?n.drawArrays(n.LINES,0,i.points.length/6):i.vao.draw(n.TRIANGLE_STRIP,i.indices.length)}},e.prototype.updateGraphics=function(t){var e=this.renderer.gl,n=t._webGL[this.CONTEXT_UID];if(n||(n=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:e,clearDirty:-1,dirty:-1}),n.dirty=t.dirty,t.clearDirty!==n.clearDirty){n.clearDirty=t.clearDirty;for(var i=0;i<n.data.length;i++)this.graphicsDataPool.push(n.data[i]);n.data.length=0,n.lastIndex=0}for(var r=void 0,o=void 0,a=n.lastIndex;a<t.graphicsData.length;a++){var s=t.graphicsData[a];r=this.getWebGLData(n,0),s.nativeLines&&s.lineWidth&&(o=this.getWebGLData(n,0,!0),n.lastIndex++),s.type===l.SHAPES.POLY&&(0,v.default)(s,r,o),s.type===l.SHAPES.RECT?(0,T.default)(s,r,o):s.type===l.SHAPES.CIRC||s.type===l.SHAPES.ELIP?(0,E.default)(s,r,o):s.type===l.SHAPES.RREC&&(0,b.default)(s,r,o),n.lastIndex++}this.renderer.bindVao(null);for(var u=0;u<n.data.length;u++)r=n.data[u],r.dirty&&r.upload()},e.prototype.getWebGLData=function(t,e,n){var i=t.data[t.data.length-1];return(!i||i.nativeLines!==n||i.points.length>32e4)&&(i=this.graphicsDataPool.pop()||new f.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),i.nativeLines=n,i.reset(e),t.data.push(i)),i.dirty=!0,i},e}(h.default);e.default=w,d.default.registerPlugin("graphics",w)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=n(35),a=i(o),s=function(){function t(e,n,i){r(this,t),this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=a.default.GLBuffer.createVertexBuffer(e),this.indexBuffer=a.default.GLBuffer.createIndexBuffer(e),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=n,this.vao=new a.default.VertexArrayObject(e,i).addIndex(this.indexBuffer).addAttribute(this.buffer,n.attributes.aVertexPosition,e.FLOAT,!1,24,0).addAttribute(this.buffer,n.attributes.aColor,e.FLOAT,!1,24,8)}return t.prototype.reset=function(){this.points.length=0,this.indices.length=0},t.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},t.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},t}();e.default=s},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(113),l=i(s),u=function(t){function e(n){return r(this,e),o(this,t.call(this,n,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return a(e,t),e}(l.default);e.default=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){t.points=t.shape.points.slice();var i=t.points;if(t.fill&&i.length>=6){for(var r=[],o=t.holes,l=0;l<o.length;l++){var h=o[l];r.push(i.length/2),i=i.concat(h.points)}var c=e.points,d=e.indices,p=i.length/2,f=(0,s.hex2rgb)(t.fillColor),_=t.fillAlpha,m=f[0]*_,y=f[1]*_,v=f[2]*_,g=(0,u.default)(i,r,2);if(!g)return;for(var T=c.length/6,A=0;A<g.length;A+=3)d.push(g[A]+T),d.push(g[A]+T),d.push(g[A+1]+T),d.push(g[A+2]+T),d.push(g[A+2]+T);for(var b=0;b<p;b++)c.push(i[2*b],i[2*b+1],m,y,v,_)}t.lineWidth>0&&(0,a.default)(t,e,n)}e.__esModule=!0,e.default=r;var o=n(135),a=i(o),s=n(63),l=n(68),u=i(l)},function(t,e,n){"use strict";function i(t,e){var n=t.points;if(0!==n.length){var i=new o.Point(n[0],n[1]),r=new o.Point(n[n.length-2],n[n.length-1]);if(i.x===r.x&&i.y===r.y){n=n.slice(),n.pop(),n.pop(),r=new o.Point(n[n.length-2],n[n.length-1]);var s=r.x+.5*(i.x-r.x),l=r.y+.5*(i.y-r.y);n.unshift(s,l),n.push(s,l)}var u=e.points,h=e.indices,c=n.length/2,d=n.length,p=u.length/6,f=t.lineWidth/2,_=(0,a.hex2rgb)(t.lineColor),m=t.lineAlpha,y=_[0]*m,v=_[1]*m,g=_[2]*m,T=n[0],A=n[1],b=n[2],S=n[3],E=0,w=0,C=-(A-S),P=T-b,x=0,M=0,O=0,D=0,I=Math.sqrt(C*C+P*P);C/=I,P/=I,C*=f,P*=f;var N=t.lineAlignment,L=2*(1-N),B=2*N;u.push(T-C*L,A-P*L,y,v,g,m),u.push(T+C*B,A+P*B,y,v,g,m);for(var R=1;R<c-1;++R){T=n[2*(R-1)],A=n[2*(R-1)+1],b=n[2*R],S=n[2*R+1],E=n[2*(R+1)],w=n[2*(R+1)+1],C=-(A-S),P=T-b,I=Math.sqrt(C*C+P*P),C/=I,P/=I,C*=f,P*=f,x=-(S-w),M=b-E,I=Math.sqrt(x*x+M*M),x/=I,M/=I,x*=f,M*=f;var k=-P+A-(-P+S),G=-C+b-(-C+T),F=(-C+T)*(-P+S)-(-C+b)*(-P+A),H=-M+w-(-M+S),U=-x+b-(-x+E),V=(-x+E)*(-M+S)-(-x+b)*(-M+w),j=k*U-H*G;if(Math.abs(j)<.1)j+=10.1,u.push(b-C*L,S-P*L,y,v,g,m),u.push(b+C*B,S+P*B,y,v,g,m);else{var Y=(G*V-U*F)/j,X=(H*F-k*V)/j,W=(Y-b)*(Y-b)+(X-S)*(X-S);W>196*f*f?(O=C-x,D=P-M,I=Math.sqrt(O*O+D*D),O/=I,D/=I,O*=f,D*=f,u.push(b-O*L,S-D*L),u.push(y,v,g,m),u.push(b+O*B,S+D*B),u.push(y,v,g,m),u.push(b-O*B*L,S-D*L),u.push(y,v,g,m),d++):(u.push(b+(Y-b)*L,S+(X-S)*L),u.push(y,v,g,m),u.push(b-(Y-b)*B,S-(X-S)*B),u.push(y,v,g,m))}}T=n[2*(c-2)],A=n[2*(c-2)+1],b=n[2*(c-1)],S=n[2*(c-1)+1],C=-(A-S),P=T-b,I=Math.sqrt(C*C+P*P),C/=I,P/=I,C*=f,P*=f,u.push(b-C*L,S-P*L),u.push(y,v,g,m),u.push(b+C*B,S+P*B),u.push(y,v,g,m),h.push(p);for(var z=0;z<d;++z)h.push(p++);h.push(p-1)}}function r(t,e){var n=0,i=t.points;if(0!==i.length){var r=e.points,o=i.length/2,s=(0,a.hex2rgb)(t.lineColor),l=t.lineAlpha,u=s[0]*l,h=s[1]*l,c=s[2]*l;for(n=1;n<o;n++){var d=i[2*(n-1)],p=i[2*(n-1)+1],f=i[2*n],_=i[2*n+1];r.push(d,p),r.push(u,h,c,l),r.push(f,_),r.push(u,h,c,l)}}}e.__esModule=!0,e.default=function(t,e,n){t.nativeLines?r(t,n):i(t,e)};var o=n(25),a=n(63)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){var i=t.shape,r=i.x,o=i.y,l=i.width,u=i.height;if(t.fill){var h=(0,s.hex2rgb)(t.fillColor),c=t.fillAlpha,d=h[0]*c,p=h[1]*c,f=h[2]*c,_=e.points,m=e.indices,y=_.length/6;_.push(r,o),_.push(d,p,f,c),_.push(r+l,o),_.push(d,p,f,c),_.push(r,o+u),_.push(d,p,f,c),_.push(r+l,o+u),_.push(d,p,f,c),m.push(y,y,y+1,y+2,y+3,y+3)}if(t.lineWidth){var v=t.points;t.points=[r,o,r+l,o,r+l,o+u,r,o+u,r,o],(0,a.default)(t,e,n),t.points=v}}e.__esModule=!0,e.default=r;var o=n(135),a=i(o),s=n(63)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){var i=t.shape,r=i.x,o=i.y,s=i.width,u=i.height,d=i.radius,p=[];if(p.push(r+d,o),a(r+s-d,o,r+s,o,r+s,o+d,p),a(r+s,o+u-d,r+s,o+u,r+s-d,o+u,p),a(r+d,o+u,r,o+u,r,o+u-d,p),a(r,o+d,r,o,r+d+1e-10,o,p),t.fill){for(var f=(0,c.hex2rgb)(t.fillColor),_=t.fillAlpha,m=f[0]*_,y=f[1]*_,v=f[2]*_,g=e.points,T=e.indices,A=g.length/6,b=(0,l.default)(p,null,2),S=0,E=b.length;S<E;S+=3)T.push(b[S]+A),T.push(b[S]+A),T.push(b[S+1]+A),T.push(b[S+2]+A),T.push(b[S+2]+A);for(var w=0,C=p.length;w<C;w++)g.push(p[w],p[++w],m,y,v,_)}if(t.lineWidth){var P=t.points;t.points=p,(0,h.default)(t,e,n),t.points=P}}function o(t,e,n){var i=e-t;return t+i*n}function a(t,e,n,i,r,a){for(var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],l=20,u=s,h=0,c=0,d=0,p=0,f=0,_=0,m=0,y=0;m<=l;++m)y=m/l,h=o(t,n,y),c=o(e,i,y),d=o(n,r,y),p=o(i,a,y),f=o(h,d,y),_=o(c,p,y),u.push(f,_);return u}e.__esModule=!0,e.default=r;var s=n(68),l=i(s),u=n(135),h=i(u),c=n(63)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){var i=t.shape,r=i.x,o=i.y,u=void 0,h=void 0;if(t.type===s.SHAPES.CIRC?(u=i.radius,h=i.radius):(u=i.width,h=i.height),0!==u&&0!==h){var c=Math.floor(30*Math.sqrt(i.radius))||Math.floor(15*Math.sqrt(i.width+i.height)),d=2*Math.PI/c;if(t.fill){var p=(0,l.hex2rgb)(t.fillColor),f=t.fillAlpha,_=p[0]*f,m=p[1]*f,y=p[2]*f,v=e.points,g=e.indices,T=v.length/6;g.push(T);for(var A=0;A<c+1;A++)v.push(r,o,_,m,y,f),v.push(r+Math.sin(d*A)*u,o+Math.cos(d*A)*h,_,m,y,f),g.push(T++,T++);g.push(T-1)}if(t.lineWidth){var b=t.points;t.points=[];for(var S=0;S<c;S++)t.points.push(r+Math.sin(d*-S)*u,o+Math.cos(d*-S)*h);t.points.push(t.points[0],t.points[1]),(0,a.default)(t,e,n),t.points=b}}}e.__esModule=!0,e.default=r;var o=n(135),a=i(o),s=n(24),l=n(63)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=n(86),a=i(o),s=n(24),l=function(){function t(e){r(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,n=e.context,i=t.worldAlpha,r=t.transform.worldTransform,o=e.resolution;n.setTransform(r.a*o,r.b*o,r.c*o,r.d*o,r.tx*o,r.ty*o),t.canvasTintDirty===t.dirty&&t._prevTint===t.tint||this.updateGraphicsTint(t),e.setBlendMode(t.blendMode);for(var a=0;a<t.graphicsData.length;a++){var l=t.graphicsData[a],u=l.shape,h=l._fillTint,c=l._lineTint;if(n.lineWidth=l.lineWidth,l.type===s.SHAPES.POLY){n.beginPath();var d=u.points,p=l.holes,f=void 0,_=void 0,m=void 0,y=void 0;n.moveTo(d[0],d[1]);for(var v=2;v<d.length;v+=2)n.lineTo(d[v],d[v+1]);if(u.closed&&n.closePath(),p.length>0){f=0,m=d[0],y=d[1];for(var g=2;g+2<d.length;g+=2)f+=(d[g]-m)*(d[g+3]-y)-(d[g+2]-m)*(d[g+1]-y);for(var T=0;T<p.length;T++)if(d=p[T].points){_=0,m=d[0],y=d[1];for(var A=2;A+2<d.length;A+=2)_+=(d[A]-m)*(d[A+3]-y)-(d[A+2]-m)*(d[A+1]-y);if(_*f<0){n.moveTo(d[0],d[1]);for(var b=2;b<d.length;b+=2)n.lineTo(d[b],d[b+1])}else{n.moveTo(d[d.length-2],d[d.length-1]);for(var S=d.length-4;S>=0;S-=2)n.lineTo(d[S],d[S+1])}p[T].close&&n.closePath()}}l.fill&&(n.globalAlpha=l.fillAlpha*i,n.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),n.fill()),l.lineWidth&&(n.globalAlpha=l.lineAlpha*i,n.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.stroke())}else if(l.type===s.SHAPES.RECT)(l.fillColor||0===l.fillColor)&&(n.globalAlpha=l.fillAlpha*i,n.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),n.fillRect(u.x,u.y,u.width,u.height)),l.lineWidth&&(n.globalAlpha=l.lineAlpha*i,n.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.strokeRect(u.x,u.y,u.width,u.height));else if(l.type===s.SHAPES.CIRC)n.beginPath(),n.arc(u.x,u.y,u.radius,0,2*Math.PI),n.closePath(),l.fill&&(n.globalAlpha=l.fillAlpha*i,n.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),n.fill()),l.lineWidth&&(n.globalAlpha=l.lineAlpha*i,n.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.stroke());else if(l.type===s.SHAPES.ELIP){var E=2*u.width,w=2*u.height,C=u.x-E/2,P=u.y-w/2;n.beginPath();var x=.5522848,M=E/2*x,O=w/2*x,D=C+E,I=P+w,N=C+E/2,L=P+w/2;n.moveTo(C,L),n.bezierCurveTo(C,L-O,N-M,P,N,P),n.bezierCurveTo(N+M,P,D,L-O,D,L),n.bezierCurveTo(D,L+O,N+M,I,N,I),n.bezierCurveTo(N-M,I,C,L+O,C,L),n.closePath(),l.fill&&(n.globalAlpha=l.fillAlpha*i,n.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),n.fill()),l.lineWidth&&(n.globalAlpha=l.lineAlpha*i,n.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.stroke())}else if(l.type===s.SHAPES.RREC){var B=u.x,R=u.y,k=u.width,G=u.height,F=u.radius,H=Math.min(k,G)/2|0;F=F>H?H:F,n.beginPath(),n.moveTo(B,R+F),n.lineTo(B,R+G-F),n.quadraticCurveTo(B,R+G,B+F,R+G),n.lineTo(B+k-F,R+G),n.quadraticCurveTo(B+k,R+G,B+k,R+G-F),n.lineTo(B+k,R+F),n.quadraticCurveTo(B+k,R,B+k-F,R),n.lineTo(B+F,R),n.quadraticCurveTo(B,R,B,R+F),n.closePath(),(l.fillColor||0===l.fillColor)&&(n.globalAlpha=l.fillAlpha*i,n.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),n.fill()),l.lineWidth&&(n.globalAlpha=l.lineAlpha*i,n.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.stroke())}}},t.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint,t.canvasTintDirty=t.dirty;for(var e=(t.tint>>16&255)/255,n=(t.tint>>8&255)/255,i=(255&t.tint)/255,r=0;r<t.graphicsData.length;++r){var o=t.graphicsData[r],a=0|o.fillColor,s=0|o.lineColor;o._fillTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*n*255<<8)+(255&a)/255*i*255,o._lineTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*n*255<<8)+(255&s)/255*i*255}},t.prototype.renderPolygon=function(t,e,n){n.moveTo(t[0],t[1]);for(var i=1;i<t.length/2;++i)n.lineTo(t[2*i],t[2*i+1]);e&&n.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=l,a.default.registerPlugin("graphics",l)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(23),a=n(63),s=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i(this,t),this.baseTexture=e,this.textures={},this.animations={},this.data=n,this.resolution=this._updateResolution(r||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return r(t,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),t.prototype._updateResolution=function(t){var e=this.data.meta.scale,n=(0,a.getResolutionOfUrl)(t,null);return null===n&&(n=void 0!==e?parseFloat(e):1),1!==n&&(this.baseTexture.resolution=n,this.baseTexture.update()),n},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var n=e,i=t.BATCH_SIZE,r=this.baseTexture.sourceScale;n-e<i&&n<this._frameKeys.length;){var a=this._frameKeys[n],s=this._frames[a],l=s.frame;if(l){var u=null,h=null,c=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,d=new o.Rectangle(0,0,Math.floor(c.w*r)/this.resolution,Math.floor(c.h*r)/this.resolution);u=s.rotated?new o.Rectangle(Math.floor(l.x*r)/this.resolution,Math.floor(l.y*r)/this.resolution,Math.floor(l.h*r)/this.resolution,Math.floor(l.w*r)/this.resolution):new o.Rectangle(Math.floor(l.x*r)/this.resolution,Math.floor(l.y*r)/this.resolution,Math.floor(l.w*r)/this.resolution,Math.floor(l.h*r)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(h=new o.Rectangle(Math.floor(s.spriteSourceSize.x*r)/this.resolution,Math.floor(s.spriteSourceSize.y*r)/this.resolution,Math.floor(l.w*r)/this.resolution,Math.floor(l.h*r)/this.resolution)),this.textures[a]=new o.Texture(this.baseTexture,u,d,h,s.rotated?2:0,s.anchor),o.Texture.addToCache(this.textures[a],a)}n++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var n=t[e],i=Array.isArray(n),r=0,n=i?n:n[Symbol.iterator]();;){var o;if(i){if(r>=n.length)break;o=n[r++]}else{if(r=n.next(),r.done)break;o=r.value}var a=o;this.animations[e].push(this.textures[a])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},t}();e.default=s},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(142),s=n(62),l=i(s),u=n(81),h=n(55),c=i(h),d=n(24),p=function(){function t(e,n,i,o,s){r(this,t),"number"==typeof e&&(e=Object.assign({width:e,height:n||c.default.RENDER_OPTIONS.height,forceCanvas:!!o,sharedTicker:!!s},i)),this._options=e=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},e),this.renderer=(0,a.autoDetectRenderer)(e),this.stage=new l.default,this._ticker=null,this.ticker=e.sharedTicker?u.shared:new u.Ticker,e.autoStart&&this.start()}return t.prototype.render=function(){this.renderer.render(this.stage)},t.prototype.stop=function(){this._ticker.stop()},t.prototype.start=function(){this._ticker.start()},t.prototype.destroy=function(t,e){if(this._ticker){var n=this._ticker;this.ticker=null,n.destroy()}this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},o(t,[{key:"ticker",set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,d.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),t}();e.default=p},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e,n,i){var r=t&&t.forceCanvas;return void 0!==i&&(r=i),!r&&s.isWebGLSupported()?new c.default(t,e,n):new u.default(t,e,n)}e.__esModule=!0,e.autoDetectRenderer=o;var a=n(63),s=r(a),l=n(86),u=i(l),h=n(98),c=i(h)},function(t,e){"use strict";function n(t){if(!r[t]){var e=(new Error).stack;"undefined"==typeof e?console.warn("Deprecation Warning: ",t):(e=e.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t),console.warn(e),console.groupEnd()):(console.warn("Deprecation Warning: ",t),console.warn(e))),r[t]=!0}}function i(t){var e=t.mesh,i=t.particles,r=t.extras,o=t.filters,a=t.prepare,s=t.loaders,l=t.interaction;Object.defineProperties(t,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return n("You do not need to use a PIXI Stage any more, you can simply render any container."),t.Container}},DisplayObjectContainer:{get:function(){return n("DisplayObjectContainer has been shortened to Container, please use Container from now on."),t.Container}},Strip:{get:function(){return n("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),e.Mesh}},Rope:{get:function(){return n("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),e.Rope}},ParticleContainer:{get:function(){return n("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),i.ParticleContainer}},MovieClip:{get:function(){return n("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),r.AnimatedSprite}},TilingSprite:{get:function(){return n("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),r.TilingSprite}},BitmapText:{get:function(){return n("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),r.BitmapText}},blendModes:{get:function(){return n("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),t.BLEND_MODES}},scaleModes:{get:function(){return n("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),t.SCALE_MODES}},BaseTextureCache:{get:function(){return n("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),t.utils.BaseTextureCache}},TextureCache:{get:function(){return n("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),t.utils.TextureCache}},math:{get:function(){return n("The math namespace is deprecated, please access members already accessible on PIXI."),t}},AbstractFilter:{get:function(){return n("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.Filter}},TransformManual:{get:function(){return n("TransformManual has been renamed to TransformBase, please update your pixi-spine"),t.TransformBase}},TARGET_FPMS:{get:function(){return n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS},set:function(e){n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS=e}},FILTER_RESOLUTION:{get:function(){return n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION},set:function(e){n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION=e}},RESOLUTION:{get:function(){return n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION},set:function(e){n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION=e}},MIPMAP_TEXTURES:{get:function(){return n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES},set:function(e){n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES=e}},SPRITE_BATCH_SIZE:{get:function(){return n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE},set:function(e){n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE=e}},SPRITE_MAX_TEXTURES:{get:function(){return n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES},set:function(e){n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES=e}},RETINA_PREFIX:{get:function(){return n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX},set:function(e){n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX=e}},DEFAULT_RENDER_OPTIONS:{get:function(){return n("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),t.settings.RENDER_OPTIONS}}});for(var u=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],h=function(e){var i=u[e];Object.defineProperty(t[i.parent],"DEFAULT",{get:function(){return n("PIXI."+i.parent+".DEFAULT has been deprecated, please use PIXI.settings."+i.target),t.settings[i.target]},set:function(e){n("PIXI."+i.parent+".DEFAULT has been deprecated, please use PIXI.settings."+i.target),t.settings[i.target]=e}})},c=0;c<u.length;c++)h(c);Object.defineProperties(t.settings,{PRECISION:{get:function(){return n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT},set:function(e){n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT=e}}}),r.AnimatedSprite&&Object.defineProperties(r,{MovieClip:{get:function(){return n("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),r.AnimatedSprite}}}),r&&Object.defineProperties(r,{TextureTransform:{get:function(){return n("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."),t.TextureMatrix}}}),t.DisplayObject.prototype.generateTexture=function(t,e,i){return n("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),t.generateTexture(this,e,i)},t.Graphics.prototype.generateTexture=function(t,e){return n("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(t,e)},t.GroupD8.isSwapWidthHeight=function(e){
return n("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"),t.GroupD8.isVertical(e)},t.RenderTexture.prototype.render=function(t,e,i,r){this.legacyRenderer.render(t,this,i,e,!r),n("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},t.RenderTexture.prototype.getImage=function(t){return n("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(t)},t.RenderTexture.prototype.getBase64=function(t){return n("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(t)},t.RenderTexture.prototype.getCanvas=function(t){return n("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(t)},t.RenderTexture.prototype.getPixels=function(t){return n("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(t)},t.Sprite.prototype.setTexture=function(t){this.texture=t,n("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},r.BitmapText&&(r.BitmapText.prototype.setText=function(t){this.text=t,n("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")}),t.Text.prototype.setText=function(t){this.text=t,n("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},t.Text.calculateFontProperties=function(e){return n("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),t.TextMetrics.measureFont(e)},Object.defineProperties(t.Text,{fontPropertiesCache:{get:function(){return n("Text.fontPropertiesCache is deprecated"),t.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return n("Text.fontPropertiesCanvas is deprecated"),t.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return n("Text.fontPropertiesContext is deprecated"),t.TextMetrics._context}}}),t.Text.prototype.setStyle=function(t){this.style=t,n("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},t.Text.prototype.determineFontProperties=function(e){return n("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),t.TextMetrics.measureFont(e)},t.Text.getFontStyle=function(e){return n("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),e=e||{},e instanceof t.TextStyle||(e=new t.TextStyle(e)),e.toFontString()},Object.defineProperties(t.TextStyle.prototype,{font:{get:function(){n("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var t="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+t+" "+this._fontFamily},set:function(t){n("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),t.indexOf("italic")>1?this._fontStyle="italic":t.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",t.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var e=t.split(" "),i=-1;this._fontSize=26;for(var r=0;r<e.length;++r)if(e[r].match(/(px|pt|em|%)/)){i=r,this._fontSize=e[r];break}this._fontWeight="normal";for(var o=0;o<i;++o)if(e[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=e[o];break}if(i>-1&&i<e.length-1){this._fontFamily="";for(var a=i+1;a<e.length;++a)this._fontFamily+=e[a]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),t.Texture.prototype.setFrame=function(t){this.frame=t,n("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},t.Texture.addTextureToCache=function(e,i){t.Texture.addToCache(e,i),n("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},t.Texture.removeTextureFromCache=function(e){return n("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),t.BaseTexture.removeFromCache(e),t.Texture.removeFromCache(e)},Object.defineProperties(o,{AbstractFilter:{get:function(){return n("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.AbstractFilter}},SpriteMaskFilter:{get:function(){return n("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),t.SpriteMaskFilter}},VoidFilter:{get:function(){return n("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"),o.AlphaFilter}}}),t.utils.uuid=function(){return n("utils.uuid() is deprecated, please use utils.uid() from now on."),t.utils.uid()},t.utils.canUseNewCanvasBlendModes=function(){return n("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),t.CanvasTinter.canUseMultiply};var d=!0;if(Object.defineProperty(t.utils,"_saidHello",{set:function(t){t&&(n("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),d=t},get:function(){return d}}),a.BasePrepare&&(a.BasePrepare.prototype.register=function(t,e){return n("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),t&&this.registerFindHook(t),e&&this.registerUploadHook(e),this}),a.canvas&&Object.defineProperty(a.canvas,"UPLOADS_PER_FRAME",{set:function(){n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),a.webgl&&Object.defineProperty(a.webgl,"UPLOADS_PER_FRAME",{set:function(){n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),s.Loader){var p=s.Resource,f=s.Loader;Object.defineProperties(p.prototype,{isJson:{get:function(){return n("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===p.TYPE.JSON}},isXml:{get:function(){return n("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===p.TYPE.XML}},isImage:{get:function(){return n("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===p.TYPE.IMAGE}},isAudio:{get:function(){return n("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===p.TYPE.AUDIO}},isVideo:{get:function(){return n("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===p.TYPE.VIDEO}}}),Object.defineProperties(f.prototype,{before:{get:function(){return n("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return n("The after() method is deprecated, please use use()."),this.use}}})}l.interactiveTarget&&Object.defineProperty(l.interactiveTarget,"defaultCursor",{set:function(t){n("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=t},get:function(){return n("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}}),l.InteractionManager&&(Object.defineProperty(l.InteractionManager,"defaultCursorStyle",{set:function(t){n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=t},get:function(){return n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(l.InteractionManager,"currentCursorStyle",{set:function(t){n("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=t},get:function(){return n("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))}e.__esModule=!0,e.default=i;var r={}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(145);Object.defineProperty(e,"accessibleTarget",{enumerable:!0,get:function(){return i(r).default}});var o=n(146);Object.defineProperty(e,"AccessibilityManager",{enumerable:!0,get:function(){return i(o).default}})},function(t,e){"use strict";e.__esModule=!0,e.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=n(23),s=r(a),l=n(57),u=i(l),h=n(145),c=i(h);s.utils.mixins.delayMixin(s.DisplayObject.prototype,c.default);var d=9,p=100,f=0,_=0,m=2,y=1,v=-1e3,g=-1e3,T=2,A=function(){function t(e){o(this,t),!u.default.tablet&&!u.default.phone||navigator.isCocoonJS||this.createTouchHook();var n=document.createElement("div");n.style.width=p+"px",n.style.height=p+"px",n.style.position="absolute",n.style.top=f+"px",n.style.left=_+"px",n.style.zIndex=m,this.div=n,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width=y+"px",e.style.height=y+"px",e.style.position="absolute",e.style.top=v+"px",e.style.left=g+"px",e.style.zIndex=T,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(e)}),document.body.appendChild(e)},t.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,n=0;n<e.length;n++)this.updateAccessibleObjects(e[n])}},t.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,n=t.height/this.renderer.height,i=this.div;i.style.left=t.left+"px",i.style.top=t.top+"px",i.style.width=this.renderer.width+"px",i.style.height=this.renderer.height+"px";for(var r=0;r<this.children.length;r++){var o=this.children[r];if(o.renderId!==this.renderId)o._accessibleActive=!1,s.utils.removeItems(this.children,r,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,r--,0===this.children.length&&this.deactivate();else{i=o._accessibleDiv;var a=o.hitArea,l=o.worldTransform;o.hitArea?(i.style.left=(l.tx+a.x*l.a)*e+"px",i.style.top=(l.ty+a.y*l.d)*n+"px",i.style.width=a.width*l.a*e+"px",i.style.height=a.height*l.d*n+"px"):(a=o.getBounds(),this.capHitArea(a),i.style.left=a.x*e+"px",i.style.top=a.y*n+"px",i.style.width=a.width*e+"px",i.style.height=a.height*n+"px",i.title!==o.accessibleTitle&&null!==o.accessibleTitle&&(i.title=o.accessibleTitle),i.getAttribute("aria-label")!==o.accessibleHint&&null!==o.accessibleHint&&i.setAttribute("aria-label",o.accessibleHint))}}this.renderId++}},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||(e=document.createElement("button"),e.style.width=p+"px",e.style.height=p+"px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=m,e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){t.keyCode===d&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();e.default=A,s.WebGLRenderer.registerPlugin("accessibility",A),s.CanvasRenderer.registerPlugin("accessibility",A)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(148);Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return i(r).default}});var o=n(149);Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return i(o).default}})},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=n(23),a=i(o),s=new a.Rectangle,l=4,u=function(){function t(e){r(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function t(e){var t=new Image;return t.src=this.base64(e),t},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,n=void 0,i=void 0,r=void 0,o=!1,u=void 0,h=!1;t&&(t instanceof a.RenderTexture?u=t:(u=this.renderer.generateTexture(t),h=!0)),u?(n=u.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],i=n.resolution,r=u.frame,o=!1):(n=this.renderer.rootRenderTarget,i=n.resolution,o=!0,r=s,r.width=n.size.width,r.height=n.size.height);var c=Math.floor(r.width*i+1e-4),d=Math.floor(r.height*i+1e-4),p=new a.CanvasRenderTarget(c,d,1);if(n){e.bindRenderTarget(n);var f=new Uint8Array(l*c*d),_=e.gl;_.readPixels(r.x*i,r.y*i,c,d,_.RGBA,_.UNSIGNED_BYTE,f);var m=p.context.getImageData(0,0,c,d);m.data.set(f),p.context.putImageData(m,0,0),o&&(p.context.scale(1,-1),p.context.drawImage(p.canvas,0,-d))}return h&&u.destroy(!0),p.canvas},t.prototype.pixels=function(t){var e=this.renderer,n=void 0,i=void 0,r=void 0,o=void 0,u=!1;t&&(t instanceof a.RenderTexture?o=t:(o=this.renderer.generateTexture(t),u=!0)),o?(n=o.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],i=n.resolution,r=o.frame):(n=this.renderer.rootRenderTarget,i=n.resolution,r=s,r.width=n.size.width,r.height=n.size.height);var h=r.width*i,c=r.height*i,d=new Uint8Array(l*h*c);if(n){e.bindRenderTarget(n);var p=e.gl;p.readPixels(r.x*i,r.y*i,h,c,p.RGBA,p.UNSIGNED_BYTE,d)}return u&&o.destroy(!0),d},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=u,a.WebGLRenderer.registerPlugin("extract",u)},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=n(23),a=i(o),s=new a.Rectangle,l=function(){function t(e){r(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function t(e){var t=new Image;return t.src=this.base64(e),t},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,n=void 0,i=void 0,r=void 0,o=void 0;t&&(o=t instanceof a.RenderTexture?t:e.generateTexture(t)),o?(n=o.baseTexture._canvasRenderTarget.context,i=o.baseTexture._canvasRenderTarget.resolution,r=o.frame):(n=e.rootContext,i=e.resolution,r=s,r.width=this.renderer.width,r.height=this.renderer.height);var l=Math.floor(r.width*i+1e-4),u=Math.floor(r.height*i+1e-4),h=new a.CanvasRenderTarget(l,u,1),c=n.getImageData(r.x*i,r.y*i,l,u);return h.context.putImageData(c,0,0),h.canvas},t.prototype.pixels=function(t){var e=this.renderer,n=void 0,i=void 0,r=void 0,o=void 0;return t&&(o=t instanceof a.RenderTexture?t:e.generateTexture(t)),o?(n=o.baseTexture._canvasRenderTarget.context,i=o.baseTexture._canvasRenderTarget.resolution,r=o.frame):(n=e.rootContext,r=s,r.width=e.width,r.height=e.height),n.getImageData(0,0,r.width*i,r.height*i).data},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=l,a.CanvasRenderer.registerPlugin("extract",l)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.BitmapText=e.TilingSpriteRenderer=e.TilingSprite=e.AnimatedSprite=void 0;var r=n(151);Object.defineProperty(e,"AnimatedSprite",{enumerable:!0,get:function(){return i(r).default}});var o=n(152);Object.defineProperty(e,"TilingSprite",{enumerable:!0,get:function(){return i(o).default}});var a=n(153);Object.defineProperty(e,"TilingSpriteRenderer",{enumerable:!0,get:function(){return i(a).default}});var s=n(154);Object.defineProperty(e,"BitmapText",{enumerable:!0,get:function(){return i(s).default}}),n(155),n(156),n(157)},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(23),u=i(l),h=function(t){function e(n,i){r(this,e);var a=o(this,t.call(this,n[0]instanceof u.Texture?n[0]:n[0].texture));return a._textures=null,a._durations=null,a.textures=n,a._autoUpdate=i!==!1,a.animationSpeed=1,a.loop=!0,a.updateAnchor=!1,a.onComplete=null,a.onFrameChange=null,a.onLoop=null,a._currentTime=0,a.playing=!1,a}return a(e,t),e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&u.ticker.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&u.ticker.shared.add(this.update,this,u.UPDATE_PRIORITY.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,n=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=e/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];var r=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*r,this._currentTime+=r;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n?this.onLoop():this.animationSpeed<0&&this.currentFrame>n&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.updateAnchor&&this._anchor.copy(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e)},e.fromFrames=function(t){for(var n=[],i=0;i<t.length;++i)n.push(u.Texture.fromFrame(t[i]));return new e(n)},e.fromImages=function(t){for(var n=[],i=0;i<t.length;++i)n.push(u.Texture.fromImage(t[i]));return new e(n)},s(e,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(t){if(t[0]instanceof u.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),e}(u.Sprite);e.default=h},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(23),h=r(u),c=n(94),d=i(c),p=new h.Point,f=function(t){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;o(this,e);var s=a(this,t.call(this,n));return s.tileTransform=new h.TransformStatic,s._width=i,s._height=r,s._canvasPattern=null,s.uvTransform=n.transform||new h.TextureMatrix(n),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}return s(e,t),e.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},e.prototype._renderWebGL=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var n=t.context,i=this.worldTransform,r=t.resolution,o=2===e.rotate,a=e.baseTexture,s=a.resolution,l=this.tilePosition.x/this.tileScale.x%e.orig.width*s,u=this.tilePosition.y/this.tileScale.y%e.orig.height*s;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var c=new h.CanvasRenderTarget(e.orig.width,e.orig.height,s);if(16777215!==this.tint)this.tintedTexture=d.default.getTintedTexture(this,this.tint),c.context.drawImage(this.tintedTexture,0,0);else{var p=e._frame.x*s,f=e._frame.y*s,_=e._frame.width*s,m=e._frame.height*s,y=(e.trim?e.trim.width:e.orig.width)*s,v=(e.trim?e.trim.height:e.orig.height)*s,g=(e.trim?e.trim.x:0)*s,T=(e.trim?e.trim.y:0)*s;o?(c.context.rotate(-Math.PI/2),c.context.translate(-v,0),c.context.drawImage(a.source,p,f,_,m,-T,g,v,y)):c.context.drawImage(a.source,p,f,_,m,g,T,y,v)}this.cachedTint=this.tint,this._canvasPattern=c.context.createPattern(c.canvas,"repeat")}n.globalAlpha=this.worldAlpha,n.setTransform(i.a*r,i.b*r,i.c*r,i.d*r,i.tx*r,i.ty*r),t.setBlendMode(this.blendMode),n.fillStyle=this._canvasPattern,n.scale(this.tileScale.x/s,this.tileScale.y/s);var A=this.anchor.x*-this._width*s,b=this.anchor.y*-this._height*s;this.uvRespectAnchor?(n.translate(l,u),n.fillRect(-l+A,-u+b,this._width/this.tileScale.x*s,this._height/this.tileScale.y*s)):(n.translate(l+A,u+b),n.fillRect(-l,-u,this._width/this.tileScale.x*s,this._height/this.tileScale.y*s))}},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,n,i)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new h.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,p);var e=this._width,n=this._height,i=-e*this.anchor._x;if(p.x>=i&&p.x<i+e){var r=-n*this.anchor._y;if(p.y>=r&&p.y<r+n)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvTransform=null},e.from=function(t,n,i){return new e(h.Texture.from(t),n,i)},e.fromFrame=function(t,n,i){var r=h.utils.TextureCache[t];if(!r)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(r,n,i)},e.fromImage=function(t,n,i,r,o){return new e(h.Texture.fromImage(t,r,o),n,i)},l(e,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}}]),e}(h.Sprite);e.default=f},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(23),l=i(s),u=n(24),h=(n(103),new l.Matrix),c=function(t){function e(n){r(this,e);var i=o(this,t.call(this,n));return i.shader=null,i.simpleShader=null,i.quad=null,i}return a(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new l.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"),this.simpleShader=new l.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"),this.renderer.bindVao(null),this.quad=new l.Quad(t,this.renderer.state.attribState),this.quad.initVao(this.shader)},e.prototype.render=function(t){var e=this.renderer,n=this.quad;e.bindVao(n.vao);var i=n.vertices;i[0]=i[6]=t._width*-t.anchor.x,i[1]=i[3]=t._height*-t.anchor.y,i[2]=i[4]=t._width*(1-t.anchor.x),i[5]=i[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&(i=n.uvs,i[0]=i[6]=-t.anchor.x,i[1]=i[3]=-t.anchor.y,i[2]=i[4]=1-t.anchor.x,i[5]=i[7]=1-t.anchor.y),n.upload();var r=t._texture,o=r.baseTexture,a=t.tileTransform.localTransform,s=t.uvTransform,c=o.isPowerOfTwo&&r.frame.width===o.width&&r.frame.height===o.height;c&&(o._glTextures[e.CONTEXT_UID]?c=o.wrapMode!==u.WRAP_MODES.CLAMP:o.wrapMode===u.WRAP_MODES.CLAMP&&(o.wrapMode=u.WRAP_MODES.REPEAT));
var d=c?this.simpleShader:this.shader;e.bindShader(d);var p=r.width,f=r.height,_=t._width,m=t._height;h.set(a.a*p/_,a.b*p/m,a.c*f/_,a.d*f/m,a.tx/_,a.ty/m),h.invert(),c?h.prepend(s.mapCoord):(d.uniforms.uMapCoord=s.mapCoord.toArray(!0),d.uniforms.uClampFrame=s.uClampFrame,d.uniforms.uClampOffset=s.uClampOffset),d.uniforms.uTransform=h.toArray(!0),d.uniforms.uColor=l.utils.premultiplyTintToRgba(t.tint,t.worldAlpha,d.uniforms.uColor,o.premultipliedAlpha),d.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),d.uniforms.uSampler=e.bindTexture(r),e.setBlendMode(l.utils.correctBlendMode(t.blendMode,o.premultipliedAlpha)),n.vao.draw(this.renderer.gl.TRIANGLES,6,0)},e}(l.ObjectRenderer);e.default=c,l.WebGLRenderer.registerPlugin("tilingSprite",c)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(23),h=r(u),c=n(27),d=i(c),p=n(63),f=n(55),_=i(f),m=function(t){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e);var r=a(this,t.call(this));return r._textWidth=0,r._textHeight=0,r._glyphs=[],r._font={tint:void 0!==i.tint?i.tint:16777215,align:i.align||"left",name:null,size:0},r.font=i.font,r._text=n,r._maxWidth=0,r._maxLineHeight=0,r._letterSpacing=0,r._anchor=new d.default(function(){r.dirty=!0},r,0,0),r.dirty=!1,r.updateText(),r}return s(e,t),e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],n=this._font.size/t.size,i=new h.Point,r=[],o=[],a=this.text.replace(/(?:\r\n|\r)/g,"\n"),s=a.length,l=this._maxWidth*t.size/this._font.size,u=null,c=0,d=0,p=0,f=-1,_=0,m=0,y=0,v=0;v<s;v++){var g=a.charCodeAt(v),T=a.charAt(v);if(/(?:\s)/.test(T)&&(f=v,_=c),"\r"!==T&&"\n"!==T){var A=t.chars[g];A&&(u&&A.kerning[u]&&(i.x+=A.kerning[u]),r.push({texture:A.texture,line:p,charCode:g,position:new h.Point(i.x+A.xOffset+this._letterSpacing/2,i.y+A.yOffset)}),i.x+=A.xAdvance+this._letterSpacing,c=i.x,y=Math.max(y,A.yOffset+A.texture.height),u=g,f!==-1&&l>0&&i.x>l&&(++m,h.utils.removeItems(r,1+f-m,1+v-f),v=f,f=-1,o.push(_),d=Math.max(d,_),p++,i.x=0,i.y+=t.lineHeight,u=null))}else o.push(c),d=Math.max(d,c),++p,++m,i.x=0,i.y+=t.lineHeight,u=null}var b=a.charAt(a.length-1);"\r"!==b&&"\n"!==b&&(/(?:\s)/.test(b)&&(c=_),o.push(c),d=Math.max(d,c));for(var S=[],E=0;E<=p;E++){var w=0;"right"===this._font.align?w=d-o[E]:"center"===this._font.align&&(w=(d-o[E])/2),S.push(w)}for(var C=r.length,P=this.tint,x=0;x<C;x++){var M=this._glyphs[x];M?M.texture=r[x].texture:(M=new h.Sprite(r[x].texture),this._glyphs.push(M)),M.position.x=(r[x].position.x+S[r[x].line])*n,M.position.y=r[x].position.y*n,M.scale.x=M.scale.y=n,M.tint=P,M.parent||this.addChild(M)}for(var O=C;O<this._glyphs.length;++O)this.removeChild(this._glyphs[O]);if(this._textWidth=d*n,this._textHeight=(i.y+t.lineHeight)*n,0!==this.anchor.x||0!==this.anchor.y)for(var D=0;D<C;D++)this._glyphs[D].x-=this._textWidth*this.anchor.x,this._glyphs[D].y-=this._textHeight*this.anchor.y;this._maxLineHeight=y*n},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},e.registerFont=function(t,n){var i={},r=t.getElementsByTagName("info")[0],o=t.getElementsByTagName("common")[0],a=t.getElementsByTagName("page"),s=(0,p.getResolutionOfUrl)(a[0].getAttribute("file"),_.default.RESOLUTION),l={};i.font=r.getAttribute("face"),i.size=parseInt(r.getAttribute("size"),10),i.lineHeight=parseInt(o.getAttribute("lineHeight"),10)/s,i.chars={},n instanceof h.Texture&&(n=[n]);for(var u=0;u<a.length;u++){var c=a[u].getAttribute("id"),d=a[u].getAttribute("file");l[c]=n instanceof Array?n[u]:n[d]}for(var f=t.getElementsByTagName("char"),m=0;m<f.length;m++){var y=f[m],v=parseInt(y.getAttribute("id"),10),g=y.getAttribute("page")||0,T=new h.Rectangle(parseInt(y.getAttribute("x"),10)/s+l[g].frame.x/s,parseInt(y.getAttribute("y"),10)/s+l[g].frame.y/s,parseInt(y.getAttribute("width"),10)/s,parseInt(y.getAttribute("height"),10)/s);i.chars[v]={xOffset:parseInt(y.getAttribute("xoffset"),10)/s,yOffset:parseInt(y.getAttribute("yoffset"),10)/s,xAdvance:parseInt(y.getAttribute("xadvance"),10)/s,kerning:{},texture:new h.Texture(l[g].baseTexture,T),page:g}}for(var A=t.getElementsByTagName("kerning"),b=0;b<A.length;b++){var S=A[b],E=parseInt(S.getAttribute("first"),10)/s,w=parseInt(S.getAttribute("second"),10)/s,C=parseInt(S.getAttribute("amount"),10)/s;i.chars[w]&&(i.chars[w].kerning[E]=C)}return e.fonts[i.font]=i,i},l(e,[{key:"tint",get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:"font",get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),e}(h.Container);e.default=m,m.fonts={}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=n(23),s=r(a),l=n(70),u=i(l),h=n(71),c=i(h),d=n(63),p=s.DisplayObject,f=new s.Matrix;p.prototype._cacheAsBitmap=!1,p.prototype._cacheData=!1;var _=function t(){o(this,t),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(p.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e=void 0;t?(this._cacheData||(this._cacheData=new _),e=this._cacheData,e.originalRenderWebGL=this.renderWebGL,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=e.originalRenderWebGL,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}}),p.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},p.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.currentRenderer.flush();var n=this.getLocalBounds().clone();if(this._filters&&this._filters.length){var i=this._filters[0].padding;n.pad(i)}n.ceil(s.settings.RESOLUTION);var r=t._activeRenderTarget,o=t.filterManager.filterStack,a=s.RenderTexture.create(n.width,n.height),l="cacheAsBitmap_"+(0,d.uid)();this._cacheData.textureCacheId=l,c.default.addToCache(a.baseTexture,l),u.default.addToCache(a,l);var h=f;h.tx=-n.x,h.ty=-n.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,a,!0,h,!0),t.bindRenderTarget(r),t.filterManager.filterStack=o,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var p=new s.Sprite(a);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-(n.x/n.width),p.anchor.y=-(n.y/n.height),p.alpha=e,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=p.containsPoint.bind(p)}},p.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},p.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),n=this.alpha;this.alpha=1;var i=t.context;e.ceil(s.settings.RESOLUTION);var r=s.RenderTexture.create(e.width,e.height),o="cacheAsBitmap_"+(0,d.uid)();this._cacheData.textureCacheId=o,c.default.addToCache(r.baseTexture,o),u.default.addToCache(r,o);var a=f;this.transform.localTransform.copy(a),a.invert(),a.tx-=e.x,a.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,r,!0,a,!1),t.context=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var l=new s.Sprite(r);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(e.x/e.width),l.anchor.y=-(e.y/e.height),l.alpha=n,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}},p.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID},p.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},p.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,c.default.removeFromCache(this._cacheData.textureCacheId),u.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},p.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}var r=n(23),o=i(r);o.DisplayObject.prototype.name=null,o.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}var r=n(23),o=i(r);o.DisplayObject.prototype.getGlobalPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new o.Point,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(159);Object.defineProperty(e,"FXAAFilter",{enumerable:!0,get:function(){return i(r).default}});var o=n(160);Object.defineProperty(e,"NoiseFilter",{enumerable:!0,get:function(){return i(o).default}});var a=n(161);Object.defineProperty(e,"DisplacementFilter",{enumerable:!0,get:function(){return i(a).default}});var s=n(162);Object.defineProperty(e,"BlurFilter",{enumerable:!0,get:function(){return i(s).default}});var l=n(163);Object.defineProperty(e,"BlurXFilter",{enumerable:!0,get:function(){return i(l).default}});var u=n(167);Object.defineProperty(e,"BlurYFilter",{enumerable:!0,get:function(){return i(u).default}});var h=n(168);Object.defineProperty(e,"ColorMatrixFilter",{enumerable:!0,get:function(){return i(h).default}});var c=n(169);Object.defineProperty(e,"AlphaFilter",{enumerable:!0,get:function(){return i(c).default}})},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(23),l=i(s),u=(n(103),function(t){function e(){return r(this,e),o(this,t.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return a(e,t),e}(l.Filter));e.default=u},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(23),u=i(l),h=(n(103),function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();r(this,e);var a=o(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));return a.noise=n,a.seed=i,a}return a(e,t),s(e,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t}}]),e}(u.Filter));e.default=h},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(23),u=i(l),h=(n(103),function(t){function e(n,i){r(this,e);var a=new u.Matrix;n.renderable=!1;var s=o(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return s.maskSprite=n,s.maskMatrix=a,s.uniforms.mapSampler=n._texture,s.uniforms.filterMatrix=a,s.uniforms.scale={x:1,y:1},null!==i&&void 0!==i||(i=20),s.scale=new u.Point(i,i),s}return a(e,t),e.prototype.apply=function(t,e,n){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,t.applyFilter(this,e,n)},s(e,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),e}(u.Filter));e.default=h},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(23),h=r(u),c=n(163),d=i(c),p=n(167),f=i(p),_=function(t){function e(n,i,r,s){o(this,e);var l=a(this,t.call(this));return l.blurXFilter=new d.default(n,i,r,s),l.blurYFilter=new f.default(n,i,r,s),l.padding=0,l.resolution=r||h.settings.RESOLUTION,l.quality=i||4,l.blur=n||8,l}return s(e,t),e.prototype.apply=function(t,e,n){var i=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,i,!0),this.blurYFilter.apply(t,i,n,!1),t.returnRenderTarget(i)},l(e,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(t){this.blurYFilter._blendMode=t}}]),e}(h.Filter);e.default=_},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(23),h=r(u),c=n(164),d=i(c),p=n(165),f=i(p),_=n(166),m=i(_),y=function(t){function e(n,i,r,s){o(this,e),s=s||5;var l=(0,d.default)(s,!0),u=(0,f.default)(s),c=a(this,t.call(this,l,u));return c.resolution=r||h.settings.RESOLUTION,c._quality=0,c.quality=i||4,c.strength=n||8,c.firstRun=!0,c}return s(e,t),e.prototype.apply=function(t,e,n,i){if(this.firstRun){var r=t.renderer.gl,o=(0,m.default)(r);this.vertexSrc=(0,d.default)(o,!0),this.fragmentSrc=(0,f.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/n.size.width*(n.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,n,i);else{for(var a=t.getRenderTarget(!0),s=e,l=a,u=0;u<this.passes-1;u++){t.applyFilter(this,s,l,!0);var h=l;l=s,s=h}t.applyFilter(this,s,n,i),t.returnRenderTarget(a)}},l(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(h.Filter);e.default=y},function(t,e){"use strict";function n(t,e){var n=Math.ceil(t/2),r=i,o="",a=void 0;a=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var l=a.replace("%index%",s);l=l.replace("%sampleIndex%",s-(n-1)+".0"),o+=l,o+="\n"}return r=r.replace("%blur%",o),r=r.replace("%size%",t)}e.__esModule=!0,e.default=n;var i=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},function(t,e){"use strict";function n(t){for(var e=i[t],n=e.length,o=r,a="",s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",l=void 0,u=0;u<t;u++){var h=s.replace("%index%",u);l=u,u>=n&&(l=t-u-1),h=h.replace("%value%",e[l]),a+=h,a+="\n"}return o=o.replace("%blur%",a),o=o.replace("%size%",t)}e.__esModule=!0,e.default=n;var i={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],
11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},r=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},function(t,e){"use strict";function n(t){for(var e=t.getParameter(t.MAX_VARYING_VECTORS),n=15;n>e;)n-=2;return n}e.__esModule=!0,e.default=n},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(23),h=r(u),c=n(164),d=i(c),p=n(165),f=i(p),_=n(166),m=i(_),y=function(t){function e(n,i,r,s){o(this,e),s=s||5;var l=(0,d.default)(s,!1),u=(0,f.default)(s),c=a(this,t.call(this,l,u));return c.resolution=r||h.settings.RESOLUTION,c._quality=0,c.quality=i||4,c.strength=n||8,c.firstRun=!0,c}return s(e,t),e.prototype.apply=function(t,e,n,i){if(this.firstRun){var r=t.renderer.gl,o=(0,m.default)(r);this.vertexSrc=(0,d.default)(o,!1),this.fragmentSrc=(0,f.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/n.size.height*(n.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,n,i);else{for(var a=t.getRenderTarget(!0),s=e,l=a,u=0;u<this.passes-1;u++){t.applyFilter(this,s,l,!0);var h=l;l=s,s=h}t.applyFilter(this,s,n,i),t.returnRenderTarget(a)}},l(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(h.Filter);e.default=y},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(23),u=i(l),h=(n(103),function(t){function e(){r(this,e);var n=o(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));return n.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],n.alpha=1,n}return a(e,t),e.prototype._loadMatrix=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t;e&&(this._multiply(n,this.uniforms.m,t),n=this._colorMatrix(n)),this.uniforms.m=n},e.prototype._multiply=function(t,e,n){return t[0]=e[0]*n[0]+e[1]*n[5]+e[2]*n[10]+e[3]*n[15],t[1]=e[0]*n[1]+e[1]*n[6]+e[2]*n[11]+e[3]*n[16],t[2]=e[0]*n[2]+e[1]*n[7]+e[2]*n[12]+e[3]*n[17],t[3]=e[0]*n[3]+e[1]*n[8]+e[2]*n[13]+e[3]*n[18],t[4]=e[0]*n[4]+e[1]*n[9]+e[2]*n[14]+e[3]*n[19]+e[4],t[5]=e[5]*n[0]+e[6]*n[5]+e[7]*n[10]+e[8]*n[15],t[6]=e[5]*n[1]+e[6]*n[6]+e[7]*n[11]+e[8]*n[16],t[7]=e[5]*n[2]+e[6]*n[7]+e[7]*n[12]+e[8]*n[17],t[8]=e[5]*n[3]+e[6]*n[8]+e[7]*n[13]+e[8]*n[18],t[9]=e[5]*n[4]+e[6]*n[9]+e[7]*n[14]+e[8]*n[19]+e[9],t[10]=e[10]*n[0]+e[11]*n[5]+e[12]*n[10]+e[13]*n[15],t[11]=e[10]*n[1]+e[11]*n[6]+e[12]*n[11]+e[13]*n[16],t[12]=e[10]*n[2]+e[11]*n[7]+e[12]*n[12]+e[13]*n[17],t[13]=e[10]*n[3]+e[11]*n[8]+e[12]*n[13]+e[13]*n[18],t[14]=e[10]*n[4]+e[11]*n[9]+e[12]*n[14]+e[13]*n[19]+e[14],t[15]=e[15]*n[0]+e[16]*n[5]+e[17]*n[10]+e[18]*n[15],t[16]=e[15]*n[1]+e[16]*n[6]+e[17]*n[11]+e[18]*n[16],t[17]=e[15]*n[2]+e[16]*n[7]+e[17]*n[12]+e[18]*n[17],t[18]=e[15]*n[3]+e[16]*n[8]+e[17]*n[13]+e[18]*n[18],t[19]=e[15]*n[4]+e[16]*n[9]+e[17]*n[14]+e[18]*n[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.greyscale=function(t,e){var n=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.blackAndWhite=function(t){var e=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var n=Math.cos(t),i=Math.sin(t),r=Math.sqrt,o=1/3,a=r(o),s=n+(1-n)*o,l=o*(1-n)-a*i,u=o*(1-n)+a*i,h=o*(1-n)+a*i,c=n+o*(1-n),d=o*(1-n)-a*i,p=o*(1-n)-a*i,f=o*(1-n)+a*i,_=n+o*(1-n),m=[s,l,u,0,0,h,c,d,0,0,p,f,_,0,0,0,0,0,1,0];this._loadMatrix(m,e)},e.prototype.contrast=function(t,e){var n=(t||0)+1,i=-.5*(n-1),r=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.saturate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],n=2*t/3+1,i=(n-1)*-.5,r=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){var e=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.sepia=function(t){var e=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.technicolor=function(t){var e=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.polaroid=function(t){var e=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.toBGR=function(t){var e=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.kodachrome=function(t){var e=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.browni=function(t){var e=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.vintage=function(t){var e=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.colorTone=function(t,e,n,i,r){t=t||.2,e=e||.15,n=n||16770432,i=i||3375104;var o=(n>>16&255)/255,a=(n>>8&255)/255,s=(255&n)/255,l=(i>>16&255)/255,u=(i>>8&255)/255,h=(255&i)/255,c=[.3,.59,.11,0,0,o,a,s,t,0,l,u,h,e,0,o-l,a-u,s-h,0,0];this._loadMatrix(c,r)},e.prototype.night=function(t,e){t=t||.1;var n=[t*-2,-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.predator=function(t,e){var n=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.lsd=function(t){var e=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.reset=function(){var t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)},s(e,[{key:"matrix",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(u.Filter));e.default=h,h.prototype.grayscale=h.prototype.greyscale},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(23),u=i(l),h=(n(103),function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;r(this,e);var i=o(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));return i.alpha=n,i.glShaderKey="alpha",i}return a(e,t),s(e,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(u.Filter));e.default=h},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(171);Object.defineProperty(e,"InteractionData",{enumerable:!0,get:function(){return i(r).default}});var o=n(172);Object.defineProperty(e,"InteractionManager",{enumerable:!0,get:function(){return i(o).default}});var a=n(175);Object.defineProperty(e,"interactiveTarget",{enumerable:!0,get:function(){return i(a).default}});var s=n(174);Object.defineProperty(e,"InteractionTrackingData",{enumerable:!0,get:function(){return i(s).default}});var l=n(173);Object.defineProperty(e,"InteractionEvent",{enumerable:!0,get:function(){return i(l).default}})},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(23),s=i(a),l=function(){function t(){r(this,t),this.global=new s.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return t.prototype.getLocalPosition=function(t,e,n){return t.worldTransform.applyInverse(n||this.global,e)},t.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},o(t,[{key:"pointerId",get:function(){return this.identifier}}]),t}();e.default=l},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=n(23),h=r(u),c=n(171),d=i(c),p=n(173),f=i(p),_=n(174),m=i(_),y=n(54),v=i(y),g=n(175),T=i(g);h.utils.mixins.delayMixin(h.DisplayObject.prototype,T.default);var A=1,b={target:null,data:{global:null}},S=function(t){function e(n,i){o(this,e);var r=a(this,t.call(this));return i=i||{},r.renderer=n,r.autoPreventDefault=void 0===i.autoPreventDefault||i.autoPreventDefault,r.interactionFrequency=i.interactionFrequency||10,r.mouse=new d.default,r.mouse.identifier=A,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[A]=r.mouse,r.interactionDataPool=[],r.eventData=new f.default,r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.mouseOverRenderer=!1,r.supportsTouchEvents="ontouchstart"in window,r.supportsPointerEvents=!!window.PointerEvent,r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r._tempPoint=new h.Point,r.resolution=1,r.setTargetElement(r.renderer.view,r.renderer.resolution),r}return s(e,t),e.prototype.hitTest=function(t,e){return b.target=null,b.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(b,e,null,!0),b.target},e.prototype.setTargetElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(h.ticker.shared.add(this.update,this,h.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(h.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);this.cursor=null;for(var e in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var n=this.activeInteractionData[e];if(n.originalEvent&&"touch"!==n.pointerType){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch("undefined"==typeof e?"undefined":l(e)){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,n){n.stopped||(n.currentTarget=t,n.type=e,t.emit(e,n),t[e]&&t[e](n))},e.prototype.mapPositionToPoint=function(t,e,n){var i=void 0;i=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var r=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)*r,t.y=(n-i.top)*(this.interactionDOMElement.height/i.height)*r},e.prototype.processInteractive=function(t,e,n,i,r){if(!e||!e.visible)return!1;var o=t.data.global;r=e.interactive||r;var a=!1,s=r,l=!0;if(e.hitArea?(i&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(i=!1,l=!1)),s=!1):e._mask&&i&&(e._mask.containsPoint(o)||(i=!1,l=!1)),l&&e.interactiveChildren&&e.children)for(var u=e.children,h=u.length-1;h>=0;h--){var c=u[h],d=this.processInteractive(t,c,n,i,s);if(d){if(!c.parent)continue;s=!1,d&&(t.target&&(i=!1),a=!0)}}return r&&(i&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(a=!0),e.interactive&&(a&&!t.target&&(t.target=e),n&&n(t,e,!!a))),a},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault();for(var n=e.length,i=0;i<n;i++){var r=e[i],o=this.getInteractionDataForPointerId(r),a=this.configureInteractionEventForDOMEvent(this.eventData,r,o);if(a.data.originalEvent=t,this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",a),"touch"===r.pointerType)this.emit("touchstart",a);else if("mouse"===r.pointerType||"pen"===r.pointerType){var s=2===r.button;this.emit(s?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,n){var i=t.data,r=t.data.identifier;if(n)if(e.trackedPointers[r]||(e.trackedPointers[r]=new m.default(r)),this.dispatchEvent(e,"pointerdown",t),"touch"===i.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===i.pointerType||"pen"===i.pointerType){var o=2===i.button;o?e.trackedPointers[r].rightDown=!0:e.trackedPointers[r].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,n){for(var i=this.normalizeToPointerData(t),r=i.length,o=t.target!==this.interactionDOMElement?"outside":"",a=0;a<r;a++){var s=i[a],l=this.getInteractionDataForPointerId(s),u=this.configureInteractionEventForDOMEvent(this.eventData,s,l);if(u.data.originalEvent=t,this.processInteractive(u,this.renderer._lastObjectRendered,n,e||!o),this.emit(e?"pointercancel":"pointerup"+o,u),"mouse"===s.pointerType||"pen"===s.pointerType){var h=2===s.button;this.emit(h?"rightup"+o:"mouseup"+o,u)}else"touch"===s.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,u),this.releaseInteractionDataForPointerId(s.pointerId,l))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var n=t.data,i=t.data.identifier;void 0!==e.trackedPointers[i]&&(delete e.trackedPointers[i],this.dispatchEvent(e,"pointercancel",t),"touch"===n.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,n){var i=t.data,r=t.data.identifier,o=e.trackedPointers[r],a="touch"===i.pointerType,s="mouse"===i.pointerType||"pen"===i.pointerType,l=!1;if(s){var u=2===i.button,h=m.default.FLAGS,c=u?h.RIGHT_DOWN:h.LEFT_DOWN,d=void 0!==o&&o.flags&c;n?(this.dispatchEvent(e,u?"rightup":"mouseup",t),d&&(this.dispatchEvent(e,u?"rightclick":"click",t),l=!0)):d&&this.dispatchEvent(e,u?"rightupoutside":"mouseupoutside",t),o&&(u?o.rightDown=!1:o.leftDown=!1)}n?(this.dispatchEvent(e,"pointerup",t),a&&this.dispatchEvent(e,"touchend",t),o&&(s&&!l||this.dispatchEvent(e,"pointertap",t),a&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),a&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[r]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var n=e.length,i=0;i<n;i++){var r=e[i],o=this.getInteractionDataForPointerId(r),a=this.configureInteractionEventForDOMEvent(this.eventData,r,o);a.data.originalEvent=t;var s="touch"!==r.pointerType||this.moveWhenInside;this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerMove,s),this.emit("pointermove",a),"touch"===r.pointerType&&this.emit("touchmove",a),"mouse"!==r.pointerType&&"pen"!==r.pointerType||this.emit("mousemove",a)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,n){var i=t.data,r="touch"===i.pointerType,o="mouse"===i.pointerType||"pen"===i.pointerType;o&&this.processPointerOverOut(t,e,n),this.moveWhenInside&&!n||(this.dispatchEvent(e,"pointermove",t),r&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t),n=e[0];"mouse"===n.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var i=this.getInteractionDataForPointerId(n),r=this.configureInteractionEventForDOMEvent(this.eventData,n,i);r.data.originalEvent=n,this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===n.pointerType||"pen"===n.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(i.identifier)}},e.prototype.processPointerOverOut=function(t,e,n){var i=t.data,r=t.data.identifier,o="mouse"===i.pointerType||"pen"===i.pointerType,a=e.trackedPointers[r];n&&!a&&(a=e.trackedPointers[r]=new m.default(r)),void 0!==a&&(n&&this.mouseOverRenderer?(a.over||(a.over=!0,this.dispatchEvent(e,"pointerover",t),o&&this.dispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):a.over&&(a.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),a.none&&delete e.trackedPointers[r]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t),n=e[0],i=this.getInteractionDataForPointerId(n),r=this.configureInteractionEventForDOMEvent(this.eventData,n,i);r.data.originalEvent=n,"mouse"===n.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mouseover",r)},e.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId,n=void 0;return e===A||"mouse"===t.pointerType?n=this.mouse:this.activeInteractionData[e]?n=this.activeInteractionData[e]:(n=this.interactionDataPool.pop()||new d.default,n.identifier=e,this.activeInteractionData[e]=n),n.copyEvent(t),n},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,n){return t.data=n,this.mapPositionToPoint(n.global,e.clientX,e.clientY),navigator.isCocoonJS&&"touch"===e.pointerType&&(n.global.x=n.global.x/this.resolution,n.global.y=n.global.y/this.resolution),"touch"===e.pointerType&&(e.globalX=n.global.x,e.globalY=n.global.y),n.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var n=0,i=t.changedTouches.length;n<i;n++){var r=t.changedTouches[n];"undefined"==typeof r.button&&(r.button=t.touches.length?1:0),"undefined"==typeof r.buttons&&(r.buttons=t.touches.length?1:0),"undefined"==typeof r.isPrimary&&(r.isPrimary=1===t.touches.length&&"touchstart"===t.type),"undefined"==typeof r.width&&(r.width=r.radiusX||1),"undefined"==typeof r.height&&(r.height=r.radiusY||1),"undefined"==typeof r.tiltX&&(r.tiltX=0),"undefined"==typeof r.tiltY&&(r.tiltY=0),"undefined"==typeof r.pointerType&&(r.pointerType="touch"),"undefined"==typeof r.pointerId&&(r.pointerId=r.identifier||0),"undefined"==typeof r.pressure&&(r.pressure=r.force||.5),"undefined"==typeof r.twist&&(r.twist=0),"undefined"==typeof r.tangentialPressure&&(r.tangentialPressure=0),"undefined"==typeof r.layerX&&(r.layerX=r.offsetX=r.clientX),"undefined"==typeof r.layerY&&(r.layerY=r.offsetY=r.clientY),r.isNormalized=!0,e.push(r)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):("undefined"==typeof t.isPrimary&&(t.isPrimary=!0),"undefined"==typeof t.width&&(t.width=1),"undefined"==typeof t.height&&(t.height=1),"undefined"==typeof t.tiltX&&(t.tiltX=0),"undefined"==typeof t.tiltY&&(t.tiltY=0),"undefined"==typeof t.pointerType&&(t.pointerType="mouse"),"undefined"==typeof t.pointerId&&(t.pointerId=A),"undefined"==typeof t.pressure&&(t.pressure=.5),"undefined"==typeof t.twist&&(t.twist=0),"undefined"==typeof t.tangentialPressure&&(t.tangentialPressure=0),t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(v.default);e.default=S,h.WebGLRenderer.registerPlugin("interaction",S),h.CanvasRenderer.registerPlugin("interaction",S)},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(){n(this,t),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0},t.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},t}();e.default=i},function(t,e){"use strict";function n(t,e){
if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e){n(this,t),this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){e?this._flags=this._flags|t:this._flags=this._flags&~t},i(t,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(t){this._flags=t}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!==(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:"rightDown",get:function(){return 0!==(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:"leftDown",get:function(){return 0!==(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]),t}();e.default=r,r.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},function(t,e){"use strict";e.__esModule=!0,e.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.shared=e.Resource=e.textureParser=e.getResourcePath=e.spritesheetParser=e.parseBitmapFontData=e.bitmapFontParser=e.Loader=void 0;var r=n(177);Object.defineProperty(e,"bitmapFontParser",{enumerable:!0,get:function(){return i(r).default}}),Object.defineProperty(e,"parseBitmapFontData",{enumerable:!0,get:function(){return r.parse}});var o=n(185);Object.defineProperty(e,"spritesheetParser",{enumerable:!0,get:function(){return i(o).default}}),Object.defineProperty(e,"getResourcePath",{enumerable:!0,get:function(){return o.getResourcePath}});var a=n(186);Object.defineProperty(e,"textureParser",{enumerable:!0,get:function(){return i(a).default}});var s=n(178);Object.defineProperty(e,"Resource",{enumerable:!0,get:function(){return s.Resource}});var l=n(141),u=i(l),h=n(187),c=i(h);e.Loader=c.default;var d=new c.default;d.destroy=function(){},e.shared=d;var p=u.default.prototype;p._loader=null,Object.defineProperty(p,"loader",{get:function(){if(!this._loader){var t=this._options.sharedLoader;this._loader=t?d:new c.default}return this._loader}}),p._parentDestroy=p.destroy,p.destroy=function(t,e){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(t,e)}},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e){t.bitmapFont=l.BitmapText.registerFont(t.data,e)}e.__esModule=!0,e.parse=r,e.default=function(){return function(t,e){if(!t.data||t.type!==s.Resource.TYPE.XML)return void e();if(0===t.data.getElementsByTagName("page").length||0===t.data.getElementsByTagName("info").length||null===t.data.getElementsByTagName("info")[0].getAttribute("face"))return void e();var n=t.isDataUrl?"":a.dirname(t.url);t.isDataUrl&&("."===n&&(n=""),this.baseUrl&&n&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(n+="/")),n=n.replace(this.baseUrl,""),n&&"/"!==n.charAt(n.length-1)&&(n+="/");for(var i=t.data.getElementsByTagName("page"),o={},l=function(n){o[n.metadata.pageFile]=n.texture,Object.keys(o).length===i.length&&(r(t,o),e())},u=0;u<i.length;++u){var h=i[u].getAttribute("file"),c=n+h,d=!1;for(var p in this.resources){var f=this.resources[p];if(f.url===c){f.metadata.pageFile=h,f.texture?l(f):f.onAfterMiddleware.add(l),d=!0;break}}if(!d){var _={crossOrigin:t.crossOrigin,loadType:s.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:h},t.metadata.imageMetadata),parentResource:t};this.add(c,_,l)}}}};var o=n(103),a=i(o),s=n(178),l=n(150)},function(t,e,n){"use strict";var i=n(179).Loader,r=n(183).Resource,o=n(182),a=n(184);i.Resource=r,i.async=o,i.encodeBinary=a,i.base64=a,t.exports=i,t.exports.Loader=i,t.exports.default=i},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0,e.Loader=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(180),u=r(l),h=n(181),c=r(h),d=n(182),p=i(d),f=n(183),_=100,m=/(#[\w-]+)?$/,y=e.Loader=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;o(this,t),this.baseUrl=n,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,n){return e._loadResource(t,n)},this._queue=p.queue(this._boundLoadResource,i),this._queue.pause(),this.resources={},this.onProgress=new u.default,this.onError=new u.default,this.onLoad=new u.default,this.onStart=new u.default,this.onComplete=new u.default;for(var r=0;r<t._defaultBeforeMiddleware.length;++r)this.pre(t._defaultBeforeMiddleware[r]);for(var a=0;a<t._defaultAfterMiddleware.length;++a)this.use(t._defaultAfterMiddleware[a])}return t.prototype.add=function(t,e,n,i){if(Array.isArray(t)){for(var r=0;r<t.length;++r)this.add(t[r]);return this}if("object"===("undefined"==typeof t?"undefined":a(t))&&(i=e||t.callback||t.onComplete,n=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=n,n=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof n&&(i=n,n=null),this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new f.Resource(t,e,n),"function"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var o=n.parentResource,s=[],l=0;l<o.children.length;++l)o.children[l].isComplete||s.push(o.children[l]);var u=o.progressChunk*(s.length+1),h=u/(s.length+2);o.children.push(this.resources[t]),o.progressChunk=h;for(var c=0;c<s.length;++c)s[c].progressChunk=h;this.resources[t].progressChunk=h}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var t in this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},t.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=this._queue._tasks.length,n=_/e,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},t.prototype._prepareUrl=function(t){var e=(0,c.default)(t,{strictMode:!0}),n=void 0;if(n=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var i=m.exec(n)[0];n=n.substr(0,n.length-i.length),n+=n.indexOf("?")!==-1?"&"+this.defaultQueryString:"?"+this.defaultQueryString,n+=i}return n},t.prototype._loadResource=function(t,e){var n=this;t._dequeue=e,p.eachSeries(this._beforeMiddleware,function(e,i){e.call(n,t,function(){i(t.isComplete?{}:null)})},function(){t.isComplete?n._onLoad(t):(t._onLoadBinding=t.onComplete.once(n._onLoad,n),t.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=_,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),p.eachSeries(this._afterMiddleware,function(n,i){n.call(e,t,i)},function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(_,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},s(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();y._defaultBeforeMiddleware=[],y._defaultAfterMiddleware=[],y.pre=function(t){return y._defaultBeforeMiddleware.push(t),y},y.use=function(t){return y._defaultAfterMiddleware.push(t),y}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e,i,r){void 0===i&&(i=!1),n(this,t),this._fn=e,this._once=i,this._thisArg=r,this._next=this._prev=this._owner=null}return r(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}(),a=function(){function t(){n(this,t),this._head=this._tail=void 0}return r(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var n=[];e;)n.push(e),e=e._next;return n}},{key:"has",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return i(this,new o(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return i(this,new o(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=o,e.default=a,t.exports=e.default},function(t,e){"use strict";function n(t,e){if(t){e=e||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=n.parser[e.strictMode?"strict":"loose"].exec(t),r={},o=14;o--;)r[n.key[o]]=i[o]||"";return r[n.q.name]={},r[n.key[12]].replace(n.q.parser,function(t,e,i){e&&(r[n.q.name][e]=i)}),r}}t.exports=n},function(t,e){"use strict";function n(){}function i(t,e,n,i){var r=0,o=t.length;!function a(s){return s||r===o?void(n&&n(s)):void(i?setTimeout(function(){e(t[r++],a)},1):e(t[r++],a))}()}function r(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function o(t,e){function i(t,e,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");if(s.started=!0,null==t&&s.idle())return void setTimeout(function(){return s.drain()},1);var r={data:t,callback:"function"==typeof i?i:n};e?s._tasks.unshift(r):s._tasks.push(r),setTimeout(function(){return s.process()},1)}function o(t){return function(){a-=1,t.callback.apply(t,arguments),null!=arguments[0]&&s.error(arguments[0],t.data),a<=s.concurrency-s.buffer&&s.unsaturated(),s.idle()&&s.drain(),s.process()}}if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var a=0,s={_tasks:[],concurrency:e,saturated:n,unsaturated:n,buffer:e/4,empty:n,drain:n,error:n,started:!1,paused:!1,push:function(t,e){i(t,!1,e)},kill:function(){a=0,s.drain=n,s.started=!1,s._tasks=[]},unshift:function(t,e){i(t,!0,e)},process:function(){for(;!s.paused&&a<s.concurrency&&s._tasks.length;){var e=s._tasks.shift();0===s._tasks.length&&s.empty(),a+=1,a===s.concurrency&&s.saturated(),t(e.data,r(o(e)))}},length:function(){return s._tasks.length},running:function(){return a},idle:function(){return s._tasks.length+a===0},pause:function(){s.paused!==!0&&(s.paused=!0)},resume:function(){if(s.paused!==!1){s.paused=!1;for(var t=1;t<=s.concurrency;t++)s.process()}}};return s}e.__esModule=!0,e.eachSeries=i,e.queue=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){}function a(t,e,n){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=n)}function s(t){return t.toString().replace("object ","")}e.__esModule=!0,e.Resource=void 0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(181),h=i(u),c=n(180),d=i(c),p=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),f=null,_=0,m=200,y=204,v=1223,g=2,T=e.Resource=function(){function t(e,n,i){if(r(this,t),"string"!=typeof e||"string"!=typeof n)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===n.indexOf("data:")),this.name=e,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=i.crossOrigin===!0?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=o,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new d.default,this.onProgress=new d.default,this.onComplete=new d.default,this.onAfterMiddleware=new d.default}return t.setExtensionLoadType=function(e,n){a(t._loadTypeMap,e,n)},t.setExtensionXhrType=function(e,n){a(t._xhrTypeMap,e,n)},t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var n=this;if(!this.isLoading){if(this.isComplete)return void(e&&setTimeout(function(){return e(n)},1));switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),this.crossOrigin!==!1&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:p&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},t.prototype._hasFlag=function(t){return 0!==(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&"undefined"!=typeof window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&"undefined"!=typeof window.Audio?this.data=new Audio:this.data=document.createElement(t),null===this.data)return void this.abort("Unsupported element: "+t);if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(t,this.url[n],Array.isArray(e)?e[n]:e));else{var i=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(i)?i[0]:i))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,e,n){n||(n=t+"/"+this._getExtension(e));var i=document.createElement("source");return i.src=e,i.type=n,i},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(s(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(s(t)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(s(t)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,n="",i="undefined"==typeof e.status?m:e.status;""!==e.responseType&&"text"!==e.responseType&&"undefined"!=typeof e.responseType||(n=e.responseText),i===_&&(n.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?i=m:i===v&&(i=y);var r=i/100|0;if(r!==g)return void this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL);if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var o=new DOMParser;this.data=o.parseFromString(n,"text/xml")}else{var a=document.createElement("div");a.innerHTML=n,this.data=a}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||n;this.complete()},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,f||(f=document.createElement("a")),f.href=t,t=(0,h.default)(f.href,{strictMode:!0});var n=!t.port&&""===e.port||t.port===e.port,i=t.protocol?t.protocol+":":"";return t.host===e.hostname&&n&&i===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var n=t.indexOf("/");e=t.substring(n+1,t.indexOf(";",n))}else{var i=t.indexOf("?"),r=t.indexOf("#"),o=Math.min(i>-1?i:t.length,r>-1?r:t.length);t=t.substring(0,o),e=t.substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},l(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();T.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},T.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},T.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},T.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},T._loadTypeMap={gif:T.LOAD_TYPE.IMAGE,png:T.LOAD_TYPE.IMAGE,bmp:T.LOAD_TYPE.IMAGE,jpg:T.LOAD_TYPE.IMAGE,jpeg:T.LOAD_TYPE.IMAGE,tif:T.LOAD_TYPE.IMAGE,tiff:T.LOAD_TYPE.IMAGE,webp:T.LOAD_TYPE.IMAGE,tga:T.LOAD_TYPE.IMAGE,svg:T.LOAD_TYPE.IMAGE,"svg+xml":T.LOAD_TYPE.IMAGE,mp3:T.LOAD_TYPE.AUDIO,ogg:T.LOAD_TYPE.AUDIO,wav:T.LOAD_TYPE.AUDIO,mp4:T.LOAD_TYPE.VIDEO,webm:T.LOAD_TYPE.VIDEO},T._xhrTypeMap={xhtml:T.XHR_RESPONSE_TYPE.DOCUMENT,html:T.XHR_RESPONSE_TYPE.DOCUMENT,htm:T.XHR_RESPONSE_TYPE.DOCUMENT,xml:T.XHR_RESPONSE_TYPE.DOCUMENT,tmx:T.XHR_RESPONSE_TYPE.DOCUMENT,svg:T.XHR_RESPONSE_TYPE.DOCUMENT,tsx:T.XHR_RESPONSE_TYPE.DOCUMENT,gif:T.XHR_RESPONSE_TYPE.BLOB,png:T.XHR_RESPONSE_TYPE.BLOB,bmp:T.XHR_RESPONSE_TYPE.BLOB,jpg:T.XHR_RESPONSE_TYPE.BLOB,jpeg:T.XHR_RESPONSE_TYPE.BLOB,tif:T.XHR_RESPONSE_TYPE.BLOB,tiff:T.XHR_RESPONSE_TYPE.BLOB,webp:T.XHR_RESPONSE_TYPE.BLOB,tga:T.XHR_RESPONSE_TYPE.BLOB,json:T.XHR_RESPONSE_TYPE.JSON,text:T.XHR_RESPONSE_TYPE.TEXT,txt:T.XHR_RESPONSE_TYPE.TEXT,ttf:T.XHR_RESPONSE_TYPE.BUFFER,otf:T.XHR_RESPONSE_TYPE.BUFFER},T.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",t.exports.default=T},function(t,e,n){"use strict";function i(t){for(var e="",n=0;n<t.length;){for(var i=[0,0,0],o=[0,0,0,0],a=0;a<i.length;++a)n<t.length?i[a]=255&t.charCodeAt(n++):i[a]=0;o[0]=i[0]>>2,o[1]=(3&i[0])<<4|i[1]>>4,o[2]=(15&i[1])<<2|i[2]>>6,o[3]=63&i[2];var s=n-(t.length-1);switch(s){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var l=0;l<o.length;++l)e+=r.charAt(o[l])}return e}e.__esModule=!0,e.encodeBinary=i;var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.exports.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){return t.isDataUrl?t.data.meta.image:s.default.resolve(t.url.replace(e,""),t.data.meta.image)}e.__esModule=!0,e.default=function(){return function(t,e){var n=t.name+"_image";if(!t.data||t.type!==o.Resource.TYPE.JSON||!t.data.frames||this.resources[n])return void e();var i={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},a=r(t,this.baseUrl);this.add(n,a,i,function(n){if(n.error)return void e(n.error);var i=new l.Spritesheet(n.texture.baseTexture,t.data,t.url);i.parse(function(){t.spritesheet=i,t.textures=i.textures,e()})})}},e.getResourcePath=r;var o=n(178),a=n(73),s=i(a),l=n(23)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.default=function(){return function(t,e){t.data&&t.type===r.Resource.TYPE.IMAGE&&(t.texture=a.default.fromLoader(t.data,t.url,t.name)),e()}};var r=n(178),o=n(70),a=i(o)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(178),l=i(s),u=n(188),h=n(54),c=i(h),d=n(186),p=i(d),f=n(185),_=i(f),m=n(177),y=i(m),v=function(t){function e(n,i){r(this,e);var a=o(this,t.call(this,n,i));c.default.call(a);for(var s=0;s<e._pixiMiddleware.length;++s)a.use(e._pixiMiddleware[s]());return a.onStart.add(function(t){return a.emit("start",t)}),a.onProgress.add(function(t,e){return a.emit("progress",t,e)}),a.onError.add(function(t,e,n){return a.emit("error",t,e,n)}),a.onLoad.add(function(t,e){return a.emit("load",t,e)}),a.onComplete.add(function(t,e){return a.emit("complete",t,e)}),a}return a(e,t),e.addPixiMiddleware=function(t){e._pixiMiddleware.push(t)},e.prototype.destroy=function(){this.removeAllListeners(),this.reset()},e}(l.default);e.default=v;for(var g in c.default.prototype)v.prototype[g]=c.default.prototype[g];v._pixiMiddleware=[u.blobMiddlewareFactory,p.default,_.default,y.default];var T=l.default.Resource;T.setExtensionXhrType("fnt",T.XHR_RESPONSE_TYPE.DOCUMENT)},function(t,e,n){"use strict";function i(){return function(t,e){if(!t.data)return void e();if(t.xhr&&t.xhrType===r.Resource.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var n=a.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=n,t.type=r.Resource.TYPE.IMAGE,void(t.data.onload=function(){a.revokeObjectURL(n),t.data.onload=null,e()})}}else{var i=t.xhr.getResponseHeader("content-type");if(i&&0===i.indexOf("image"))return t.data=new Image,t.data.src="data:"+i+";base64,"+(0,o.encodeBinary)(t.xhr.responseText),t.type=r.Resource.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}}e.__esModule=!0,e.blobMiddlewareFactory=i;var r=n(183),o=n(184),a=window.URL||window.webkitURL},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(190);Object.defineProperty(e,"Mesh",{enumerable:!0,get:function(){return i(r).default}});var o=n(191);Object.defineProperty(e,"MeshRenderer",{enumerable:!0,get:function(){return i(o).default}});var a=n(192);Object.defineProperty(e,"CanvasMeshRenderer",{enumerable:!0,get:function(){return i(a).default}});var s=n(193);Object.defineProperty(e,"Plane",{enumerable:!0,get:function(){return i(s).default}});var l=n(194);Object.defineProperty(e,"NineSlicePlane",{enumerable:!0,get:function(){return i(l).default}});var u=n(195);Object.defineProperty(e,"Rope",{enumerable:!0,get:function(){return i(u).default}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(23),h=r(u),c=n(70),d=i(c),p=new h.Point,f=new h.Polygon,_=function(t){function e(n,i,r,s,l){o(this,e);var u=a(this,t.call(this));return u._texture=n||d.default.EMPTY,u.uvs=r||new Float32Array([0,0,1,0,1,1,0,1]),
u.vertices=i||new Float32Array([0,0,100,0,100,100,0,100]),u.indices=s||new Uint16Array([0,1,3,2]),u.dirty=0,u.indexDirty=0,u.vertexDirty=0,u.autoUpdate=!0,u.blendMode=h.BLEND_MODES.NORMAL,u.canvasPadding=h.settings.MESH_CANVAS_PADDING,u.drawMode=l||e.DRAW_MODES.TRIANGLE_MESH,u.shader=null,u.tintRgb=new Float32Array([1,1,1]),u._glDatas={},u._uvTransform=new h.TextureMatrix(u._texture),u.uploadUvTransform=!1,u.pluginName="mesh",u}return s(e,t),e.prototype._renderWebGL=function(t){this.refresh(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){this.refresh(),t.plugins[this.pluginName].render(this)},e.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},e.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},e.prototype.refresh=function(t){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(t)&&this._refresh()},e.prototype._refresh=function(){},e.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,p);for(var n=this.vertices,i=f.points,r=this.indices,o=this.indices.length,a=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1,s=0;s+2<o;s+=a){var l=2*r[s],u=2*r[s+1],h=2*r[s+2];if(i[0]=n[l],i[1]=n[l+1],i[2]=n[u],i[3]=n[u+1],i[4]=n[h],i[5]=n[h+1],f.contains(p.x,p.y))return!0}return!1},e.prototype.destroy=function(e){for(var n in this._glDatas){var i=this._glDatas[n];i.destroy?i.destroy():(i.vertexBuffer&&(i.vertexBuffer.destroy(),i.vertexBuffer=null),i.indexBuffer&&(i.indexBuffer.destroy(),i.indexBuffer=null),i.uvBuffer&&(i.uvBuffer.destroy(),i.uvBuffer=null),i.vao&&(i.vao.destroy(),i.vao=null))}this._glDatas=null,t.prototype.destroy.call(this,e)},l(e,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return h.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=h.utils.hex2rgb(t,this.tintRgb)}}]),e}(h.Container);e.default=_,_.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var l=n(23),u=r(l),h=n(35),c=i(h),d=n(190),p=i(d),f=(n(103),u.Matrix.IDENTITY),_=function(t){function e(n){o(this,e);var i=a(this,t.call(this,n));return i.shader=null,i}return s(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new u.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")},e.prototype.render=function(t){var e=this.renderer,n=e.gl,i=t._texture;if(i.valid){var r=t._glDatas[e.CONTEXT_UID];r||(e.bindVao(null),r={shader:this.shader,vertexBuffer:c.default.GLBuffer.createVertexBuffer(n,t.vertices,n.STREAM_DRAW),uvBuffer:c.default.GLBuffer.createVertexBuffer(n,t.uvs,n.STREAM_DRAW),indexBuffer:c.default.GLBuffer.createIndexBuffer(n,t.indices,n.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty,vertexDirty:t.vertexDirty},r.vao=new c.default.VertexArrayObject(n).addIndex(r.indexBuffer).addAttribute(r.vertexBuffer,r.shader.attributes.aVertexPosition,n.FLOAT,!1,8,0).addAttribute(r.uvBuffer,r.shader.attributes.aTextureCoord,n.FLOAT,!1,8,0),t._glDatas[e.CONTEXT_UID]=r),e.bindVao(r.vao),t.dirty!==r.dirty&&(r.dirty=t.dirty,r.uvBuffer.upload(t.uvs)),t.indexDirty!==r.indexDirty&&(r.indexDirty=t.indexDirty,r.indexBuffer.upload(t.indices)),t.vertexDirty!==r.vertexDirty&&(r.vertexDirty=t.vertexDirty,r.vertexBuffer.upload(t.vertices)),e.bindShader(r.shader),r.shader.uniforms.uSampler=e.bindTexture(i),e.state.setBlendMode(u.utils.correctBlendMode(t.blendMode,i.baseTexture.premultipliedAlpha)),r.shader.uniforms.uTransform&&(t.uploadUvTransform?r.shader.uniforms.uTransform=t._uvTransform.mapCoord.toArray(!0):r.shader.uniforms.uTransform=f.toArray(!0)),r.shader.uniforms.translationMatrix=t.worldTransform.toArray(!0),r.shader.uniforms.uColor=u.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,r.shader.uniforms.uColor,i.baseTexture.premultipliedAlpha);var o=t.drawMode===p.default.DRAW_MODES.TRIANGLE_MESH?n.TRIANGLE_STRIP:n.TRIANGLES;r.vao.draw(o,t.indices.length,0)}},e}(u.ObjectRenderer);e.default=_,u.WebGLRenderer.registerPlugin("mesh",_)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=n(23),s=r(a),l=n(190),u=i(l),h=function(){function t(e){o(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,n=e.context,i=t.worldTransform,r=e.resolution;e.roundPixels?n.setTransform(i.a*r,i.b*r,i.c*r,i.d*r,i.tx*r|0,i.ty*r|0):n.setTransform(i.a*r,i.b*r,i.c*r,i.d*r,i.tx*r,i.ty*r),e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),t.drawMode===u.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(t):this._renderTriangles(t)},t.prototype._renderTriangleMesh=function(t){for(var e=t.vertices.length/2,n=0;n<e-2;n++){var i=2*n;this._renderDrawTriangle(t,i,i+2,i+4)}},t.prototype._renderTriangles=function(t){for(var e=t.indices,n=e.length,i=0;i<n;i+=3){var r=2*e[i],o=2*e[i+1],a=2*e[i+2];this._renderDrawTriangle(t,r,o,a)}},t.prototype._renderDrawTriangle=function(t,e,n,i){var r=this.renderer.context,o=t.uvs,a=t.vertices,s=t._texture;if(s.valid){var l=s.baseTexture,u=l.source,h=l.width,c=l.height,d=void 0,p=void 0,f=void 0,_=void 0,m=void 0,y=void 0;if(t.uploadUvTransform){var v=t._uvTransform.mapCoord;d=(o[e]*v.a+o[e+1]*v.c+v.tx)*l.width,p=(o[n]*v.a+o[n+1]*v.c+v.tx)*l.width,f=(o[i]*v.a+o[i+1]*v.c+v.tx)*l.width,_=(o[e]*v.b+o[e+1]*v.d+v.ty)*l.height,m=(o[n]*v.b+o[n+1]*v.d+v.ty)*l.height,y=(o[i]*v.b+o[i+1]*v.d+v.ty)*l.height}else d=o[e]*l.width,p=o[n]*l.width,f=o[i]*l.width,_=o[e+1]*l.height,m=o[n+1]*l.height,y=o[i+1]*l.height;var g=a[e],T=a[n],A=a[i],b=a[e+1],S=a[n+1],E=a[i+1],w=t.canvasPadding/this.renderer.resolution;if(w>0){var C=w/Math.abs(t.worldTransform.a),P=w/Math.abs(t.worldTransform.d),x=(g+T+A)/3,M=(b+S+E)/3,O=g-x,D=b-M,I=Math.sqrt(O*O+D*D);g=x+O/I*(I+C),b=M+D/I*(I+P),O=T-x,D=S-M,I=Math.sqrt(O*O+D*D),T=x+O/I*(I+C),S=M+D/I*(I+P),O=A-x,D=E-M,I=Math.sqrt(O*O+D*D),A=x+O/I*(I+C),E=M+D/I*(I+P)}r.save(),r.beginPath(),r.moveTo(g,b),r.lineTo(T,S),r.lineTo(A,E),r.closePath(),r.clip();var N=d*m+_*f+p*y-m*f-_*p-d*y,L=g*m+_*A+T*y-m*A-_*T-g*y,B=d*T+g*f+p*A-T*f-g*p-d*A,R=d*m*A+_*T*f+g*p*y-g*m*f-_*p*A-d*T*y,k=b*m+_*E+S*y-m*E-_*S-b*y,G=d*S+b*f+p*E-S*f-b*p-d*E,F=d*m*E+_*S*f+b*p*y-b*m*f-_*p*E-d*S*y;r.transform(L/N,k/N,B/N,G/N,R/N,F/N),r.drawImage(u,0,0,h*l.resolution,c*l.resolution,0,0,h,c),r.restore(),this.renderer.invalidateBlendMode()}},t.prototype.renderMeshFlat=function(t){var e=this.renderer.context,n=t.vertices,i=n.length/2;e.beginPath();for(var r=1;r<i-2;++r){var o=2*r,a=n[o],s=n[o+1],l=n[o+2],u=n[o+3],h=n[o+4],c=n[o+5];e.moveTo(a,s),e.lineTo(l,u),e.lineTo(h,c)}e.fillStyle="#FF0000",e.fill(),e.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=h,s.CanvasRenderer.registerPlugin("mesh",h)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(190),l=i(s),u=function(t){function e(n,i,a){r(this,e);var s=o(this,t.call(this,n));return s._ready=!0,s.verticesX=i||10,s.verticesY=a||10,s.drawMode=l.default.DRAW_MODES.TRIANGLES,s.refresh(),s}return a(e,t),e.prototype._refresh=function(){for(var t=this._texture,e=this.verticesX*this.verticesY,n=[],i=[],r=[],o=[],a=this.verticesX-1,s=this.verticesY-1,l=t.width/a,u=t.height/s,h=0;h<e;h++){var c=h%this.verticesX,d=h/this.verticesX|0;n.push(c*l,d*u),r.push(c/a,d/s)}for(var p=a*s,f=0;f<p;f++){var _=f%a,m=f/a|0,y=m*this.verticesX+_,v=m*this.verticesX+_+1,g=(m+1)*this.verticesX+_,T=(m+1)*this.verticesX+_+1;o.push(y,v,g),o.push(v,T,g)}this.vertices=new Float32Array(n),this.uvs=new Float32Array(r),this.colors=new Float32Array(i),this.indices=new Uint16Array(o),this.dirty++,this.indexDirty++,this.multiplyUvs()},e.prototype._onTextureUpdate=function(){l.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},e}(l.default);e.default=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(193),u=i(l),h=n(94),c=i(h),d=10,p=function(t){function e(n,i,a,s,l){r(this,e);var u=o(this,t.call(this,n,4,4));return u._origWidth=n.orig.width,u._origHeight=n.orig.height,u._width=u._origWidth,u._height=u._origHeight,u._leftWidth="undefined"!=typeof i?i:d,u._rightWidth="undefined"!=typeof s?s:d,u._topHeight="undefined"!=typeof a?a:d,u._bottomHeight="undefined"!=typeof l?l:d,u._cachedTint=16777215,u._tintedTexture=null,u._canvasUvs=null,u.refresh(!0),u}return a(e,t),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._topHeight+this._bottomHeight,n=this._height>e?1:this._height/e;t[9]=t[11]=t[13]=t[15]=this._topHeight*n,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*n,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._leftWidth+this._rightWidth,n=this._width>e?1:this._width/e;t[2]=t[10]=t[18]=t[26]=this._leftWidth*n,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*n,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var e=t.context,n=this.worldTransform,i=t.resolution,r=16777215!==this.tint,o=this._texture;r&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedTexture=c.default.getTintedTexture(this,this.tint));var a=r?this._tintedTexture:o.baseTexture.source;this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var s=this.vertices,l=this._canvasUvs,u=r?0:o.frame.x,h=r?0:o.frame.y,d=u+o.frame.width,p=h+o.frame.height;l[0]=u,l[1]=u+this._leftWidth,l[2]=d-this._rightWidth,l[3]=d,l[4]=h,l[5]=h+this._topHeight,l[6]=p-this._bottomHeight,l[7]=p;for(var f=0;f<8;f++)l[f]*=o.baseTexture.resolution;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),t.roundPixels?e.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i|0,n.ty*i|0):e.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i);for(var _=0;_<3;_++)for(var m=0;m<3;m++){var y=2*m+8*_,v=Math.max(1,l[m+1]-l[m]),g=Math.max(1,l[_+5]-l[_+4]),T=Math.max(1,s[y+10]-s[y]),A=Math.max(1,s[y+11]-s[y+1]);e.drawImage(a,l[m],l[_+4],v,g,s[y],s[y+1],T,A)}},e.prototype._refresh=function(){t.prototype._refresh.call(this);var e=this.uvs,n=this._texture;this._origWidth=n.orig.width,this._origHeight=n.orig.height;var i=1/this._origWidth,r=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=i*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-i*this._rightWidth,e[9]=e[11]=e[13]=e[15]=r*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},s(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._refresh()}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()}}]),e}(u.default);e.default=p},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(190),l=i(s),u=function(t){function e(n,i){r(this,e);var a=o(this,t.call(this,n));return a.points=i,a.vertices=new Float32Array(4*i.length),a.uvs=new Float32Array(4*i.length),a.colors=new Float32Array(2*i.length),a.indices=new Uint16Array(2*i.length),a.autoUpdate=!0,a.refresh(),a}return a(e,t),e.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));var e=this.uvs,n=this.indices,i=this.colors;e[0]=0,e[1]=0,e[2]=0,e[3]=1,i[0]=1,i[1]=1,n[0]=0,n[1]=1;for(var r=t.length,o=1;o<r;o++){var a=4*o,s=o/(r-1);e[a]=s,e[a+1]=0,e[a+2]=s,e[a+3]=1,a=2*o,i[a]=1,i[a+1]=1,a=2*o,n[a]=a,n[a+1]=a+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},e.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1))for(var e=t[0],n=void 0,i=0,r=0,o=this.vertices,a=t.length,s=0;s<a;s++){var l=t[s],u=4*s;n=s<t.length-1?t[s+1]:l,r=-(n.x-e.x),i=n.y-e.y;var h=10*(1-s/(a-1));h>1&&(h=1);var c=Math.sqrt(i*i+r*r),d=this._texture.height/2;i/=c,r/=c,i*=d,r*=d,o[u]=l.x+i,o[u+1]=l.y+r,o[u+2]=l.x-i,o[u+3]=l.y-r,e=l}},e.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},e}(l.default);e.default=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(197);Object.defineProperty(e,"ParticleContainer",{enumerable:!0,get:function(){return i(r).default}});var o=n(198);Object.defineProperty(e,"ParticleRenderer",{enumerable:!0,get:function(){return i(o).default}})},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(23),u=i(l),h=n(63),c=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,i=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];r(this,e);var l=o(this,t.call(this)),h=16384;return a>h&&(a=h),a>n&&(a=n),l._properties=[!1,!0,!1,!1,!1],l._maxSize=n,l._batchSize=a,l._glBuffers={},l._bufferUpdateIDs=[],l._updateID=0,l.interactiveChildren=!1,l.blendMode=u.BLEND_MODES.NORMAL,l.autoResize=s,l.roundPixels=!0,l.baseTexture=null,l.setProperties(i),l._tint=0,l.tintRgb=new Float32Array(4),l.tint=16777215,l}return a(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},e.prototype.renderWebGL=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,n=this.worldTransform,i=!0,r=0,o=0,a=0,s=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var l=0;l<this.children.length;++l){var u=this.children[l];if(u.visible){var h=u._texture.frame;if(e.globalAlpha=this.worldAlpha*u.alpha,u.rotation%(2*Math.PI)===0)i&&(e.setTransform(n.a,n.b,n.c,n.d,n.tx*t.resolution,n.ty*t.resolution),i=!1),r=u.anchor.x*(-h.width*u.scale.x)+u.position.x+.5,o=u.anchor.y*(-h.height*u.scale.y)+u.position.y+.5,a=h.width*u.scale.x,s=h.height*u.scale.y;else{i||(i=!0),u.displayObjectUpdateTransform();var c=u.worldTransform;t.roundPixels?e.setTransform(c.a,c.b,c.c,c.d,c.tx*t.resolution|0,c.ty*t.resolution|0):e.setTransform(c.a,c.b,c.c,c.d,c.tx*t.resolution,c.ty*t.resolution),r=u.anchor.x*-h.width+.5,o=u.anchor.y*-h.height+.5,a=h.width,s=h.height}var d=u._texture.baseTexture.resolution;e.drawImage(u._texture.baseTexture.source,h.x*d,h.y*d,h.width*d,h.height*d,r*t.resolution,o*t.resolution,a*t.resolution,s*t.resolution)}}}},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._buffers)for(var n=0;n<this._buffers.length;++n)this._buffers[n].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},s(e,[{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,(0,h.hex2rgb)(t,this.tintRgb)}}]),e}(u.Container);e.default=c},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var l=n(23),u=r(l),h=n(199),c=i(h),d=n(200),p=i(d),f=n(63),_=function(t){function e(n){o(this,e);var i=a(this,t.call(this,n));return i.shader=null,i.indexBuffer=null,i.properties=null,i.tempMatrix=new u.Matrix,i.CONTEXT_UID=0,i}return s(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new c.default(t),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},e.prototype.start=function(){this.renderer.bindShader(this.shader)},e.prototype.render=function(t){var e=t.children,n=t._maxSize,i=t._batchSize,r=this.renderer,o=e.length;if(0!==o){o>n&&(o=n);var a=t._glBuffers[r.CONTEXT_UID];a||(a=t._glBuffers[r.CONTEXT_UID]=this.generateBuffers(t));var s=e[0]._texture.baseTexture;this.renderer.setBlendMode(u.utils.correctBlendMode(t.blendMode,s.premultipliedAlpha));var l=r.gl,h=t.worldTransform.copy(this.tempMatrix);h.prepend(r._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=h.toArray(!0),this.shader.uniforms.uColor=u.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,s.premultipliedAlpha),this.shader.uniforms.uSampler=r.bindTexture(s);for(var c=!1,d=0,p=0;d<o;d+=i,p+=1){var f=o-d;if(f>i&&(f=i),p>=a.length){if(!t.autoResize)break;a.push(this._generateOneMoreBuffer(t))}var _=a[p];_.uploadDynamic(e,d,f);var m=t._bufferUpdateIDs[p]||0;c=c||_._updateID<m,c&&(_._updateID=t._updateID,_.uploadStatic(e,d,f)),r.bindVao(_.vao),_.vao.draw(l.TRIANGLES,6*f)}}},e.prototype.generateBuffers=function(t){for(var e=this.renderer.gl,n=[],i=t._maxSize,r=t._batchSize,o=t._properties,a=0;a<i;a+=r)n.push(new p.default(e,this.properties,o,r));return n},e.prototype._generateOneMoreBuffer=function(t){var e=this.renderer.gl,n=t._batchSize,i=t._properties;return new p.default(e,this.properties,i,n)},e.prototype.uploadVertices=function(t,e,n,i,r,o){for(var a=0,s=0,l=0,u=0,h=0;h<n;++h){var c=t[e+h],d=c._texture,p=c.scale.x,f=c.scale.y,_=d.trim,m=d.orig;_?(s=_.x-c.anchor.x*m.width,a=s+_.width,u=_.y-c.anchor.y*m.height,l=u+_.height):(a=m.width*(1-c.anchor.x),s=m.width*-c.anchor.x,l=m.height*(1-c.anchor.y),u=m.height*-c.anchor.y),i[o]=s*p,i[o+1]=u*f,i[o+r]=a*p,i[o+r+1]=u*f,i[o+2*r]=a*p,i[o+2*r+1]=l*f,i[o+3*r]=s*p,i[o+3*r+1]=l*f,o+=4*r}},e.prototype.uploadPosition=function(t,e,n,i,r,o){for(var a=0;a<n;a++){var s=t[e+a].position;i[o]=s.x,i[o+1]=s.y,i[o+r]=s.x,i[o+r+1]=s.y,i[o+2*r]=s.x,i[o+2*r+1]=s.y,i[o+3*r]=s.x,i[o+3*r+1]=s.y,o+=4*r}},e.prototype.uploadRotation=function(t,e,n,i,r,o){for(var a=0;a<n;a++){var s=t[e+a].rotation;i[o]=s,i[o+r]=s,i[o+2*r]=s,i[o+3*r]=s,o+=4*r}},e.prototype.uploadUvs=function(t,e,n,i,r,o){for(var a=0;a<n;++a){var s=t[e+a]._texture._uvs;s?(i[o]=s.x0,i[o+1]=s.y0,i[o+r]=s.x1,i[o+r+1]=s.y1,i[o+2*r]=s.x2,i[o+2*r+1]=s.y2,i[o+3*r]=s.x3,i[o+3*r+1]=s.y3,o+=4*r):(i[o]=0,i[o+1]=0,i[o+r]=0,i[o+r+1]=0,i[o+2*r]=0,i[o+2*r+1]=0,i[o+3*r]=0,i[o+3*r+1]=0,o+=4*r)}},e.prototype.uploadTint=function(t,e,n,i,r,o){for(var a=0;a<n;++a){var s=t[e+a],l=s._texture.baseTexture.premultipliedAlpha,u=s.alpha,h=u<1&&l?(0,f.premultiplyTint)(s._tintRGB,u):s._tintRGB+(255*u<<24);i[o]=h,i[o+r]=h,i[o+2*r]=h,i[o+3*r]=h,o+=4*r}},e.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),t.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},e}(u.ObjectRenderer);e.default=_,u.WebGLRenderer.registerPlugin("particle",_)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(113),l=i(s),u=function(t){function e(n){return r(this,e),o(this,t.call(this,n,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join("\n")))}return a(e,t),e}(l.default);e.default=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=n(35),a=i(o),s=n(112),l=i(s),u=function(){function t(e,n,i,o){r(this,t),this.gl=e,this.size=o,this.dynamicProperties=[],this.staticProperties=[];for(var a=0;a<n.length;++a){var s=n[a];s={attribute:s.attribute,size:s.size,uploadFunction:s.uploadFunction,unsignedByte:s.unsignedByte,offset:s.offset},i[a]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.gl,e=0;this.indices=(0,l.default)(this.size),this.indexBuffer=a.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=e,e+=i.size,this.dynamicStride+=i.size}var r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=a.default.GLBuffer.createVertexBuffer(t,r,t.STREAM_DRAW);var o=0;this.staticStride=0;for(var s=0;s<this.staticProperties.length;++s){var u=this.staticProperties[s];u.offset=o,o+=u.size,this.staticStride+=u.size}var h=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(h),this.staticDataUint32=new Uint32Array(h),this.staticBuffer=a.default.GLBuffer.createVertexBuffer(t,h,t.STATIC_DRAW),this.vao=new a.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var c=0;c<this.dynamicProperties.length;++c){var d=this.dynamicProperties[c];d.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,d.attribute,t.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*d.offset):this.vao.addAttribute(this.dynamicBuffer,d.attribute,t.FLOAT,!1,4*this.dynamicStride,4*d.offset)}for(var p=0;p<this.staticProperties.length;++p){var f=this.staticProperties[p];f.unsignedByte?this.vao.addAttribute(this.staticBuffer,f.attribute,t.UNSIGNED_BYTE,!0,4*this.staticStride,4*f.offset):this.vao.addAttribute(this.staticBuffer,f.attribute,t.FLOAT,!1,4*this.staticStride,4*f.offset)}},t.prototype.uploadDynamic=function(t,e,n){for(var i=0;i<this.dynamicProperties.length;i++){var r=this.dynamicProperties[i];r.uploadFunction(t,e,n,r.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,r.offset)}this.dynamicBuffer.upload()},t.prototype.uploadStatic=function(t,e,n){for(var i=0;i<this.staticProperties.length;i++){var r=this.staticProperties[i];r.uploadFunction(t,e,n,r.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,r.offset)}this.staticBuffer.upload()},t.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},t}();e.default=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(202);Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return i(r).default}});var o=n(205);Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return i(o).default}});var a=n(203);Object.defineProperty(e,"BasePrepare",{enumerable:!0,get:function(){return i(a).default}});var s=n(204);Object.defineProperty(e,"CountLimiter",{enumerable:!0,get:function(){return i(s).default}});var l=n(206);Object.defineProperty(e,"TimeLimiter",{enumerable:!0,get:function(){return i(l).default}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);
}function l(t,e){return e instanceof d.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function u(t,e){return e instanceof d.Graphics&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function h(t,e){return t instanceof d.Graphics&&(e.push(t),!0)}e.__esModule=!0;var c=n(23),d=r(c),p=n(203),f=i(p),_=function(t){function e(n){o(this,e);var i=a(this,t.call(this,n));return i.uploadHookHelper=i.renderer,i.registerFindHook(h),i.registerUploadHook(l),i.registerUploadHook(u),i}return s(e,t),e}(f.default);e.default=_,d.WebGLRenderer.registerPlugin("prepare",_)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){var n=!1;if(t&&t._textures&&t._textures.length)for(var i=0;i<t._textures.length;i++)if(t._textures[i]instanceof f.Texture){var r=t._textures[i].baseTexture;e.indexOf(r)===-1&&(e.push(r),n=!0)}return n}function s(t,e){return t instanceof f.BaseTexture&&(e.indexOf(t)===-1&&e.push(t),!0)}function l(t,e){if(t._texture&&t._texture instanceof f.Texture){var n=t._texture.baseTexture;return e.indexOf(n)===-1&&e.push(n),!0}return!1}function u(t,e){return e instanceof f.Text&&(e.updateText(!0),!0)}function h(t,e){if(e instanceof f.TextStyle){var n=e.toFontString();return f.TextMetrics.measureFont(n),!0}return!1}function c(t,e){if(t instanceof f.Text){e.indexOf(t.style)===-1&&e.push(t.style),e.indexOf(t)===-1&&e.push(t);var n=t._texture.baseTexture;return e.indexOf(n)===-1&&e.push(n),!0}return!1}function d(t,e){return t instanceof f.TextStyle&&(e.indexOf(t)===-1&&e.push(t),!0)}e.__esModule=!0;var p=n(23),f=r(p),_=n(204),m=i(_),y=f.ticker.shared;f.settings.UPLOADS_PER_FRAME=4;var v=function(){function t(e){var n=this;o(this,t),this.limiter=new m.default(f.settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){n.queue&&n.prepareItems()},this.registerFindHook(c),this.registerFindHook(d),this.registerFindHook(a),this.registerFindHook(s),this.registerFindHook(l),this.registerUploadHook(u),this.registerUploadHook(h)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,y.addOnce(this.tick,this,f.UPDATE_PRIORITY.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)y.addOnce(this.tick,this,f.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var r=this.completes.slice(0);this.completes.length=0;for(var o=0,a=r.length;o<a;o++)r[o]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof f.Container)for(var i=t.children.length-1;i>=0;i--)this.add(t.children[i]);return this},t.prototype.destroy=function(){this.ticking&&y.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();e.default=v},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(e){n(this,t),this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){if(e instanceof h.BaseTexture){var n=e.source,i=0===n.width?t.canvas.width:Math.min(t.canvas.width,n.width),r=0===n.height?t.canvas.height:Math.min(t.canvas.height,n.height);return t.ctx.drawImage(n,0,0,i,r,0,0,t.canvas.width,t.canvas.height),!0}return!1}e.__esModule=!0;var u=n(23),h=r(u),c=n(203),d=i(c),p=16,f=function(t){function e(n){o(this,e);var i=a(this,t.call(this,n));return i.uploadHookHelper=i,i.canvas=document.createElement("canvas"),i.canvas.width=p,i.canvas.height=p,i.ctx=i.canvas.getContext("2d"),i.registerUploadHook(l),i}return s(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},e}(d.default);e.default=f,h.CanvasRenderer.registerPlugin("prepare",f)},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(e){n(this,t),this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();e.default=i},function(t,e,n){(function(e){var n,i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(){}return t.en_US="en-US",t.de_DE="de-DE",t.fr_FR="fr-FR",t.it_IT="it-IT",t.es_ES="es-ES",t.UTILITY_NUMBER_DELIMITER="utility.number.delimiter",t.UTILITY_DECIMAL_DELIMITER="utility.decimal.delimiter",t.INTROSCREEN_PLAY="introScreen.play",t.BUTTON_DEAL="button.deal",t.BUTTON_HIT="button.hit",t.BUTTON_INSURANCE="button.insurance",t.BUTTON_SPLIT="button.split",t.BUTTON_STAND="button.stand",t.BUTTON_DOUBLE="button.double",t.BUTTON_ALL_IN="button.allIn",t.BUTTON_CLEAR_BET="button.clearBet",t.BUTTON_ADVICE="button.advice",t.BUTTON_CASH_OUT="button.cashOut",t.BUTTON_MENU="button.menu",t.BUTTON_HELP="button.help",t.BUTTON_CLOSE="button.close",t.BUTTON_CONTINUE="button.continue",t.BUTTON_YES="button.yes",t.BUTTON_NO="button.no",t.BUTTON_BACK="button.back",t.BUTTON_NEXT="button.next",t.PANEL_MENU_SOUND_OFF="panelMenu.soundOff",t.PANEL_MENU_SOUND_ON="panelMenu.soundOn",t.PANEL_MENU_DEALER_HITS_ON_SOFT_17="panelMenu.dealerHitsOnSoft17",t.PANEL_MENU_INSURANCE="panelMenu.insurance",t.PANEL_MENU_DECKS="panelMenu.decks",t.PANEL_MENU_REPEAT_LAST_BET="panelMenu.repeatLastBet",t.PANEL_MENU_AUTO_ADVICE="panelMenu.autoAdvice",t.PANEL_MENU_CHANGES_APPLY="panelMenu.changesApply",t.GAME_BANK="game.bank",t.GAME_PLAYER="game.player",t.GAME_DEALER="game.dealer",t.PANEL_MESSAGE_YOU_WIN="panelMessage.youWin",t.PANEL_MESSAGE_DEALER_WINS="panelMessage.dealerWins",t.PANEL_MESSAGE_PUSH="panelMessage.push",t.PANEL_MESSAGE_BLACK_JACK="panelMessage.blackJack",t.PANEL_MESSAGE_SHUFFLING="panelMessage.shuffling",t.PANEL_MESSAGE_INSURANCE_LOST="panelMessage.insuranceLost",t.PANEL_MESSAGE_BUST="panelMessage.bust",t.PANEL_GAMEEND_YOU_WIN="panelGameEnd.youWin",t.PANEL_GAMEEND_HOUSE_WINS="panelGameEnd.houseWins",t.PANEL_GAMEEND_CASH_WON="panelGameEnd.cashWon",t.PANEL_GAMEEND_HANDS_WON="panelGameEnd.handsWon",t.PANEL_GAMEEND_HIGHEST_BANK="panelGameEnd.highestBank",t.PANEL_GAMEEND_RANK="panelGameEnd.rank",t.PANEL_GAMEEND_TOTALSCORE="panelGameEnd.totalScore",t.PANEL_GAMEEND_RANK_0="panelGameEnd.rank_0",t.PANEL_GAMEEND_RANK_1="panelGameEnd.rank_1",t.PANEL_GAMEEND_RANK_2="panelGameEnd.rank_2",t.PANEL_GAMEEND_RANK_3="panelGameEnd.rank_3",t.PANEL_GAMEEND_RANK_4="panelGameEnd.rank_4",t.PANEL_GAMEEND_RANK_5="panelGameEnd.rank_5",t.PANEL_GAMEEND_RANK_6="panelGameEnd.rank_6",t.PANEL_GAMEEND_RANK_7="panelGameEnd.rank_7",t.PANEL_GAMEEND_RANKS=[t.PANEL_GAMEEND_RANK_0,t.PANEL_GAMEEND_RANK_1,t.PANEL_GAMEEND_RANK_2,t.PANEL_GAMEEND_RANK_3,t.PANEL_GAMEEND_RANK_4,t.PANEL_GAMEEND_RANK_5,t.PANEL_GAMEEND_RANK_6,t.PANEL_GAMEEND_RANK_7],t.PANEL_CASH_OUT_TITLE="panelCashOut.title",t.PANEL_CASH_OUT_TAKE_CASH_AND_LEAVE="panelCashOut.takeCashAndLeave",t.PANEL_CONTINUE_QUESTION="panelContinue.question",t.PANEL_ADVICE_MESSAGE="panelAdvice.message",t.HELP_PAGE_1_1="help.page_1_1",t.HELP_PAGE_1_2="help.page_1_2",t.HELP_PAGE_2_1="help.page_2_1",t.HELP_PAGE_2_2="help.page_2_2",t.HELP_PAGE_3_1="help.page_3_1",t.HELP_PAGE_3_2="help.page_3_2",t.HELP_PAGE_4_1="help.page_4_1",t.HELP_PAGE_4_2="help.page_4_2",t.HELP_PAGE_5_1="help.page_5_1",t.HELP_PAGE_5_2="help.page_5_2",t.HELP_PAGE_6_1="help.page_6_1",t.HELP_PAGE_6_2="help.page_6_2",t.HELP_PAGE_7_1="help.page_7_1",t.HELP_PAGE_7_2="help.page_7_2",t.HELP_PAGE_8_1="help.page_8_1",t.HELP_PAGE_8_2="help.page_8_2",t.HELP_PAGE_9_1="help.page_9_1",t.HELP_PAGE_9_2="help.page_9_2",t.HELP_PAGE_10_1="help.page_10_1",t.HELP_PAGE_10_2="help.page_10_2",t.HELP_PAGE_11_1="help.page_11_1",t.HELP_PAGE_11_2="help.page_11_2",t}();t.LocalizationConstants=e}(e=t.Localization||(t.Localization={}))}(e=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(t){var e=function(){function t(){}return t.TOPIC_UI="eventbus.topic_ui",t.TOPIC_GAMEPLAY="eventbus.topic_gameplay",t.GAMEPLAY_GAME_EVENT_CHANGED="eventbus.GAMEPLAY_GAME_EVENT_CHANGED",t.GAMEPLAY_GAME_STARTED="eventbus.GAMEPLAY_GAME_STARTED",t.GAMEPLAY_GAME_ENDED="eventbus.GAMEPLAY_GAME_ENDED",t.GAMEPLAY_GAME_FINISHED="eventbus.GAMEPLAY_GAME_FINISHED",t.GAMEPLAY_MIDROLL_REQUESTED="eventbus.GAMEPLAY_MIDROLL_REQUESTED",t.GAMEPLAY_MIDROLL_STARTED="eventbus.GAMEPLAY_MIDROLL_STARTED",t.GAMEPLAY_MIDROLL_FINISHED="eventbus.GAMEPLAY_MIDROLL_FINISHED",t}();t.EventBusConstants=e}(e=t.Core||(t.Core={}))}(n||(n={}));var n;!function(t){var n;!function(t){var n=function(){function t(){}return t.converterStringHex2=function(t){var e=parseInt(t.substring(1),16);return e},t.converterHex2string=function(t){var n=e.utils.hex2string(t);return n},t.WHITE="#ffffff",t.BLACK="#000000",t.RED="#ff0000",t.GREEN="#32bb3e",t.GREEN_MENU="#2eb635",t.BLUE_MENU="#26d8ff",t.YELLOW="#ffde86",t.YELLOW_1="#dbc58e",t.YELLOW_2="#cdb062",t}();t.ColorConstants=n}(n=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(t){var e=function(){function t(){}return t.FONT_REGULAR_1="RobotoRegular",t.FONT_MEDIUM="RobotoMedium",t.FONT_BOLD="RobotoBold",t.FONT_REGULAR_2="OswaldRegular",t.FONT_ALIGN_CENTER="center",t.FONT_ALIGN_LEFT="left",t.FONT_ALIGN_RIGHT="right",t}();t.FontConstants=e}(e=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(t){var e=function(){function t(){}return t.BG_MUSIC="bg_music",t.GAME_START="game_start",t.CLICK="click",t.ROLLOVER="rollover",t.BLACKJACK_PLAYER="blackjack_player",t.BUST="bust",t.CARD_DEALT="card_dealt",t.CARD_FLICK="card_flick",t.CARD_FLIP="card_flip",t.CASH_IN="cash_in",t.CHIP="chip",t.CHIPS="chips",t.CHIPS_ALLIN="chips_allin",t.CLICK_RADIO="click_radio",t.DEALER_WINS="dealer_wins",t.GAMEEND_HOUSE_WINS="gameend_house_wins",t.GAMEEND_YOU_WIN="gameend_you_win",t.RESHUFFLE="reshuffle",t.YOU_WIN="you_win",t}();t.SoundConstants=e}(e=t.Game||(t.Game={}))}(n||(n={}));var r;!function(t){var e=function(){function t(){this.hashCode=t._hashCode++}return t._returnObject=function(e){var n=String(e.constructor),i=null==t._maxCountMap[n]?t._defaultMaxCount:t._maxCountMap[n],r=t._poolsMap[n]=t._poolsMap[n]||[];if(r.length<i){if(!(r.indexOf(e)<0))throw new Error;r.push(e)}},t.setMaxCount=function(e,n){if((n<0||n!=n)&&(n=0),e){var i=String(e);t._maxCountMap[i]=n;var r=t._poolsMap[i];r&&r.length>n&&(r.length=n)}else{t._defaultMaxCount=n;for(var i in t._poolsMap)if(null!=t._maxCountMap[i]){t._maxCountMap[i]=n;var r=t._poolsMap[i];r.length>n&&(r.length=n)}}},t.clearPool=function(e){if(void 0===e&&(e=null),e){var n=t._poolsMap[String(e)];n&&n.length&&(n.length=0)}else for(var i in t._poolsMap){var n=t._poolsMap[i];n.length=0}},t.borrowObject=function(e){var n=t._poolsMap[String(e)];if(n&&n.length)return n.pop();var i=new e;return i._onClear(),i},t.prototype.returnToPool=function(){this._onClear(),t._returnObject(this)},t._hashCode=0,t._defaultMaxCount=5e3,t._maxCountMap={},t._poolsMap={},t}();t.BaseObject=e}(r||(r={}));var r;!function(t){var e;!function(t){t[t.Armature=0]="Armature",t[t.MovieClip=1]="MovieClip",t[t.Stage=2]="Stage"}(e=t.ArmatureType||(t.ArmatureType={}));var n;!function(t){t[t.Image=0]="Image",t[t.Armature=1]="Armature",t[t.Mesh=2]="Mesh"}(n=t.DisplayType||(t.DisplayType={}));var i;!function(t){t[t.FFD=0]="FFD",t[t.AdjustColor=10]="AdjustColor",t[t.BevelFilter=11]="BevelFilter",t[t.BlurFilter=12]="BlurFilter",t[t.DropShadowFilter=13]="DropShadowFilter",t[t.GlowFilter=14]="GlowFilter",t[t.GradientBevelFilter=15]="GradientBevelFilter",t[t.GradientGlowFilter=16]="GradientGlowFilter"}(i=t.ExtensionType||(t.ExtensionType={}));var r;!function(t){t[t.Frame=10]="Frame",t[t.Sound=11]="Sound"}(r=t.EventType||(t.EventType={}));var o;!function(t){t[t.Play=0]="Play",t[t.Stop=1]="Stop",t[t.GotoAndPlay=2]="GotoAndPlay",t[t.GotoAndStop=3]="GotoAndStop",t[t.FadeIn=4]="FadeIn",t[t.FadeOut=5]="FadeOut"}(o=t.ActionType||(t.ActionType={}));var a;!function(t){t[t.Normal=0]="Normal",t[t.Add=1]="Add",t[t.Alpha=2]="Alpha",t[t.Darken=3]="Darken",t[t.Difference=4]="Difference",t[t.Erase=5]="Erase",t[t.HardLight=6]="HardLight",t[t.Invert=7]="Invert",t[t.Layer=8]="Layer",t[t.Lighten=9]="Lighten",t[t.Multiply=10]="Multiply",t[t.Overlay=11]="Overlay",t[t.Screen=12]="Screen",t[t.Subtract=13]="Subtract"}(a=t.BlendMode||(t.BlendMode={}));var s=function(){function t(){}return t.hasArmature=function(e){return t._armatures.indexOf(e)>=0},t.addArmature=function(e){e&&t._armatures.indexOf(e)<0&&t._armatures.push(e)},t.removeArmature=function(e){if(e){var n=t._armatures.indexOf(e);n>=0&&t._armatures.splice(n,1)}},t.PI_D=2*Math.PI,t.PI_H=Math.PI/2,t.PI_Q=Math.PI/4,t.ANGLE_TO_RADIAN=Math.PI/180,t.RADIAN_TO_ANGLE=180/Math.PI,t.SECOND_TO_MILLISECOND=1e3,t.NO_TWEEN=100,t.VERSION="4.7.2",t.debug=!1,t.debugDraw=!1,t._armatures=[],t}();t.DragonBones=s}(r||(r={}));var r;!function(t){var e=function(t){function e(){return t.call(this)||this}return i(e,t),e.toString=function(){return"[class dragonBones.EventObject]"},e.prototype._onClear=function(){this.type=null,this.name=null,this.data=null,this.armature=null,this.bone=null,this.slot=null,this.animationState=null,this.frame=null,this.userData=null},e.START="start",e.LOOP_COMPLETE="loopComplete",e.COMPLETE="complete",e.FADE_IN="fadeIn",e.FADE_IN_COMPLETE="fadeInComplete",e.FADE_OUT="fadeOut",e.FADE_OUT_COMPLETE="fadeOutComplete",e.FRAME_EVENT="frameEvent",e.SOUND_EVENT="soundEvent",e}(t.BaseObject);t.EventObject=e}(r||(r={}));var r;!function(t){var e=function(){function t(t,e,n,i,r,o,a,s){void 0===t&&(t=1),void 0===e&&(e=1),void 0===n&&(n=1),void 0===i&&(i=1),void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),this.alphaMultiplier=t,this.redMultiplier=e,this.greenMultiplier=n,this.blueMultiplier=i,this.alphaOffset=r,this.redOffset=o,this.greenOffset=a,this.blueOffset=s}return t.prototype.copyFrom=function(t){this.alphaMultiplier=t.alphaMultiplier,this.redMultiplier=t.redMultiplier,this.greenMultiplier=t.greenMultiplier,this.blueMultiplier=t.blueMultiplier,this.alphaOffset=t.alphaOffset,this.redOffset=t.redOffset,this.redOffset=t.redOffset,this.greenOffset=t.blueOffset},t.prototype.identity=function(){this.alphaMultiplier=this.redMultiplier=this.greenMultiplier=this.blueMultiplier=1,this.alphaOffset=this.redOffset=this.greenOffset=this.blueOffset=0},t}();t.ColorTransform=e}(r||(r={}));var r;!function(t){var e=function(){function t(t,e,n,i,r,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=1),void 0===r&&(r=0),void 0===o&&(o=0),this.a=t,this.b=e,this.c=n,this.d=i,this.tx=r,this.ty=o}return t.prototype.toString=function(){return"[object dragonBones.Matrix] a:"+this.a+" b:"+this.b+" c:"+this.c+" d:"+this.d+" tx:"+this.tx+" ty:"+this.ty},t.prototype.copyFrom=function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty},t.prototype.identity=function(){this.a=this.d=1,this.b=this.c=0,this.tx=this.ty=0},t.prototype.concat=function(t){var e=this.a,n=this.b,i=this.c,r=this.d,o=this.tx,a=this.ty,s=t.a,l=t.b,u=t.c,h=t.d,c=t.tx,d=t.ty;this.a=e*s+n*u,this.b=e*l+n*h,this.c=i*s+r*u,this.d=i*l+r*h,this.tx=s*o+u*a+c,this.ty=h*a+l*o+d},t.prototype.invert=function(){var t=this.a,e=this.b,n=this.c,i=this.d,r=this.tx,o=this.ty,a=t*i-e*n;this.a=i/a,this.b=-e/a,this.c=-n/a,this.d=t/a,this.tx=(n*o-i*r)/a,this.ty=-(t*o-e*r)/a},t.prototype.transformPoint=function(t,e,n,i){void 0===i&&(i=!1),n.x=this.a*t+this.c*e,n.y=this.b*t+this.d*e,i||(n.x+=this.tx,n.y+=this.ty)},t}();t.Matrix=e}(r||(r={}));var r;!function(t){var e=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.copyFrom=function(t){this.x=t.x,this.y=t.y},t.prototype.clear=function(){this.x=this.y=0},t}();t.Point=e}(r||(r={}));var r;!function(t){var e=function(){function t(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.x=t,this.y=e,this.width=n,this.height=i}return t.prototype.copyFrom=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},t.prototype.clear=function(){this.x=this.y=0,this.width=this.height=0},t}();t.Rectangle=e}(r||(r={}));var r;!function(t){var e=function(){function t(t,e,n,i,r,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===o&&(o=1),this.x=t,this.y=e,this.skewX=n,this.skewY=i,this.scaleX=r,this.scaleY=o}return t.normalizeRadian=function(t){return t=(t+Math.PI)%(2*Math.PI),t+=t>0?-Math.PI:Math.PI},t.prototype.toString=function(){return"[object dragonBones.Transform] x:"+this.x+" y:"+this.y+" skewX:"+180*this.skewX/Math.PI+" skewY:"+180*this.skewY/Math.PI+" scaleX:"+this.scaleX+" scaleY:"+this.scaleY},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.skewX=t.skewX,this.skewY=t.skewY,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this},t.prototype.identity=function(){return this.x=this.y=this.skewX=this.skewY=0,this.scaleX=this.scaleY=1,this},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this.skewX+=t.skewX,this.skewY+=t.skewY,this.scaleX*=t.scaleX,this.scaleY*=t.scaleY,this},t.prototype.minus=function(e){return this.x-=e.x,this.y-=e.y,this.skewX=t.normalizeRadian(this.skewX-e.skewX),this.skewY=t.normalizeRadian(this.skewY-e.skewY),this.scaleX/=e.scaleX,this.scaleY/=e.scaleY,this},t.prototype.fromMatrix=function(t){var e=.25*Math.PI,n=this.scaleX,i=this.scaleY;return this.x=t.tx,this.y=t.ty,this.skewX=Math.atan(-t.c/t.d),this.skewY=Math.atan(t.b/t.a),this.skewX!=this.skewX&&(this.skewX=0),this.skewY!=this.skewY&&(this.skewY=0),this.scaleY=this.skewX>-e&&this.skewX<e?t.d/Math.cos(this.skewX):-t.c/Math.sin(this.skewX),this.scaleX=this.skewY>-e&&this.skewY<e?t.a/Math.cos(this.skewY):t.b/Math.sin(this.skewY),n>=0&&this.scaleX<0&&(this.scaleX=-this.scaleX,this.skewY=this.skewY-Math.PI),i>=0&&this.scaleY<0&&(this.scaleY=-this.scaleY,this.skewX=this.skewX-Math.PI),this},t.prototype.toMatrix=function(t){return t.a=this.scaleX*Math.cos(this.skewY),t.b=this.scaleX*Math.sin(this.skewY),t.c=-this.scaleY*Math.sin(this.skewX),t.d=this.scaleY*Math.cos(this.skewX),t.tx=this.x,t.ty=this.y,this},Object.defineProperty(t.prototype,"rotation",{get:function(){return this.skewY},set:function(t){var e=t-this.skewY;this.skewX+=e,this.skewY+=e},enumerable:!0,configurable:!0}),t}();t.Transform=e}(r||(r={}));var r;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.textures={},e}return i(e,t),e.prototype._onClear=function(){for(var t in this.textures)this.textures[t].returnToPool(),delete this.textures[t];this.autoSearch=!1,this.scale=1,this.name=null,this.imagePath=null},e.prototype.addTexture=function(t){if(!t||!t.name||this.textures[t.name])throw new Error;this.textures[t.name]=t,t.parent=this},e.prototype.getTexture=function(t){return this.textures[t]},e}(t.BaseObject);t.TextureAtlasData=e;var n=function(e){function n(){var n=e.call(this)||this;return n.region=new t.Rectangle,n}return i(n,e),n.generateRectangle=function(){return new t.Rectangle},n.prototype._onClear=function(){this.rotated=!1,this.name=null,this.frame=null,this.parent=null,this.region.clear()},n}(t.BaseObject);t.TextureData=n}(r||(r={}));var r;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.frames=[],e}return i(e,t),e.toString=function(){return"[class dragonBones.TimelineData]"},e.prototype._onClear=function(){for(var t=null,e=0,n=this.frames.length;e<n;++e){var i=this.frames[e];t&&i!=t&&t.returnToPool(),t=i}this.scale=1,this.offset=0,this.frames.length=0},e}(t.BaseObject);t.TimelineData=e;var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.toString=function(){return"[class dragonBones.ZOrderTimelineData]"},e}(e);t.ZOrderTimelineData=n;var r=function(e){function n(){var n=e.call(this)||this;return n.originalTransform=new t.Transform,n.cachedFrames=[],n}return i(n,e),n.cacheFrame=function(e,n,i){var r=e[n]=new t.Matrix;return r.copyFrom(i),r},n.toString=function(){return"[class dragonBones.BoneTimelineData]"},n.prototype._onClear=function(){e.prototype._onClear.call(this),this.bone=null,this.originalTransform.identity(),this.cachedFrames.length=0},n.prototype.cacheFrames=function(t){this.cachedFrames.length=0,this.cachedFrames.length=t},n}(e);t.BoneTimelineData=r;var o=function(e){function n(){var t=e.call(this)||this;return t.cachedFrames=[],t}return i(n,e),n.cacheFrame=function(e,n,i){var r=e[n]=new t.Matrix;return r.copyFrom(i),r},n.toString=function(){return"[class dragonBones.SlotTimelineData]"},n.prototype._onClear=function(){e.prototype._onClear.call(this),this.slot=null,this.cachedFrames.length=0},n.prototype.cacheFrames=function(t){this.cachedFrames.length=0,this.cachedFrames.length=t},n}(e);t.SlotTimelineData=o;var a=function(t){function e(){return t.call(this)||this}return i(e,t),e.toString=function(){return"[class dragonBones.FFDTimelineData]"},e.prototype._onClear=function(){t.prototype._onClear.call(this),this.displayIndex=0,this.skin=null,this.slot=null},e}(e);t.FFDTimelineData=a}(r||(r={}));var r;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.boneTimelines={},e.slotTimelines={},e.ffdTimelines={},e.cachedFrames=[],e}return i(e,t),e.toString=function(){return"[class dragonBones.AnimationData]"},e.prototype._onClear=function(){t.prototype._onClear.call(this),this.zOrderTimeline&&this.zOrderTimeline.returnToPool();for(var e in this.boneTimelines)this.boneTimelines[e].returnToPool(),delete this.boneTimelines[e];for(var e in this.slotTimelines)this.slotTimelines[e].returnToPool(),delete this.slotTimelines[e];for(var e in this.ffdTimelines){for(var n in this.ffdTimelines[e])for(var i in this.ffdTimelines[e][n])this.ffdTimelines[e][n][i].returnToPool();delete this.ffdTimelines[e]}this.hasAsynchronyTimeline=!1,this.frameCount=0,this.playTimes=0,this.position=0,this.duration=0,this.fadeInTime=0,this.cacheTimeToFrameScale=0,this.name=null,this.animation=null,this.zOrderTimeline=null,this.cachedFrames.length=0},e.prototype.cacheFrames=function(t){if(!this.animation){var e=Math.max(Math.floor((this.frameCount+1)*this.scale*t),1);this.cacheTimeToFrameScale=e/(this.duration+1e-6),this.cachedFrames.length=0,this.cachedFrames.length=e;for(var n in this.boneTimelines)this.boneTimelines[n].cacheFrames(e);for(var n in this.slotTimelines)this.slotTimelines[n].cacheFrames(e)}},e.prototype.addBoneTimeline=function(t){if(!t||!t.bone||this.boneTimelines[t.bone.name])throw new Error;this.boneTimelines[t.bone.name]=t},e.prototype.addSlotTimeline=function(t){if(!t||!t.slot||this.slotTimelines[t.slot.name])throw new Error;this.slotTimelines[t.slot.name]=t},e.prototype.addFFDTimeline=function(t){if(!(t&&t.skin&&t.slot))throw new Error;var e=this.ffdTimelines[t.skin.name]=this.ffdTimelines[t.skin.name]||{},n=e[t.slot.slot.name]=e[t.slot.slot.name]||{};if(n[t.displayIndex])throw new Error;n[t.displayIndex]=t},e.prototype.getBoneTimeline=function(t){return this.boneTimelines[t]},e.prototype.getSlotTimeline=function(t){return this.slotTimelines[t]},e.prototype.getFFDTimeline=function(t,e,n){var i=this.ffdTimelines[t];if(i){var r=i[e];if(r)return r[n]}return null},e}(t.TimelineData);t.AnimationData=e}(r||(r={}));var r;!function(t){var e=function(e){function n(){var n=e.call(this)||this;return n.aabb=new t.Rectangle,n.bones={},n.slots={},n.skins={},n.animations={},n.actions=[],n._sortedBones=[],n._sortedSlots=[],n._bonesChildren={},n}return i(n,e),n._onSortSlots=function(t,e){return t.zOrder>e.zOrder?1:-1},n.toString=function(){return"[class dragonBones.ArmatureData]"},n.prototype._onClear=function(){for(var t in this.bones)this.bones[t].returnToPool(),delete this.bones[t];for(var t in this.slots)this.slots[t].returnToPool(),delete this.slots[t];for(var t in this.skins)this.skins[t].returnToPool(),delete this.skins[t];for(var t in this.animations)this.animations[t].returnToPool(),delete this.animations[t];for(var t=0,e=this.actions.length;t<e;++t)this.actions[t].returnToPool();this.frameRate=0,this.type=0,this.name=null,this.parent=null,this.userData=null,this.aabb.clear(),this.actions.length=0,this.cacheFrameRate=0,this.scale=1;for(var t in this._bonesChildren)delete this._bonesChildren[t];this._boneDirty=!1,this._slotDirty=!1,this._defaultSkin=null,this._defaultAnimation=null,this._sortedBones.length=0,this._sortedSlots.length=0},n.prototype._sortBones=function(){var t=this._sortedBones.length;if(!(t<1)){var e=this._sortedBones.concat(),n=0,i=0;for(this._sortedBones.length=0;i<t;){var r=e[n++];n>=t&&(n=0),this._sortedBones.indexOf(r)>=0||r.parent&&this._sortedBones.indexOf(r.parent)<0||r.ik&&this._sortedBones.indexOf(r.ik)<0||(r.ik&&r.chain>0&&r.chainIndex==r.chain?this._sortedBones.splice(this._sortedBones.indexOf(r.parent)+1,0,r):this._sortedBones.push(r),i++)}}},n.prototype._sortSlots=function(){this._sortedSlots.sort(n._onSortSlots)},n.prototype.cacheFrames=function(t){if(this.cacheFrameRate!=t){this.cacheFrameRate=t;var e=this.cacheFrameRate/this.frameRate;for(var n in this.animations)this.animations[n].cacheFrames(e)}},n.prototype.addBone=function(t,e){if(!t||!t.name||this.bones[t.name])throw new Error;if(e){var n=this.getBone(e);n?t.parent=n:(this._bonesChildren[e]=this._bonesChildren[e]||[]).push(t)}var i=this._bonesChildren[t.name];if(i){for(var r=0,o=i.length;r<o;++r)i[r].parent=t;delete this._bonesChildren[t.name]}this.bones[t.name]=t,this._sortedBones.push(t),this._boneDirty=!0},n.prototype.addSlot=function(t){if(!t||!t.name||this.slots[t.name])throw new Error;this.slots[t.name]=t,this._sortedSlots.push(t),this._slotDirty=!0},n.prototype.addSkin=function(t){if(!t||!t.name||this.skins[t.name])throw new Error;this.skins[t.name]=t,this._defaultSkin||(this._defaultSkin=t)},n.prototype.addAnimation=function(t){if(!t||!t.name||this.animations[t.name])throw new Error;this.animations[t.name]=t,this._defaultAnimation||(this._defaultAnimation=t)},n.prototype.getBone=function(t){return this.bones[t]},n.prototype.getSlot=function(t){return this.slots[t]},n.prototype.getSkin=function(t){return t?this.skins[t]:this._defaultSkin},n.prototype.getAnimation=function(t){return t?this.animations[t]:this._defaultAnimation},Object.defineProperty(n.prototype,"sortedBones",{get:function(){return this._boneDirty&&(this._boneDirty=!1,this._sortBones()),this._sortedBones},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortedSlots",{get:function(){return this._slotDirty&&(this._slotDirty=!1,this._sortSlots()),this._sortedSlots},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"defaultSkin",{get:function(){return this._defaultSkin},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"defaultAnimation",{get:function(){return this._defaultAnimation},enumerable:!0,configurable:!0}),n}(t.BaseObject);t.ArmatureData=e;var n=function(e){function n(){var n=e.call(this)||this;return n.transform=new t.Transform,n}return i(n,e),n.toString=function(){return"[class dragonBones.BoneData]"},n.prototype._onClear=function(){this.inheritTranslation=!1,this.inheritRotation=!1,this.inheritScale=!1,this.bendPositive=!1,this.chain=0,this.chainIndex=0,this.weight=0,this.length=0,this.name=null,this.parent=null,this.ik=null,this.transform.identity()},n}(t.BaseObject);t.BoneData=n;var r=function(e){function n(){var t=e.call(this)||this;return t.actions=[],t}return i(n,e),n.generateColor=function(){return new t.ColorTransform},n.toString=function(){return"[class dragonBones.SlotData]"},n.prototype._onClear=function(){for(var t=0,e=this.actions.length;t<e;++t)this.actions[t].returnToPool();this.displayIndex=0,this.zOrder=0,this.blendMode=0,this.name=null,this.parent=null,this.color=null,this.actions.length=0},n.DEFAULT_COLOR=new t.ColorTransform,n}(t.BaseObject);t.SlotData=r;var o=function(t){function e(){var e=t.call(this)||this;return e.slots={},e}return i(e,t),e.toString=function(){return"[class dragonBones.SkinData]"},e.prototype._onClear=function(){for(var t in this.slots)this.slots[t].returnToPool(),delete this.slots[t];this.name=null},e.prototype.addSlot=function(t){if(!t||!t.slot||this.slots[t.slot.name])throw new Error;this.slots[t.slot.name]=t},e.prototype.getSlot=function(t){return this.slots[t]},e}(t.BaseObject);t.SkinData=o;var a=function(t){function e(){var e=t.call(this)||this;return e.displays=[],e}return i(e,t),e.toString=function(){return"[class dragonBones.SlotDisplayDataSet]"},e.prototype._onClear=function(){for(var t=0,e=this.displays.length;t<e;++t)this.displays[t].returnToPool();this.slot=null,this.displays.length=0},e}(t.BaseObject);t.SlotDisplayDataSet=a;var s=function(e){function n(){var n=e.call(this)||this;return n.pivot=new t.Point,n.transform=new t.Transform,n}return i(n,e),n.toString=function(){return"[class dragonBones.DisplayData]"},n.prototype._onClear=function(){this.isRelativePivot=!1,this.type=0,this.name=null,this.texture=null,this.armature=null,this.mesh&&(this.mesh.returnToPool(),this.mesh=null),this.pivot.clear(),this.transform.identity()},n}(t.BaseObject);t.DisplayData=s;var l=function(e){function n(){var n=e.call(this)||this;return n.slotPose=new t.Matrix,n.uvs=[],n.vertices=[],n.vertexIndices=[],n.boneIndices=[],n.weights=[],n.boneVertices=[],n.bones=[],n.inverseBindPose=[],n}return i(n,e),n.toString=function(){return"[class dragonBones.MeshData]"},n.prototype._onClear=function(){this.skinned=!1,this.slotPose.identity(),this.uvs.length=0,this.vertices.length=0,this.vertexIndices.length=0,this.boneIndices.length=0,this.weights.length=0,this.boneVertices.length=0,this.bones.length=0,this.inverseBindPose.length=0},n}(t.BaseObject);t.MeshData=l}(r||(r={}));var r;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.armatures={},e._armatureNames=[],e}return i(e,t),
e.toString=function(){return"[class dragonBones.DragonBonesData]"},e.prototype._onClear=function(){for(var t in this.armatures)this.armatures[t].returnToPool(),delete this.armatures[t];this.autoSearch=!1,this.frameRate=0,this.name=null,this._armatureNames.length=0},e.prototype.getArmature=function(t){return this.armatures[t]},e.prototype.addArmature=function(t){if(!t||!t.name||this.armatures[t.name])throw new Error;this.armatures[t.name]=t,this._armatureNames.push(t.name),t.parent=this},Object.defineProperty(e.prototype,"armatureNames",{get:function(){return this._armatureNames},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.returnToPool()},e}(t.BaseObject);t.DragonBonesData=e}(r||(r={}));var r;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.data=[],e}return i(e,t),e.toString=function(){return"[class dragonBones.ActionData]"},e.prototype._onClear=function(){this.type=0,this.bone=null,this.slot=null,this.data.length=0},e}(t.BaseObject);t.ActionData=e;var n=function(t){function e(){return t.call(this)||this}return i(e,t),e.toString=function(){return"[class dragonBones.EventData]"},e.prototype._onClear=function(){this.type=10,this.name=null,this.data=null,this.bone=null,this.slot=null},e}(t.BaseObject);t.EventData=n;var r=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype._onClear=function(){this.position=0,this.duration=0,this.prev=null,this.next=null},e}(t.BaseObject);t.FrameData=r;var o=function(t){function e(){return t.call(this)||this}return i(e,t),e.samplingCurve=function(t,e){var n=t.length;if(0==n||0==e)return null;for(var i=e+1,r=1/(i+1),o=new Array(2*i),a=-2,s=0;s<i;++s){for(var l=r*(s+1);(a+6<n?t[a+6]:1)<l;)a+=6;var u=a>=0&&a+6<n,h=u?t[a]:0,c=u?t[a+1]:0,d=u?t[a+6]:1,p=u?t[a+7]:1,f=(l-h)/(d-h),_=1-f,m=_*_,y=f*f,v=_*m,g=3*f*m,T=3*_*y,A=f*y;o[2*s]=v*h+g*t[a+2]+T*t[a+4]+A*d,o[2*s+1]=v*c+g*t[a+3]+T*t[a+5]+A*p}return o},e.prototype._onClear=function(){t.prototype._onClear.call(this),this.tweenEasing=0,this.curve=null},e}(r);t.TweenFrameData=o;var a=function(t){function e(){var e=t.call(this)||this;return e.actions=[],e.events=[],e}return i(e,t),e.toString=function(){return"[class dragonBones.AnimationFrameData]"},e.prototype._onClear=function(){t.prototype._onClear.call(this);for(var e=0,n=this.actions.length;e<n;++e)this.actions[e].returnToPool();for(var e=0,n=this.events.length;e<n;++e)this.events[e].returnToPool();this.actions.length=0,this.events.length=0},e}(r);t.AnimationFrameData=a;var s=function(t){function e(){var e=t.call(this)||this;return e.zOrder=[],e}return i(e,t),e.prototype._onClear=function(){t.prototype._onClear.call(this),this.zOrder.length=0},e}(r);t.ZOrderFrameData=s;var l=function(e){function n(){var n=e.call(this)||this;return n.transform=new t.Transform,n}return i(n,e),n.toString=function(){return"[class dragonBones.BoneFrameData]"},n.prototype._onClear=function(){e.prototype._onClear.call(this),this.tweenScale=!1,this.tweenRotate=0,this.guideCurve=null,this.transform.identity()},n}(o);t.BoneFrameData=l;var u=function(e){function n(){return e.call(this)||this}return i(n,e),n.generateColor=function(){return new t.ColorTransform},n.toString=function(){return"[class dragonBones.SlotFrameData]"},n.prototype._onClear=function(){e.prototype._onClear.call(this),this.displayIndex=0,this.color=null},n.DEFAULT_COLOR=new t.ColorTransform,n}(o);t.SlotFrameData=u;var h=function(t){function e(){var e=t.call(this)||this;return e.tweens=[],e.keys=[],e}return i(e,t),e.toString=function(){return"[class dragonBones.ExtensionFrameData]"},e.prototype._onClear=function(){t.prototype._onClear.call(this),this.type=0,this.tweens.length=0,this.keys.length=0},e}(o);t.ExtensionFrameData=h}(r||(r={}));var r;!function(t){var e=function(e){function n(){var n=e.call(this)||this;return n.global=new t.Transform,n.origin=new t.Transform,n.offset=new t.Transform,n._globalTransformMatrix=new t.Matrix,n}return i(n,e),n.prototype._onClear=function(){this.userData=null,this.name=null,this.globalTransformMatrix=this._globalTransformMatrix,this.global.identity(),this.origin.identity(),this.offset.identity(),this._armature=null,this._parent=null,this._globalTransformMatrix.identity()},n.prototype._setArmature=function(t){this._armature=t},n.prototype._setParent=function(t){this._parent=t},Object.defineProperty(n.prototype,"armature",{get:function(){return this._armature},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),n}(t.BaseObject);t.TransformObject=e}(r||(r={}));var r;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t._bones=[],t._slots=[],t._actions=[],t._events=[],t.enableCache=!1,t}return i(n,e),n.toString=function(){return"[class dragonBones.Armature]"},n._onSortSlots=function(t,e){return t._zOrder>e._zOrder?1:-1},n.prototype._onClear=function(){for(var t=0,e=this._bones.length;t<e;++t)this._bones[t].returnToPool();for(var t=0,e=this._slots.length;t<e;++t)this._slots[t].returnToPool();for(var t=0,e=this._events.length;t<e;++t)this._events[t].returnToPool();this._animation&&this._animation.returnToPool(),this._display&&this._display._onClear(),this.userData=null,this._cacheFrameIndex=-1,this._armatureData=null,this._skinData=null,this._animation=null,this._display=null,this._parent=null,this._eventManager=null,this._delayDispose=!1,this._lockDispose=!1,this._bonesDirty=!1,this._slotsDirty=!1,this._replacedTexture=null,this._bones.length=0,this._slots.length=0,this._actions.length=0,this._events.length=0},n.prototype._sortBones=function(){var t=this._bones.length;if(!(t<=0)){var e=this._bones.concat(),n=0,i=0;for(this._bones.length=0;i<t;){var r=e[n++];n>=t&&(n=0),this._bones.indexOf(r)>=0||r.parent&&this._bones.indexOf(r.parent)<0||r.ik&&this._bones.indexOf(r.ik)<0||(r.ik&&r.ikChain>0&&r.ikChainIndex==r.ikChain?this._bones.splice(this._bones.indexOf(r.parent)+1,0,r):this._bones.push(r),i++)}}},n.prototype._sortSlots=function(){this._slots.sort(n._onSortSlots)},n.prototype._doAction=function(t){switch(t.type){case 0:this._animation.play(t.data[0],t.data[1]);break;case 1:this._animation.stop(t.data[0]);break;case 2:this._animation.gotoAndPlayByTime(t.data[0],t.data[1],t.data[2]);break;case 3:this._animation.gotoAndStopByTime(t.data[0],t.data[1]);break;case 4:this._animation.fadeIn(t.data[0],t.data[1],t.data[2]);break;case 5:}},n.prototype._addBoneToBoneList=function(t){this._bones.indexOf(t)<0&&(this._bonesDirty=!0,this._bones.push(t))},n.prototype._removeBoneFromBoneList=function(t){var e=this._bones.indexOf(t);e>=0&&this._bones.splice(e,1)},n.prototype._addSlotToSlotList=function(t){this._slots.indexOf(t)<0&&(this._slotsDirty=!0,this._slots.push(t))},n.prototype._removeSlotFromSlotList=function(t){var e=this._slots.indexOf(t);e>=0&&this._slots.splice(e,1)},n.prototype._sortZOrder=function(t){for(var e=this._armatureData.sortedSlots,n=t.length<1,i=0,r=e.length;i<r;++i){var o=n?i:t[i],a=e[o],s=this.getSlot(a.name);s&&s._zOrder!=i&&(s._zOrder=i,s._zOrderDirty=!0)}this._slotsDirty=!0},n.prototype._bufferAction=function(t){this._actions.push(t)},n.prototype._bufferEvent=function(t,e){t.type=e,t.armature=this,this._events.push(t)},n.prototype.dispose=function(){this._delayDispose=!0,!this._lockDispose&&this._animation&&this.returnToPool()},n.prototype.advanceTime=function(e){var n=this;if(!n._animation)throw new Error("The armature has been disposed.");var i=e*n._animation.timeScale;n._animation._advanceTime(i),n._bonesDirty&&(n._bonesDirty=!1,n._sortBones()),n._slotsDirty&&(n._slotsDirty=!1,n._sortSlots());for(var r=0,o=n._bones.length;r<o;++r)n._bones[r]._update(n._cacheFrameIndex);for(var r=0,o=n._slots.length;r<o;++r){var a=n._slots[r];a._update(n._cacheFrameIndex);var s=a._childArmature;s&&(a.inheritAnimation?s.advanceTime(i):s.advanceTime(e))}if(t.DragonBones.debugDraw&&n._display._debugDraw(),!n._lockDispose){if(n._lockDispose=!0,n._events.length>0){for(var r=0,o=n._events.length;r<o;++r){var l=n._events[r];l.type==t.EventObject.SOUND_EVENT?this._eventManager._dispatchEvent(l):n._display._dispatchEvent(l),l.returnToPool()}n._events.length=0}if(n._actions.length>0){for(var r=0,o=n._actions.length;r<o;++r){var u=n._actions[r];if(u.slot){var a=n.getSlot(u.slot.name);if(a){var s=a._childArmature;s&&s._doAction(u)}}else if(u.bone)for(var h=0,c=n._slots.length;h<c;++h){var s=n._slots[h]._childArmature;s&&s._doAction(u)}else this._doAction(u)}n._actions.length=0}n._lockDispose=!1}n._delayDispose&&n.returnToPool()},n.prototype.invalidUpdate=function(t,e){if(void 0===t&&(t=null),void 0===e&&(e=!1),t){var n=this.getBone(t);if(n&&(n.invalidUpdate(),e))for(var i=0,r=this._slots.length;i<r;++i){var o=this._slots[i];o.parent==n&&o.invalidUpdate()}}else{for(var i=0,r=this._bones.length;i<r;++i)this._bones[i].invalidUpdate();if(e)for(var i=0,r=this._slots.length;i<r;++i)this._slots[i].invalidUpdate()}},n.prototype.getBone=function(t){for(var e=0,n=this._bones.length;e<n;++e){var i=this._bones[e];if(i.name==t)return i}return null},n.prototype.getBoneByDisplay=function(t){var e=this.getSlotByDisplay(t);return e?e.parent:null},n.prototype.getSlot=function(t){for(var e=0,n=this._slots.length;e<n;++e){var i=this._slots[e];if(i.name==t)return i}return null},n.prototype.getSlotByDisplay=function(t){if(t)for(var e=0,n=this._slots.length;e<n;++e){var i=this._slots[e];if(i.display==t)return i}return null},n.prototype.replaceTexture=function(t){this.replacedTexture=t},n.prototype.getBones=function(){return this._bones},n.prototype.getSlots=function(){return this._slots},Object.defineProperty(n.prototype,"name",{get:function(){return this._armatureData?this._armatureData.name:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"armatureData",{get:function(){return this._armatureData},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"animation",{get:function(){return this._animation},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"display",{get:function(){return this._display},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cacheFrameRate",{get:function(){return this._armatureData.cacheFrameRate},set:function(t){if(this._armatureData.cacheFrameRate!=t){this._armatureData.cacheFrames(t);for(var e=0,n=this._slots.length;e<n;++e){var i=this._slots[e],r=i.childArmature;r&&0==r.cacheFrameRate&&(r.cacheFrameRate=t)}}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"replacedTexture",{get:function(){return this._replacedTexture},set:function(t){this._display._onReplaceTexture(t),this._replacedTexture=t;for(var e=0,n=this._slots.length;e<n;++e)this._slots[e].invalidUpdate()},enumerable:!0,configurable:!0}),n.prototype.enableAnimationCache=function(t){this.cacheFrameRate=t},n.prototype.hasEventListener=function(t){this._display.hasEvent(t)},n.prototype.addEventListener=function(t,e,n){this._display.addEvent(t,e,n)},n.prototype.removeEventListener=function(t,e,n){this._display.removeEvent(t,e,n)},n.prototype.addBone=function(t,e){if(void 0===e&&(e=null),!t)throw new Error;t._setArmature(this),t._setParent(e?this.getBone(e):null)},n.prototype.addSlot=function(t,e){var n=this.getBone(e);if(!n)throw new Error;t._setArmature(this),t._setParent(n)},n.prototype.removeBone=function(t){if(!t||t.armature!=this)throw new Error;t._setParent(null),t._setArmature(null)},n.prototype.removeSlot=function(t){if(!t||t.armature!=this)throw new Error;t._setParent(null),t._setArmature(null)},n.prototype.getDisplay=function(){return this._display},n}(t.BaseObject);t.Armature=e}(r||(r={}));var r;!function(t){var e;!function(t){t[t.None=0]="None",t[t.Self=1]="Self",t[t.All=2]="All"}(e=t.BoneTransformDirty||(t.BoneTransformDirty={}));var n=function(e){function n(){var n=e.call(this)||this;return n._animationPose=new t.Transform,n._bones=[],n._slots=[],n}return i(n,e),n.toString=function(){return"[class dragonBones.Bone]"},n.prototype._onClear=function(){e.prototype._onClear.call(this),this.inheritTranslation=!1,this.inheritRotation=!1,this.inheritScale=!1,this.ikBendPositive=!1,this.ikWeight=0,this.length=0,this._transformDirty=2,this._blendIndex=0,this._cacheFrames=null,this._animationPose.identity(),this._visible=!0,this._ikChain=0,this._ikChainIndex=0,this._ik=null,this._bones.length=0,this._slots.length=0},n.prototype._updateGlobalTransformMatrix=function(){if(this._parent){var t=this._parent.global.skewY,e=this._parent.globalTransformMatrix;if(this.inheritScale)this.inheritRotation||(this.global.skewX-=t,this.global.skewY-=t),this.global.toMatrix(this.globalTransformMatrix),this.globalTransformMatrix.concat(e),this.inheritTranslation||(this.globalTransformMatrix.tx=this.global.x,this.globalTransformMatrix.ty=this.global.y),this.global.fromMatrix(this.globalTransformMatrix);else{if(this.inheritTranslation){var n=this.global.x,i=this.global.y;this.global.x=e.a*n+e.c*i+e.tx,this.global.y=e.d*i+e.b*n+e.ty}this.inheritRotation&&(this.global.skewX+=t,this.global.skewY+=t),this.global.toMatrix(this.globalTransformMatrix)}}else this.global.toMatrix(this.globalTransformMatrix)},n.prototype._computeIKA=function(){var t=this._ik.global,e=this.globalTransformMatrix.a*this.length,n=this.globalTransformMatrix.b*this.length,i=(Math.atan2(t.y-this.global.y,t.x-this.global.x)+this.offset.skewY-2*this.global.skewY+Math.atan2(n,e))*this.ikWeight;this.global.skewX+=i,this.global.skewY+=i,this.global.toMatrix(this.globalTransformMatrix)},n.prototype._computeIKB=function(){var t=this._parent.global,e=this._ik.global,n=this.globalTransformMatrix.a*this.length,i=this.globalTransformMatrix.b*this.length,r=n*n+i*i,o=Math.sqrt(r),a=this.global.x-t.x,s=this.global.y-t.y,l=a*a+s*s,u=Math.sqrt(l);a=e.x-t.x,s=e.y-t.y;var h=a*a+s*s,c=Math.sqrt(h),d=0;if(o+u<=c||c+o<=u||c+u<=o)d=Math.atan2(e.y-t.y,e.x-t.x)+this._parent.offset.skewY,o+u<=c||u<o&&(d+=Math.PI);else{var p=(l-r+h)/(2*h),f=Math.sqrt(l-p*p*h)/c,_=t.x+a*p,m=t.y+s*p,y=-s*f,v=a*f;this.ikBendPositive?(this.global.x=_-y,this.global.y=m-v):(this.global.x=_+y,this.global.y=m+v),d=Math.atan2(this.global.y-t.y,this.global.x-t.x)+this._parent.offset.skewY}d=(d-t.skewY)*this.ikWeight,t.skewX+=d,t.skewY+=d,t.toMatrix(this._parent.globalTransformMatrix),this._parent._transformDirty=1,this.global.x=t.x+Math.cos(t.skewY)*u,this.global.y=t.y+Math.sin(t.skewY)*u;var g=(Math.atan2(e.y-this.global.y,e.x-this.global.x)+this.offset.skewY-2*this.global.skewY+Math.atan2(i,n))*this.ikWeight;this.global.skewX+=g,this.global.skewY+=g,this.global.toMatrix(this.globalTransformMatrix)},n.prototype._setArmature=function(t){if(this._armature!=t){this._ik=null;var e=null,n=null;if(this._armature&&(e=this.getSlots(),n=this.getBones(),this._armature._removeBoneFromBoneList(this)),this._armature=t,this._armature&&this._armature._addBoneToBoneList(this),e)for(var i=0,r=e.length;i<r;++i){var o=e[i];o.parent==this&&o._setArmature(this._armature)}if(n)for(var i=0,r=n.length;i<r;++i){var a=n[i];a.parent==this&&a._setArmature(this._armature)}}},n.prototype._setIK=function(t,e,n){if(t){if(e==n){var i=this._parent;if(e&&i?e=1:(e=0,n=0,i=this),i==t||i.contains(t))t=null,e=0,n=0;else for(var r=t;r.ik&&r.ikChain;){if(i.contains(r.ik)){t=null,e=0,n=0;break}r=r.parent}}}else e=0,n=0;this._ik=t,this._ikChain=e,this._ikChainIndex=n,this._armature&&(this._armature._bonesDirty=!0)},n.prototype._update=function(e){var n=this;if(n._blendIndex=0,e>=0){var i=n._cacheFrames[e];n.globalTransformMatrix==i?n._transformDirty=0:i?(n._transformDirty=2,n.globalTransformMatrix=i):2==n._transformDirty||n._parent&&0!=n._parent._transformDirty||n._ik&&n.ikWeight>0&&0!=n._ik._transformDirty?(n._transformDirty=2,n.globalTransformMatrix=n._globalTransformMatrix):n.globalTransformMatrix!=n._globalTransformMatrix?(n._transformDirty=0,n._cacheFrames[e]=n.globalTransformMatrix):(n._transformDirty=2,n.globalTransformMatrix=n._globalTransformMatrix)}else(2==n._transformDirty||n._parent&&0!=n._parent._transformDirty||n._ik&&n.ikWeight>0&&0!=n._ik._transformDirty)&&(n._transformDirty=2,n.globalTransformMatrix=n._globalTransformMatrix);0!=n._transformDirty&&(2==n._transformDirty?(n._transformDirty=1,n.globalTransformMatrix==n._globalTransformMatrix&&(n.global.x=n.origin.x+n.offset.x+n._animationPose.x,n.global.y=n.origin.y+n.offset.y+n._animationPose.y,n.global.skewX=n.origin.skewX+n.offset.skewX+n._animationPose.skewX,n.global.skewY=n.origin.skewY+n.offset.skewY+n._animationPose.skewY,n.global.scaleX=n.origin.scaleX*n.offset.scaleX*n._animationPose.scaleX,n.global.scaleY=n.origin.scaleY*n.offset.scaleY*n._animationPose.scaleY,n._updateGlobalTransformMatrix(),n._ik&&n._ikChainIndex==n._ikChain&&n.ikWeight>0&&(n.inheritTranslation&&n._ikChain>0&&n._parent?n._computeIKB():n._computeIKA()),e>=0&&!n._cacheFrames[e]&&(n.globalTransformMatrix=t.BoneTimelineData.cacheFrame(n._cacheFrames,e,n._globalTransformMatrix)))):n._transformDirty=0)},n.prototype.invalidUpdate=function(){this._transformDirty=2},n.prototype.contains=function(t){if(t){if(t==this)return!1;for(var e=t;e!=this&&e;)e=e.parent;return e==this}return!1},n.prototype.getBones=function(){this._bones.length=0;for(var t=this._armature.getBones(),e=0,n=t.length;e<n;++e){var i=t[e];i.parent==this&&this._bones.push(i)}return this._bones},n.prototype.getSlots=function(){this._slots.length=0;for(var t=this._armature.getSlots(),e=0,n=t.length;e<n;++e){var i=t[e];i.parent==this&&this._slots.push(i)}return this._slots},Object.defineProperty(n.prototype,"ikChain",{get:function(){return this._ikChain},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ikChainIndex",{get:function(){return this._ikChainIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ik",{get:function(){return this._ik},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visible",{get:function(){return this._visible},set:function(t){if(this._visible!=t){this._visible=t;for(var e=this._armature.getSlots(),n=0,i=e.length;n<i;++n){var r=e[n];r._parent==this&&r._updateVisible()}}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"slot",{get:function(){for(var t=this._armature.getSlots(),e=0,n=t.length;e<n;++e){var i=t[e];if(i.parent==this)return i}return null},enumerable:!0,configurable:!0}),n}(t.TransformObject);t.Bone=n}(r||(r={}));var r;!function(t){var e=function(e){function n(){var n=e.call(this)||this;return n._colorTransform=new t.ColorTransform,n._ffdVertices=[],n._replacedDisplayDataSet=[],n._localMatrix=new t.Matrix,n._displayList=[],n._meshBones=[],n}return i(n,e),n.prototype._onClear=function(){e.prototype._onClear.call(this);for(var n=[],i=0,r=this._displayList.length;i<r;++i){var o=this._displayList[i];o!=this._rawDisplay&&o!=this._meshDisplay&&n.indexOf(o)<0&&n.push(o)}for(var i=0,r=n.length;i<r;++i){var o=n[i];o instanceof t.Armature?o.dispose():this._disposeDisplay(o)}this._meshDisplay&&this._meshDisplay!=this._rawDisplay&&this._disposeDisplay(this._meshDisplay),this._rawDisplay&&this._disposeDisplay(this._rawDisplay),this.inheritAnimation=!0,this.displayController=null,this._blendIndex=0,this._zOrder=0,this._pivotX=0,this._pivotY=0,this._displayDataSet=null,this._meshData=null,this._childArmature=null,this._rawDisplay=null,this._meshDisplay=null,this._cacheFrames=null,this._colorTransform.identity(),this._ffdVertices.length=0,this._replacedDisplayDataSet.length=0,this._zOrderDirty=!1,this._displayDirty=!1,this._colorDirty=!1,this._blendModeDirty=!1,this._originDirty=!1,this._transformDirty=!1,this._ffdDirty=!1,this._displayIndex=0,this._blendMode=0,this._display=null,this._localMatrix.identity(),this._displayList.length=0,this._meshBones.length=0},n.prototype._isMeshBonesUpdate=function(){for(var t=0,e=this._meshBones.length;t<e;++t)if(0!=this._meshBones[t]._transformDirty)return!0;return!1},n.prototype._updatePivot=function(t,e,i){var r=t&&t!=e&&(!this._meshData||this._meshData!=t.mesh);if(this._meshData&&this._display==this._meshDisplay)this._pivotX=0,this._pivotY=0;else{var o=this._armature.armatureData.scale;if(this._pivotX=e.pivot.x,this._pivotY=e.pivot.y,e.isRelativePivot){var a=i.frame||i.region,s=a.width*o,l=a.height*o;i.rotated&&(s=a.height,l=a.width),this._pivotX*=s,this._pivotY*=l}i.frame&&(this._pivotX+=i.frame.x*o,this._pivotY+=i.frame.y*o)}r&&(t.transform.toMatrix(n._helpMatrix),n._helpMatrix.invert(),n._helpMatrix.transformPoint(0,0,n._helpPoint),this._pivotX-=n._helpPoint.x,this._pivotY-=n._helpPoint.y,e.transform.toMatrix(n._helpMatrix),n._helpMatrix.invert(),n._helpMatrix.transformPoint(0,0,n._helpPoint),this._pivotX+=n._helpPoint.x,this._pivotY+=n._helpPoint.y)},n.prototype._updateDisplay=function(){var e=this._display||this._rawDisplay,n=this._childArmature;this._displayIndex>=0&&this._displayIndex<this._displayList.length?(this._display=this._displayList[this._displayIndex],this._display instanceof t.Armature?(this._childArmature=this._display,this._display=this._childArmature._display):this._childArmature=null):(this._display=null,this._childArmature=null);var i=this._display||this._rawDisplay;if(i!=e&&(this._onUpdateDisplay(),e?this._replaceDisplay(e):this._addDisplay(),this._blendModeDirty=!0,this._colorDirty=!0),this._displayDataSet&&this._displayIndex>=0&&this._displayIndex<this._displayDataSet.displays.length&&(this.origin.copyFrom(this._displayDataSet.displays[this._displayIndex].transform),this._originDirty=!0),this._updateMeshData(!1),i!=this._rawDisplay&&i!=this._meshDisplay||this._updateFrame(),this._childArmature!=n&&(n&&(n._parent=null,this.inheritAnimation&&n.animation.reset()),this._childArmature&&(this._childArmature._parent=this,this.inheritAnimation))){if(0==this._childArmature.cacheFrameRate){var r=this._armature.cacheFrameRate;0!=r&&(this._childArmature.cacheFrameRate=r)}var o=this._armature.armatureData.getSlot(this.name),a=o.actions.length>0?o.actions:this._childArmature.armatureData.actions;if(a.length>0)for(var s=0,l=a.length;s<l;++s)this._childArmature._bufferAction(a[s]);else this._childArmature.animation.play()}},n.prototype._updateLocalTransformMatrix=function(){this.global.copyFrom(this.origin).add(this.offset).toMatrix(this._localMatrix)},n.prototype._updateGlobalTransformMatrix=function(){this.globalTransformMatrix.copyFrom(this._localMatrix),this.globalTransformMatrix.concat(this._parent.globalTransformMatrix),this.global.fromMatrix(this.globalTransformMatrix)},n.prototype._setArmature=function(t){this._armature!=t&&(this._armature&&this._armature._removeSlotFromSlotList(this),this._armature=t,this._onUpdateDisplay(),this._armature?(this._armature._addSlotToSlotList(this),this._addDisplay()):this._removeDisplay())},n.prototype._updateMeshData=function(t){var e=this._meshData,n=null;if(this._display&&this._display==this._meshDisplay&&this._displayIndex>=0){n=this._displayDataSet&&this._displayIndex<this._displayDataSet.displays.length?this._displayDataSet.displays[this._displayIndex].mesh:null;var i=this._displayIndex<this._replacedDisplayDataSet.length?this._replacedDisplayDataSet[this._displayIndex]:null,r=i?i.mesh:null;this._meshData=r||n}else this._meshData=null;if(this._meshData!=e){if(this._meshData&&this._meshData==n){if(this._meshData.skinned){this._meshBones.length=this._meshData.bones.length;for(var o=0,a=this._meshBones.length;o<a;++o)this._meshBones[o]=this._armature.getBone(this._meshData.bones[o].name);for(var s=0,o=0,a=this._meshData.boneIndices.length;o<a;++o)s+=this._meshData.boneIndices[o].length;this._ffdVertices.length=2*s}else this._meshBones.length=0,this._ffdVertices.length=this._meshData.vertices.length;for(var o=0,a=this._ffdVertices.length;o<a;++o)this._ffdVertices[o]=0;this._ffdDirty=!0}else this._meshBones.length=0,this._ffdVertices.length=0;t&&this._armature.animation._updateFFDTimelineStates()}},n.prototype._update=function(e){var n=this;if(n._blendIndex=0,n._zOrderDirty&&(n._zOrderDirty=!1,n._updateZOrder()),n._displayDirty&&(n._displayDirty=!1,n._updateDisplay()),n._display&&(n._blendModeDirty&&(n._blendModeDirty=!1,n._updateBlendMode()),n._colorDirty&&(n._colorDirty=!1,n._updateColor()),!n._meshData||((n._ffdDirty||n._meshData.skinned&&n._isMeshBonesUpdate())&&(n._ffdDirty=!1,n._updateMesh()),!n._meshData.skinned))){if(n._originDirty&&(n._originDirty=!1,n._transformDirty=!0,n._updateLocalTransformMatrix()),e>=0&&n._cacheFrames){var i=n._cacheFrames[e];n.globalTransformMatrix==i?n._transformDirty=!1:i?(n._transformDirty=!0,n.globalTransformMatrix=i):n._transformDirty||0!=n._parent._transformDirty?(n._transformDirty=!0,n.globalTransformMatrix=n._globalTransformMatrix):n.globalTransformMatrix!=n._globalTransformMatrix?(n._transformDirty=!1,n._cacheFrames[e]=n.globalTransformMatrix):(n._transformDirty=!0,n.globalTransformMatrix=n._globalTransformMatrix)}else(n._transformDirty||0!=n._parent._transformDirty)&&(n._transformDirty=!0,n.globalTransformMatrix=n._globalTransformMatrix);n._transformDirty&&(n._transformDirty=!1,n.globalTransformMatrix==n._globalTransformMatrix&&(n._updateGlobalTransformMatrix(),e>=0&&n._cacheFrames&&!n._cacheFrames[e]&&(n.globalTransformMatrix=t.SlotTimelineData.cacheFrame(n._cacheFrames,e,n._globalTransformMatrix))),n._updateTransform())}},n.prototype._setDisplayList=function(e){if(e&&e.length>0){this._displayList.length!=e.length&&(this._displayList.length=e.length);for(var n=0,i=e.length;n<i;++n){var r=e[n];r&&r!=this._rawDisplay&&r!=this._meshDisplay&&!(r instanceof t.Armature)&&this._displayList.indexOf(r)<0&&this._initDisplay(r),this._displayList[n]=r}}else this._displayList.length>0&&(this._displayList.length=0);return this._displayIndex>=0&&this._displayIndex<this._displayList.length?this._displayDirty=this._display!=this._displayList[this._displayIndex]:this._displayDirty=null!=this._display,this._displayDirty},n.prototype._setDisplayIndex=function(t){return this._displayIndex!=t&&(this._displayIndex=t,this._displayDirty=!0,this._displayDirty)},n.prototype._setBlendMode=function(t){return this._blendMode!=t&&(this._blendMode=t,this._blendModeDirty=!0,!0)},n.prototype._setColor=function(t){return this._colorTransform.copyFrom(t),this._colorDirty=!0,!0},n.prototype.invalidUpdate=function(){this._displayDirty=!0},Object.defineProperty(n.prototype,"rawDisplay",{get:function(){return this._rawDisplay},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"MeshDisplay",{get:function(){return this._meshDisplay},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"displayIndex",{get:function(){return this._displayIndex},set:function(t){this._setDisplayIndex(t)&&this._update(-1)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"displayList",{get:function(){return this._displayList.concat()},set:function(e){var n=this._displayList.concat(),i=[];this._setDisplayList(e)&&this._update(-1);for(var r=0,o=n.length;r<o;++r){var a=n[r];a&&a!=this._rawDisplay&&a!=this._meshDisplay&&this._displayList.indexOf(a)<0&&i.indexOf(a)<0&&i.push(a)}for(var r=0,o=i.length;r<o;++r){var a=i[r];a instanceof t.Armature?a.dispose():this._disposeDisplay(a)}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"display",{get:function(){return this._display},set:function(t){if(this._display!=t){var e=this._displayList.length;if(this._displayIndex<0&&0==e&&(this._displayIndex=0),!(this._displayIndex<0)){var n=this.displayList;e<=this._displayIndex&&(n.length=this._displayIndex+1),n[this._displayIndex]=t,this.displayList=n}}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"childArmature",{get:function(){return this._childArmature},set:function(t){this._childArmature!=t&&(t&&t.display.advanceTimeBySelf(!1),this.display=t)},enumerable:!0,configurable:!0}),n.prototype.getDisplay=function(){return this._display},n.prototype.setDisplay=function(t){this.display=t},n._helpPoint=new t.Point,n._helpMatrix=new t.Matrix,n}(t.TransformObject);t.Slot=e}(r||(r={}));var r;!function(t){var e;!function(t){t[t.None=0]="None",t[t.SameLayer=1]="SameLayer",t[t.SameGroup=2]="SameGroup",t[t.SameLayerAndGroup=3]="SameLayerAndGroup",t[t.All=4]="All"}(e=t.AnimationFadeOutMode||(t.AnimationFadeOutMode={}));var n=function(e){function n(){var t=e.call(this)||this;return t._animations={},t._animationNames=[],t._animationStates=[],t}return i(n,e),n._sortAnimationState=function(t,e){return t.layer>e.layer?-1:1},n.toString=function(){return"[class dragonBones.Animation]"},n.prototype._onClear=function(){for(var t in this._animations)delete this._animations[t];for(var t=0,e=this._animationStates.length;t<e;++t)this._animationStates[t].returnToPool();this.timeScale=1,this._animationStateDirty=!1,this._armature=null,this._isPlaying=!1,this._time=0,this._duration=0,this._lastAnimationState=null,this._animationNames.length=0,this._animationStates.length=0},n.prototype._fadeOut=function(t,e,n,i,r){var o=0,a=this._animationStates.length,s=null;switch(i){case 1:for(;o<a;++o)s=this._animationStates[o],s.layer==e&&s.fadeOut(t,r);break;case 2:for(;o<a;++o)s=this._animationStates[o],s.group==n&&s.fadeOut(t,r);break;case 4:for(;o<a;++o)s=this._animationStates[o],s.fadeOut(t,r),0==t?s.returnToPool():s.fadeOut(t,r);0==t&&(this._animationStates.length=0);break;case 3:for(;o<a;++o)s=this._animationStates[o],s.layer==e&&s.group==n&&s.fadeOut(t,r);break;case 0:}},n.prototype._updateFFDTimelineStates=function(){for(var t=0,e=this._animationStates.length;t<e;++t)this._animationStates[t]._updateFFDTimelineStates()},n.prototype._advanceTime=function(t){var e=this;if(e._isPlaying){t<0&&(t=-t);var n=e._animationStates.length;if(1==n){var i=e._animationStates[0];i._fadeState>0&&i._fadeProgress<=0?(i.returnToPool(),e._animationStates.length=0,e._animationStateDirty=!0,e._lastAnimationState=null):i._advanceTime(t,1,0)}else if(n>1)for(var r=e._animationStates[0]._layer,o=1,a=0,s=1,l=0,u=0;l<n;++l){var i=e._animationStates[l];i._fadeState>0&&i._fadeProgress<=0?(u++,i.returnToPool(),e._animationStateDirty=!0,e._lastAnimationState==i&&(l-u>=0?e._lastAnimationState=e._animationStates[l-u]:e._lastAnimationState=null)):(u>0&&(e._animationStates[l-u]=i),r!=i._layer&&(r=i._layer,a>=o?o=0:o-=a,a=0),i._advanceTime(t,o,s),i._weightResult>0&&(a+=i._weightResult,s++)),l==n-1&&u>0&&(e._animationStates.length-=u)}}},n.prototype.reset=function(){for(var t=0,e=this._animationStates.length;t<e;++t)this._animationStates[t].returnToPool();this._isPlaying=!1,this._lastAnimationState=null,this._animationStates.length=0},n.prototype.stop=function(t){if(void 0===t&&(t=null),t){var e=this.getState(t);e&&e.stop()}else this._isPlaying=!1},n.prototype.play=function(t,e){void 0===t&&(t=null),void 0===e&&(e=-1);var n=null;if(t)n=this.fadeIn(t,0,e,0,null,4);else if(this._lastAnimationState)this._isPlaying&&(this._lastAnimationState.isPlaying||this._lastAnimationState.isCompleted)?n=this.fadeIn(this._lastAnimationState.name,0,e,0,null,4):(this._isPlaying=!0,this._lastAnimationState.play());else{var i=this._armature.armatureData.defaultAnimation;i&&(n=this.fadeIn(i.name,0,e,0,null,4))}return n},n.prototype.fadeIn=function(e,i,r,o,a,s,l,u,h,c){void 0===i&&(i=-1),void 0===r&&(r=-1),void 0===o&&(o=0),void 0===a&&(a=null),void 0===s&&(s=3),void 0===l&&(l=!1),void 0===u&&(u=!0),void 0===h&&(h=!0),void 0===c&&(c=!0);var d=this._animations[e];if(!d)return this._time=0,this._duration=0,console.warn("Non-existent animation.","DragonBones: "+this._armature.armatureData.parent.name,"Armature: "+this._armature.name,"Animation: "+e),null;this._isPlaying=!0,this._time!=this._time&&(this._time=0),this._duration!=this._duration&&(this._duration=0),(i!=i||i<0)&&(i=this._lastAnimationState?d.fadeInTime:0),r<0&&(r=d.playTimes),this._fadeOut(i,o,a,s,h);var p=this._duration>0?0:this._time,f=this._duration>0?this._time:d.position,_=this._duration>0?this._duration:d.duration;this._lastAnimationState=t.BaseObject.borrowObject(t.AnimationState),this._lastAnimationState._layer=o,
this._lastAnimationState._group=a,this._lastAnimationState.additiveBlending=l,this._lastAnimationState.displayControl=u,this._lastAnimationState._fadeIn(this._armature,d.animation||d,e,r,f,_,p,1/d.scale,i,c),this._animationStates.push(this._lastAnimationState),this._animationStateDirty=!0,this._time=0,this._duration=0,this._armature._cacheFrameIndex=-1,this._animationStates.length>1&&this._animationStates.sort(n._sortAnimationState);for(var m=this._armature.getSlots(),y=0,v=m.length;y<v;++y){var g=m[y];if(g.inheritAnimation){var T=g.childArmature;T&&T.animation.hasAnimation(e)&&!T.animation.getState(e)&&T.animation.fadeIn(e)}}return i<=0&&this._armature.advanceTime(0),this._lastAnimationState},n.prototype.gotoAndPlayByTime=function(t,e,n,i){void 0===e&&(e=0),void 0===n&&(n=-1),void 0===i&&(i=0);var r=this._animations[t];return r&&(this._time=e,this._duration=i-e,this._duration<0?this._duration=0:this._duration>r.duration-this._time&&(this._duration=r.duration-this._time)),this.fadeIn(t,0,n,0,null,4)},n.prototype.gotoAndPlayByFrame=function(t,e,n,i){void 0===e&&(e=0),void 0===n&&(n=-1),void 0===i&&(i=0);var r=this._animations[t];return r&&(this._time=r.duration*e/r.frameCount,this._duration<0?this._duration=0:this._duration>r.duration-this._time&&(this._duration=r.duration-this._time)),this.fadeIn(t,0,n,0,null,4)},n.prototype.gotoAndPlayByProgress=function(t,e,n,i){void 0===e&&(e=0),void 0===n&&(n=-1),void 0===i&&(i=0);var r=this._animations[t];return r&&(this._time=r.duration*(e>0?e:0),this._duration<0?this._duration=0:this._duration>r.duration-this._time&&(this._duration=r.duration-this._time)),this.fadeIn(t,0,n,0,null,4)},n.prototype.gotoAndStopByTime=function(t,e){void 0===e&&(e=0);var n=this.gotoAndPlayByTime(t,e,1);return n&&n.stop(),n},n.prototype.gotoAndStopByFrame=function(t,e){void 0===e&&(e=0);var n=this.gotoAndPlayByFrame(t,e,1);return n&&n.stop(),n},n.prototype.gotoAndStopByProgress=function(t,e){void 0===e&&(e=0);var n=this.gotoAndPlayByProgress(t,e,1);return n&&n.stop(),n},n.prototype.getState=function(t){for(var e=0,n=this._animationStates.length;e<n;++e){var i=this._animationStates[e];if(i.name==t)return i}return null},n.prototype.hasAnimation=function(t){return null!=this._animations[t]},Object.defineProperty(n.prototype,"isPlaying",{get:function(){return this._animationStates.length>1?this._isPlaying&&!this.isCompleted:this._lastAnimationState?this._isPlaying&&this._lastAnimationState.isPlaying:this._isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isCompleted",{get:function(){if(this._lastAnimationState){if(!this._lastAnimationState.isCompleted)return!1;for(var t=0,e=this._animationStates.length;t<e;++t)if(!this._animationStates[t].isCompleted)return!1;return!0}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lastAnimationName",{get:function(){return this._lastAnimationState?this._lastAnimationState.name:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lastAnimationState",{get:function(){return this._lastAnimationState},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"animationNames",{get:function(){return this._animationNames},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"animations",{get:function(){return this._animations},set:function(t){if(this._animations!=t){for(var e in this._animations)delete this._animations[e];if(this._animationNames.length=0,t)for(var e in t)this._animations[e]=t[e],this._animationNames.push(e)}},enumerable:!0,configurable:!0}),n.prototype.gotoAndPlay=function(t,e,n,i,r,o,a,s,l){void 0===e&&(e=-1),void 0===n&&(n=-1),void 0===i&&(i=-1),void 0===r&&(r=0),void 0===o&&(o=null),void 0===a&&(a=3),void 0===s&&(s=!0),void 0===l&&(l=!0);var u=this.fadeIn(t,e,i,r,o,a,!1,!0,s,l);return u&&n&&n>0&&(u.timeScale=u.totalTime/n),u},n.prototype.gotoAndStop=function(t,e){return void 0===e&&(e=0),this.gotoAndStopByTime(t,e)},Object.defineProperty(n.prototype,"animationList",{get:function(){return this._animationNames},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"animationDataList",{get:function(){for(var t=[],e=0,n=this._animationNames.length;e<n;++e)t.push(this._animations[this._animationNames[e]]);return t},enumerable:!0,configurable:!0}),n}(t.BaseObject);t.Animation=n}(r||(r={}));var r;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t._boneMask=[],t._boneTimelines=[],t._slotTimelines=[],t._ffdTimelines=[],t.autoTween=!1,t}return i(n,e),n.toString=function(){return"[class dragonBones.AnimationState]"},n.prototype._onClear=function(){for(var t=0,e=this._boneTimelines.length;t<e;++t)this._boneTimelines[t].returnToPool();for(var t=0,e=this._slotTimelines.length;t<e;++t)this._slotTimelines[t].returnToPool();for(var t=0,e=this._ffdTimelines.length;t<e;++t)this._ffdTimelines[t].returnToPool();this._timeline&&this._timeline.returnToPool(),this._zOrderTimeline&&this._zOrderTimeline.returnToPool(),this.displayControl=!0,this.additiveBlending=!1,this.actionEnabled=!1,this.playTimes=1,this.timeScale=1,this.weight=1,this.autoFadeOutTime=-1,this.fadeTotalTime=0,this._fadeState=0,this._layer=0,this._position=0,this._duration=0,this._weightResult=0,this._fadeProgress=0,this._group=null,this._timeline=null,this._isPlaying=!0,this._isPausePlayhead=!1,this._fadeTime=0,this._time=0,this._name=null,this._armature=null,this._animationData=null,this._zOrderTimeline=null,this._boneMask.length=0,this._boneTimelines.length=0,this._slotTimelines.length=0,this._ffdTimelines.length=0},n.prototype._updateTimelineStates=function(){var e=this._time;this._animationData.hasAsynchronyTimeline||(e=this._timeline._currentTime);for(var n={},i={},r=0,o=this._boneTimelines.length;r<o;++r){var a=this._boneTimelines[r];n[a.bone.name]=a}for(var s=this._armature.getBones(),r=0,o=s.length;r<o;++r){var l=s[r],u=l.name,h=this._animationData.getBoneTimeline(u);if(h&&this.containsBoneMask(u)){var a=n[u];a?delete n[u]:(a=t.BaseObject.borrowObject(t.BoneTimelineState),a.bone=l,a.fadeIn(this._armature,this,h,e),this._boneTimelines.push(a))}}for(var r in n){var a=n[r];a.bone.invalidUpdate(),this._boneTimelines.splice(this._boneTimelines.indexOf(a),1),a.returnToPool()}for(var r=0,o=this._slotTimelines.length;r<o;++r){var c=this._slotTimelines[r];i[c.slot.name]=c}for(var d=this._armature.getSlots(),r=0,o=d.length;r<o;++r){var p=d[r],f=p.name,_=p.parent.name,m=this._animationData.getSlotTimeline(f);if(m&&this.containsBoneMask(_)&&this._fadeState<=0){var c=i[f];c?delete i[f]:(c=t.BaseObject.borrowObject(t.SlotTimelineState),c.slot=p,c.fadeIn(this._armature,this,m,e),this._slotTimelines.push(c))}}for(var r in i){var c=i[r];this._slotTimelines.splice(this._slotTimelines.indexOf(c),1),c.returnToPool()}this._updateFFDTimelineStates()},n.prototype._advanceFadeTime=function(e){var n=this;e<0&&(e=-e),n._fadeTime+=e;var i=0;if(i=n._fadeTime>=n.fadeTotalTime?n._fadeState>0?0:1:n._fadeTime>0?n._fadeState>0?1-n._fadeTime/n.fadeTotalTime:n._fadeTime/n.fadeTotalTime:n._fadeState>0?1:0,n._fadeProgress!=i){n._fadeProgress=i;var r=n._armature._display;if(n._fadeTime<=e)if(n._fadeState>0){if(r.hasEvent(t.EventObject.FADE_OUT)){var o=t.BaseObject.borrowObject(t.EventObject);o.animationState=this,n._armature._bufferEvent(o,t.EventObject.FADE_OUT)}}else if(r.hasEvent(t.EventObject.FADE_IN)){var a=t.BaseObject.borrowObject(t.EventObject);a.animationState=this,n._armature._bufferEvent(a,t.EventObject.FADE_IN)}if(n._fadeTime>=n.fadeTotalTime)if(n._fadeState>0){if(n._isPausePlayhead=!0,r.hasEvent(t.EventObject.FADE_OUT_COMPLETE)){var s=t.BaseObject.borrowObject(t.EventObject);s.animationState=this,n._armature._bufferEvent(s,t.EventObject.FADE_OUT_COMPLETE)}}else if(n._isPausePlayhead=!1,n._fadeState=0,r.hasEvent(t.EventObject.FADE_IN_COMPLETE)){var l=t.BaseObject.borrowObject(t.EventObject);l.animationState=this,n._armature._bufferEvent(l,t.EventObject.FADE_IN_COMPLETE)}}},n.prototype._isDisabled=function(t){return!(this.displayControl&&(!t.displayController||t.displayController==this._name||t.displayController==this._group))},n.prototype._fadeIn=function(e,i,r,o,a,s,l,u,h,c){this._armature=e,this._animationData=i,this._name=r,this.actionEnabled=n.stateActionEnabled,this.playTimes=o,this.timeScale=u,this.fadeTotalTime=h,this._fadeState=-1,this._position=a,this._duration=s,this._time=l,this._isPausePlayhead=c,this.fadeTotalTime<=0&&(this._fadeProgress=.999999),this._timeline=t.BaseObject.borrowObject(t.AnimationTimelineState),this._timeline.fadeIn(this._armature,this,this._animationData,this._time),this._animationData.zOrderTimeline&&(this._zOrderTimeline=t.BaseObject.borrowObject(t.ZOrderTimelineState),this._zOrderTimeline.fadeIn(this._armature,this,this._animationData.zOrderTimeline,this._time)),this._updateTimelineStates()},n.prototype._updateFFDTimelineStates=function(){var e=this._time;this._animationData.hasAsynchronyTimeline||(e=this._timeline._currentTime);for(var n={},i=0,r=this._ffdTimelines.length;i<r;++i){var o=this._ffdTimelines[i];n[o.slot.name]=o}for(var a=this._armature.getSlots(),i=0,r=a.length;i<r;++i){var s=a[i],l=s.name,u=s.parent.name;if(s._meshData){var h=s.displayIndex,c=h<s._displayDataSet.displays.length?s._displayDataSet.displays[h].mesh:null;if(s._meshData==c){var d=this._animationData.getFFDTimeline(this._armature._skinData.name,l,h);if(d&&this.containsBoneMask(u)){var o=n[l];o&&o._timeline==d?delete n[l]:(o=t.BaseObject.borrowObject(t.FFDTimelineState),o.slot=s,o.fadeIn(this._armature,this,d,e),this._ffdTimelines.push(o))}else{for(var p=0,f=s._ffdVertices.length;p<f;++p)s._ffdVertices[p]=0;s._ffdDirty=!0}}}}for(var i in n){var o=n[i];this._ffdTimelines.splice(this._ffdTimelines.indexOf(o),1),o.returnToPool()}},n.prototype._advanceTime=function(t,e,n){var i=this;if(0!=i._fadeState&&i._advanceFadeTime(t),t*=i.timeScale,0!=t&&i._isPlaying&&!i._isPausePlayhead&&(i._time+=t),i._weightResult=i.weight*i._fadeProgress*e,0!=i._weightResult){var r=i._fadeProgress>=1&&0==n&&i._armature.cacheFrameRate>0,o=i._animationData.cacheTimeToFrameScale,a=!0,s=!0,l=2*o;if(l=r?Math.floor(i._time*l)/l:i._time,i._timeline.update(l),i._animationData.hasAsynchronyTimeline||(l=i._timeline._currentTime),i._zOrderTimeline&&i._zOrderTimeline.update(l),r){var u=Math.floor(i._timeline._currentTime*o);if(i._armature._cacheFrameIndex==u)a=!1,s=!1;else{if(i._armature._cacheFrameIndex=u,i._armature._animation._animationStateDirty){i._armature._animation._animationStateDirty=!1;for(var h=0,c=i._boneTimelines.length;h<c;++h){var d=i._boneTimelines[h];d.bone._cacheFrames=d._timeline.cachedFrames}for(var h=0,c=i._slotTimelines.length;h<c;++h){var p=i._slotTimelines[h];p.slot._cacheFrames=p._timeline.cachedFrames}}i._animationData.cachedFrames[u]?s=!1:i._animationData.cachedFrames[u]=!0}}else i._armature._cacheFrameIndex=-1;if(a){if(s)for(var h=0,c=i._boneTimelines.length;h<c;++h)i._boneTimelines[h].update(l);for(var h=0,c=i._slotTimelines.length;h<c;++h)i._slotTimelines[h].update(l);for(var h=0,c=i._ffdTimelines.length;h<c;++h)i._ffdTimelines[h].update(l)}}i.autoFadeOutTime>=0&&i._fadeProgress>=1&&i._timeline._isCompleted&&i.fadeOut(i.autoFadeOutTime)},n.prototype.play=function(){this._isPlaying=!0},n.prototype.stop=function(){this._isPlaying=!1},n.prototype.fadeOut=function(t,e){if(void 0===e&&(e=!0),(t<0||t!=t)&&(t=0),this._isPausePlayhead=e,this._fadeState>0){if(t>t-this._fadeTime)return}else{this._fadeState=1,(t<=0||this._fadeProgress<=0)&&(this._fadeProgress=1e-6);for(var n=0,i=this._boneTimelines.length;n<i;++n)this._boneTimelines[n].fadeOut();for(var n=0,i=this._slotTimelines.length;n<i;++n)this._slotTimelines[n].fadeOut()}this.displayControl=!1,this.fadeTotalTime=this._fadeProgress>1e-6?t/this._fadeProgress:0,this._fadeTime=this.fadeTotalTime*(1-this._fadeProgress)},n.prototype.containsBoneMask=function(t){return!this._boneMask.length||this._boneMask.indexOf(t)>=0},n.prototype.addBoneMask=function(t,e){void 0===e&&(e=!0);var n=this._armature.getBone(t);if(n){if(this._boneMask.indexOf(t)<0&&this._animationData.getBoneTimeline(t)&&this._boneMask.push(t),e)for(var i=this._armature.getBones(),r=0,o=i.length;r<o;++r){var a=i[r],s=a.name;this._boneMask.indexOf(s)<0&&this._animationData.getBoneTimeline(s)&&n.contains(a)&&this._boneMask.push(s)}this._updateTimelineStates()}},n.prototype.removeBoneMask=function(t,e){void 0===e&&(e=!0);var n=this._boneMask.indexOf(t);if(n>=0&&this._boneMask.splice(n,1),e){var i=this._armature.getBone(t);if(i)for(var r=this._armature.getBones(),o=0,a=r.length;o<a;++o){var s=r[o],l=s.name,u=this._boneMask.indexOf(l);u>=0&&i.contains(s)&&this._boneMask.splice(u,1)}}this._updateTimelineStates()},n.prototype.removeAllBoneMask=function(){this._boneMask.length=0,this._updateTimelineStates()},Object.defineProperty(n.prototype,"layer",{get:function(){return this._layer},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"group",{get:function(){return this._group},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"animationData",{get:function(){return this._animationData},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isCompleted",{get:function(){return this._timeline._isCompleted},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isPlaying",{get:function(){return this._isPlaying&&!this._timeline._isCompleted},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentPlayTimes",{get:function(){return this._timeline._currentPlayTimes},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"totalTime",{get:function(){return this._duration},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentTime",{get:function(){return this._timeline._currentTime},set:function(t){(t<0||t!=t)&&(t=0);var e=this._timeline._currentPlayTimes-(this._timeline._isCompleted?1:0);if(t=t%this._duration+e*this._duration,this._time!=t){this._time=t,this._timeline.setCurrentTime(this._time),this._zOrderTimeline&&(this._zOrderTimeline._isCompleted=!1);for(var n=0,i=this._boneTimelines.length;n<i;++n)this._boneTimelines[n]._isCompleted=!1;for(var n=0,i=this._slotTimelines.length;n<i;++n)this._slotTimelines[n]._isCompleted=!1;for(var n=0,i=this._ffdTimelines.length;n<i;++n)this._ffdTimelines[n]._isCompleted=!1}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clip",{get:function(){return this._animationData},enumerable:!0,configurable:!0}),n.stateActionEnabled=!0,n}(t.BaseObject);t.AnimationState=e}(r||(r={}));var r;!function(t){var e;!function(t){t[t.None=0]="None",t[t.Once=1]="Once",t[t.Always=2]="Always"}(e=t.TweenType||(t.TweenType={}));var n=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype._onClear=function(){this._isCompleted=!1,this._currentPlayTimes=0,this._currentTime=-1,this._timeline=null,this._isReverse=!1,this._hasAsynchronyTimeline=!1,this._frameRate=0,this._keyFrameCount=0,this._frameCount=0,this._position=0,this._duration=0,this._animationDutation=0,this._timeScale=1,this._timeOffset=0,this._currentFrame=null,this._armature=null,this._animationState=null},e.prototype._onUpdateFrame=function(t){},e.prototype._onArriveAtFrame=function(t){},e.prototype._setCurrentTime=function(t){var e=this,n=0;if(1==e._keyFrameCount&&this!=e._animationState._timeline)e._isCompleted=!0,n=1;else if(e._hasAsynchronyTimeline){var i=e._animationState.playTimes,r=i*e._duration;t*=e._timeScale,0!=e._timeOffset&&(t+=e._timeOffset*e._animationDutation),i>0&&(t>=r||t<=-r)?(e._isCompleted=!0,n=i,t=t<0?0:e._duration):(e._isCompleted=!1,t<0?(n=Math.floor(-t/e._duration),t=e._duration- -t%e._duration):(n=Math.floor(t/e._duration),t%=e._duration),i>0&&n>i&&(n=i)),t+=e._position}else e._isCompleted=e._animationState._timeline._isCompleted,n=e._animationState._timeline._currentPlayTimes;return e._currentTime!=t&&(e._isReverse=e._currentTime>t&&e._currentPlayTimes==n,e._currentTime=t,e._currentPlayTimes=n,!0)},e.prototype.fadeIn=function(t,e,n,i){this._armature=t,this._animationState=e,this._timeline=n;var r=this==this._animationState._timeline;this._hasAsynchronyTimeline=r||this._animationState.animationData.hasAsynchronyTimeline,this._frameRate=this._armature.armatureData.frameRate,this._keyFrameCount=this._timeline.frames.length,this._frameCount=this._animationState.animationData.frameCount,this._position=this._animationState._position,this._duration=this._animationState._duration,this._animationDutation=this._animationState.animationData.duration,this._timeScale=r?1:1/this._timeline.scale,this._timeOffset=r?0:this._timeline.offset},e.prototype.fadeOut=function(){},e.prototype.update=function(t){var e=this;if(!e._isCompleted&&e._setCurrentTime(t)){var n=e._keyFrameCount>1?Math.floor(e._currentTime*e._frameRate):0,i=e._timeline.frames[n];e._currentFrame!=i&&(e._currentFrame=i,e._onArriveAtFrame(!0)),e._onUpdateFrame(!0)}},e}(t.BaseObject);t.TimelineState=n;var r=function(e){function n(){return e.call(this)||this}return i(n,e),n._getEasingValue=function(t,e){if(t<=0)return 0;if(t>=1)return 1;var n=1;if(e>2)return t;if(e>1)n=.5*(1-Math.cos(t*Math.PI)),e-=1;else if(e>0)n=1-Math.pow(1-t,2);else if(e>=-1)e*=-1,n=Math.pow(t,2);else{if(!(e>=-2))return t;e*=-1,n=Math.acos(1-2*t)/Math.PI,e-=1}return(n-t)*e+t},n._getCurveValue=function(t,e){if(t<=0)return 0;if(t>=1)return 1;for(var n=0,i=0,r=0,o=e.length;r<o;r+=2)if(n=e[r],i=e[r+1],n>=t){if(0==r)return i*t/n;var a=e[r-2],s=e[r-1];return s+(i-s)*(t-a)/(n-a)}return i+(1-i)*(t-n)/(1-n)},n.prototype._onClear=function(){e.prototype._onClear.call(this),this._tweenProgress=0,this._tweenEasing=t.DragonBones.NO_TWEEN,this._curve=null},n.prototype._onArriveAtFrame=function(e){var n=this;n._tweenEasing=n._currentFrame.tweenEasing,n._curve=n._currentFrame.curve,(n._keyFrameCount<=1||n._currentFrame.next==n._timeline.frames[0]&&(n._tweenEasing!=t.DragonBones.NO_TWEEN||n._curve)&&n._animationState.playTimes>0&&n._animationState.currentPlayTimes==n._animationState.playTimes-1)&&(n._tweenEasing=t.DragonBones.NO_TWEEN,n._curve=null)},n.prototype._onUpdateFrame=function(e){var i=this;i._tweenEasing!=t.DragonBones.NO_TWEEN?(i._tweenProgress=(i._currentTime-i._currentFrame.position+i._position)/i._currentFrame.duration,0!=i._tweenEasing&&(i._tweenProgress=n._getEasingValue(i._tweenProgress,i._tweenEasing))):i._curve?(i._tweenProgress=(i._currentTime-i._currentFrame.position+i._position)/i._currentFrame.duration,i._tweenProgress=n._getCurveValue(i._tweenProgress,i._curve)):i._tweenProgress=0},n.prototype._updateExtensionKeyFrame=function(t,e,n){var i=0;if(t.type==e.type)for(var r=0,o=t.tweens.length;r<o;++r){var a=e.tweens[r]-t.tweens[r];n.tweens[r]=a,a>0&&(i=2)}if(0==i){n.type!=t.type&&(i=1,n.type=t.type),n.tweens.length!=t.tweens.length&&(i=1,n.tweens.length=t.tweens.length),n.keys.length!=t.keys.length&&(i=1,n.keys.length=t.keys.length);for(var r=0,o=t.keys.length;r<o;++r){var s=t.keys[r];n.keys[r]!=s&&(i=1,n.keys[r]=s)}}return i},n}(n);t.TweenTimelineState=r}(r||(r={}));var r;!function(t){var e=function(e){function n(){return e.call(this)||this}return i(n,e),n.toString=function(){return"[class dragonBones.AnimationTimelineState]"},n.prototype._onClear=function(){e.prototype._onClear.call(this),this._isStarted=!1},n.prototype._onCrossFrame=function(e){var n=this;if(n._animationState.actionEnabled)for(var i=e.actions,r=0,o=i.length;r<o;++r)n._armature._bufferAction(i[r]);for(var a=n._armature._display,s=e.events,r=0,o=s.length;r<o;++r){var l=s[r],u="";switch(l.type){case 10:u=t.EventObject.FRAME_EVENT;break;case 11:u=t.EventObject.SOUND_EVENT}if((11==l.type?n._armature._eventManager:a).hasEvent(u)){var h=t.BaseObject.borrowObject(t.EventObject);h.animationState=n._animationState,h.frame=e,l.bone&&(h.bone=n._armature.getBone(l.bone.name)),l.slot&&(h.slot=n._armature.getSlot(l.slot.name)),h.name=l.name,h.data=l.data,n._armature._bufferEvent(h,u)}}},n.prototype.fadeIn=function(t,n,i,r){e.prototype.fadeIn.call(this,t,n,i,r),this._currentTime=r},n.prototype.update=function(e){var n=this,i=n._currentTime,r=n._currentPlayTimes;if(!n._isCompleted&&n._setCurrentTime(e)){var o=n._armature._display;if(!n._isStarted&&(n._isStarted=!0,o.hasEvent(t.EventObject.START))){var a=t.BaseObject.borrowObject(t.EventObject);a.animationState=n._animationState,n._armature._bufferEvent(a,t.EventObject.START)}if(n._keyFrameCount>0){var s=n._keyFrameCount>1?Math.floor(n._currentTime*n._frameRate):0,l=n._timeline.frames[s];if(n._currentFrame!=l)if(n._keyFrameCount>1){var u=n._currentFrame;if(n._currentFrame=l,!u){var h=Math.floor(i*n._frameRate);u=n._timeline.frames[h],n._isReverse||(i<=u.position||r!=n._currentPlayTimes)&&(u=u.prev)}if(n._isReverse)for(;u!=l;)n._onCrossFrame(u),u=u.prev;else for(;u!=l;)u=u.next,n._onCrossFrame(u)}else n._currentFrame=l,n._onCrossFrame(n._currentFrame)}if(r!=n._currentPlayTimes){if(o.hasEvent(t.EventObject.LOOP_COMPLETE)){var a=t.BaseObject.borrowObject(t.EventObject);a.animationState=n._animationState,n._armature._bufferEvent(a,t.EventObject.LOOP_COMPLETE)}if(n._isCompleted&&o.hasEvent(t.EventObject.COMPLETE)){var a=t.BaseObject.borrowObject(t.EventObject);a.animationState=n._animationState,n._armature._bufferEvent(a,t.EventObject.COMPLETE)}n._currentFrame=null}}},n.prototype.setCurrentTime=function(t){this._setCurrentTime(t),this._currentFrame=null},n}(t.TimelineState);t.AnimationTimelineState=e;var n=function(t){function e(){return t.call(this)||this}return i(e,t),e.toString=function(){return"[class dragonBones.ZOrderTimelineState]"},e.prototype._onArriveAtFrame=function(e){var n=this;t.prototype._onArriveAtFrame.call(this,e),n._armature._sortZOrder(n._currentFrame.zOrder)},e}(t.TimelineState);t.ZOrderTimelineState=n;var r=function(e){function n(){var n=e.call(this)||this;return n._transform=new t.Transform,n._currentTransform=new t.Transform,n._durationTransform=new t.Transform,n}return i(n,e),n.toString=function(){return"[class dragonBones.BoneTimelineState]"},n.prototype._onClear=function(){e.prototype._onClear.call(this),this.bone=null,this._tweenTransform=0,this._tweenRotate=0,this._tweenScale=0,this._boneTransform=null,this._originalTransform=null,this._guideCurve=null,this._transform.identity(),this._currentTransform.identity(),this._durationTransform.identity()},n.prototype._onArriveAtFrame=function(n){var i=this;if(e.prototype._onArriveAtFrame.call(this,n),i._currentTransform.copyFrom(i._currentFrame.transform),i._tweenTransform=1,i._tweenRotate=1,i._tweenScale=1,i._guideCurve=i._currentFrame.guideCurve,i._keyFrameCount>1&&(i._tweenEasing!=t.DragonBones.NO_TWEEN||i._curve)){var r=i._currentFrame.next,o=r.transform;i._durationTransform.x=o.x-i._currentTransform.x,i._durationTransform.y=o.y-i._currentTransform.y,0==i._durationTransform.x&&0==i._durationTransform.y||(i._tweenTransform=2);var a=i._currentFrame.tweenRotate;if(a==a){if(a)if(a>0?o.skewY>=i._currentTransform.skewY:o.skewY<=i._currentTransform.skewY){var s=a>0?a-1:a+1;i._durationTransform.skewX=o.skewX-i._currentTransform.skewX+t.DragonBones.PI_D*s,i._durationTransform.skewY=o.skewY-i._currentTransform.skewY+t.DragonBones.PI_D*s}else i._durationTransform.skewX=o.skewX-i._currentTransform.skewX+t.DragonBones.PI_D*a,i._durationTransform.skewY=o.skewY-i._currentTransform.skewY+t.DragonBones.PI_D*a;else i._durationTransform.skewX=t.Transform.normalizeRadian(o.skewX-i._currentTransform.skewX),i._durationTransform.skewY=t.Transform.normalizeRadian(o.skewY-i._currentTransform.skewY);0==i._durationTransform.skewX&&0==i._durationTransform.skewY||(i._tweenRotate=2)}else i._durationTransform.skewX=0,i._durationTransform.skewY=0;i._currentFrame.tweenScale?(i._durationTransform.scaleX=o.scaleX-i._currentTransform.scaleX,i._durationTransform.scaleY=o.scaleY-i._currentTransform.scaleY,0==i._durationTransform.scaleX&&0==i._durationTransform.scaleY||(i._tweenScale=2)):(i._durationTransform.scaleX=0,i._durationTransform.scaleY=0)}else i._durationTransform.x=0,i._durationTransform.y=0,i._durationTransform.skewX=0,i._durationTransform.skewY=0,i._durationTransform.scaleX=0,i._durationTransform.scaleY=0},n.prototype._onUpdateFrame=function(t){var n=this;if(n._tweenTransform||n._tweenRotate||n._tweenScale){e.prototype._onUpdateFrame.call(this,t);var i=0;n._tweenTransform&&(1==n._tweenTransform?(n._tweenTransform=0,i=0):i=n._tweenProgress,n._guideCurve,n._animationState.additiveBlending?(n._transform.x=n._currentTransform.x+n._durationTransform.x*i,n._transform.y=n._currentTransform.y+n._durationTransform.y*i):(n._transform.x=n._originalTransform.x+n._currentTransform.x+n._durationTransform.x*i,n._transform.y=n._originalTransform.y+n._currentTransform.y+n._durationTransform.y*i)),n._tweenRotate&&(1==n._tweenRotate?(n._tweenRotate=0,i=0):i=n._tweenProgress,n._animationState.additiveBlending?(n._transform.skewX=n._currentTransform.skewX+n._durationTransform.skewX*i,n._transform.skewY=n._currentTransform.skewY+n._durationTransform.skewY*i):(n._transform.skewX=n._originalTransform.skewX+n._currentTransform.skewX+n._durationTransform.skewX*i,n._transform.skewY=n._originalTransform.skewY+n._currentTransform.skewY+n._durationTransform.skewY*i)),n._tweenScale&&(1==n._tweenScale?(n._tweenScale=0,i=0):i=n._tweenProgress,n._animationState.additiveBlending?(n._transform.scaleX=n._currentTransform.scaleX+n._durationTransform.scaleX*i,n._transform.scaleY=n._currentTransform.scaleY+n._durationTransform.scaleY*i):(n._transform.scaleX=n._originalTransform.scaleX*(n._currentTransform.scaleX+n._durationTransform.scaleX*i),n._transform.scaleY=n._originalTransform.scaleY*(n._currentTransform.scaleY+n._durationTransform.scaleY*i))),n.bone.invalidUpdate()}},n.prototype.fadeIn=function(t,n,i,r){e.prototype.fadeIn.call(this,t,n,i,r),this._originalTransform=this._timeline.originalTransform,this._boneTransform=this.bone._animationPose},n.prototype.fadeOut=function(){this._transform.skewX=t.Transform.normalizeRadian(this._transform.skewX),this._transform.skewY=t.Transform.normalizeRadian(this._transform.skewY)},n.prototype.update=function(t){var n=this;e.prototype.update.call(this,t);var i=n._animationState._weightResult;i>0&&(0==n.bone._blendIndex?(n._boneTransform.x=n._transform.x*i,n._boneTransform.y=n._transform.y*i,n._boneTransform.skewX=n._transform.skewX*i,n._boneTransform.skewY=n._transform.skewY*i,n._boneTransform.scaleX=(n._transform.scaleX-1)*i+1,n._boneTransform.scaleY=(n._transform.scaleY-1)*i+1):(n._boneTransform.x+=n._transform.x*i,n._boneTransform.y+=n._transform.y*i,n._boneTransform.skewX+=n._transform.skewX*i,n._boneTransform.skewY+=n._transform.skewY*i,n._boneTransform.scaleX+=(n._transform.scaleX-1)*i,n._boneTransform.scaleY+=(n._transform.scaleY-1)*i),n.bone._blendIndex++,0!=n._animationState._fadeState&&n.bone.invalidUpdate())},n}(t.TweenTimelineState);t.BoneTimelineState=r;var o=function(e){function n(){var n=e.call(this)||this;return n._color=new t.ColorTransform,n._durationColor=new t.ColorTransform,n}return i(n,e),n.toString=function(){return"[class dragonBones.SlotTimelineState]"},n.prototype._onClear=function(){e.prototype._onClear.call(this),this.slot=null,this._colorDirty=!1,this._tweenColor=0,this._slotColor=null,this._color.identity(),this._durationColor.identity()},n.prototype._onArriveAtFrame=function(n){var i=this;if(e.prototype._onArriveAtFrame.call(this,n),i._animationState._isDisabled(i.slot))return i._tweenEasing=t.DragonBones.NO_TWEEN,i._curve=null,void(i._tweenColor=0);if(i.slot._displayDataSet){var r=i._currentFrame.displayIndex;i.slot.displayIndex>=0&&r>=0?i.slot._displayDataSet.displays.length>1&&i.slot._setDisplayIndex(r):i.slot._setDisplayIndex(r),i.slot._updateMeshData(!0)}if(i._currentFrame.displayIndex>=0){i._tweenColor=0;var o=i._currentFrame.color;if(i._keyFrameCount>1&&(i._tweenEasing!=t.DragonBones.NO_TWEEN||i._curve)){var a=i._currentFrame.next,s=a.color;o!=s&&a.displayIndex>=0&&(i._durationColor.alphaMultiplier=s.alphaMultiplier-o.alphaMultiplier,i._durationColor.redMultiplier=s.redMultiplier-o.redMultiplier,i._durationColor.greenMultiplier=s.greenMultiplier-o.greenMultiplier,i._durationColor.blueMultiplier=s.blueMultiplier-o.blueMultiplier,i._durationColor.alphaOffset=s.alphaOffset-o.alphaOffset,i._durationColor.redOffset=s.redOffset-o.redOffset,i._durationColor.greenOffset=s.greenOffset-o.greenOffset,i._durationColor.blueOffset=s.blueOffset-o.blueOffset,0==i._durationColor.alphaMultiplier&&0==i._durationColor.redMultiplier&&0==i._durationColor.greenMultiplier&&0==i._durationColor.blueMultiplier&&0==i._durationColor.alphaOffset&&0==i._durationColor.redOffset&&0==i._durationColor.greenOffset&&0==i._durationColor.blueOffset||(i._tweenColor=2))}0==i._tweenColor&&(i._slotColor.alphaMultiplier==o.alphaMultiplier&&i._slotColor.redMultiplier==o.redMultiplier&&i._slotColor.greenMultiplier==o.greenMultiplier&&i._slotColor.blueMultiplier==o.blueMultiplier&&i._slotColor.alphaOffset==o.alphaOffset&&i._slotColor.redOffset==o.redOffset&&i._slotColor.greenOffset==o.greenOffset&&i._slotColor.blueOffset==o.blueOffset||(i._tweenColor=1))}else i._tweenEasing=t.DragonBones.NO_TWEEN,i._curve=null,i._tweenColor=0},n.prototype._onUpdateFrame=function(t){var n=this;e.prototype._onUpdateFrame.call(this,t);var i=0;if(n._tweenColor){1==n._tweenColor?(n._tweenColor=0,i=0):i=n._tweenProgress;var r=n._currentFrame.color;n._color.alphaMultiplier=r.alphaMultiplier+n._durationColor.alphaMultiplier*i,n._color.redMultiplier=r.redMultiplier+n._durationColor.redMultiplier*i,n._color.greenMultiplier=r.greenMultiplier+n._durationColor.greenMultiplier*i,n._color.blueMultiplier=r.blueMultiplier+n._durationColor.blueMultiplier*i,n._color.alphaOffset=r.alphaOffset+n._durationColor.alphaOffset*i,n._color.redOffset=r.redOffset+n._durationColor.redOffset*i,n._color.greenOffset=r.greenOffset+n._durationColor.greenOffset*i,n._color.blueOffset=r.blueOffset+n._durationColor.blueOffset*i,n._colorDirty=!0}},n.prototype.fadeIn=function(t,n,i,r){e.prototype.fadeIn.call(this,t,n,i,r),this._slotColor=this.slot._colorTransform},n.prototype.fadeOut=function(){this._tweenColor=0},n.prototype.update=function(t){var n=this;if(e.prototype.update.call(this,t),0!=n._tweenColor||n._colorDirty){var i=n._animationState._weightResult;if(i>0)if(0!=n._animationState._fadeState){var r=n._animationState._fadeProgress;n._slotColor.alphaMultiplier+=(n._color.alphaMultiplier-n._slotColor.alphaMultiplier)*r,n._slotColor.redMultiplier+=(n._color.redMultiplier-n._slotColor.redMultiplier)*r,n._slotColor.greenMultiplier+=(n._color.greenMultiplier-n._slotColor.greenMultiplier)*r,n._slotColor.blueMultiplier+=(n._color.blueMultiplier-n._slotColor.blueMultiplier)*r,n._slotColor.alphaOffset+=(n._color.alphaOffset-n._slotColor.alphaOffset)*r,n._slotColor.redOffset+=(n._color.redOffset-n._slotColor.redOffset)*r,n._slotColor.greenOffset+=(n._color.greenOffset-n._slotColor.greenOffset)*r,n._slotColor.blueOffset+=(n._color.blueOffset-n._slotColor.blueOffset)*r,n.slot._colorDirty=!0}else n._colorDirty&&(n._colorDirty=!1,n._slotColor.alphaMultiplier=n._color.alphaMultiplier,n._slotColor.redMultiplier=n._color.redMultiplier,n._slotColor.greenMultiplier=n._color.greenMultiplier,n._slotColor.blueMultiplier=n._color.blueMultiplier,n._slotColor.alphaOffset=n._color.alphaOffset,n._slotColor.redOffset=n._color.redOffset,n._slotColor.greenOffset=n._color.greenOffset,n._slotColor.blueOffset=n._color.blueOffset,n.slot._colorDirty=!0)}},n}(t.TweenTimelineState);t.SlotTimelineState=o;var a=function(e){function n(){var t=e.call(this)||this;return t._ffdVertices=[],t}return i(n,e),n.toString=function(){return"[class dragonBones.FFDTimelineState]"},n.prototype._onClear=function(){e.prototype._onClear.call(this),this.slot=null,this._tweenFFD=0,this._slotFFDVertices=null,this._durationFFDFrame&&(this._durationFFDFrame.returnToPool(),this._durationFFDFrame=null),this._ffdVertices.length=0},n.prototype._onArriveAtFrame=function(n){var i=this;if(e.prototype._onArriveAtFrame.call(this,n),
i._tweenFFD=0,(i._tweenEasing!=t.DragonBones.NO_TWEEN||i._curve)&&(i._tweenFFD=i._updateExtensionKeyFrame(i._currentFrame,i._currentFrame.next,i._durationFFDFrame)),0==i._tweenFFD)for(var r=i._currentFrame.tweens,o=0,a=r.length;o<a;++o)if(i._slotFFDVertices[o]!=r[o]){i._tweenFFD=1;break}},n.prototype._onUpdateFrame=function(t){var n=this;e.prototype._onUpdateFrame.call(this,t);var i=0;if(0!=n._tweenFFD){1==n._tweenFFD?(n._tweenFFD=0,i=0):i=n._tweenProgress;for(var r=n._currentFrame.tweens,o=n._durationFFDFrame.tweens,a=0,s=r.length;a<s;++a)n._ffdVertices[a]=r[a]+o[a]*i;n.slot._ffdDirty=!0}},n.prototype.fadeIn=function(n,i,r,o){e.prototype.fadeIn.call(this,n,i,r,o),this._slotFFDVertices=this.slot._ffdVertices,this._durationFFDFrame=t.BaseObject.borrowObject(t.ExtensionFrameData),this._durationFFDFrame.tweens.length=this._slotFFDVertices.length,this._ffdVertices.length=this._slotFFDVertices.length;for(var a=0,s=this._durationFFDFrame.tweens.length;a<s;++a)this._durationFFDFrame.tweens[a]=0;for(var a=0,s=this._ffdVertices.length;a<s;++a)this._ffdVertices[a]=0},n.prototype.update=function(t){var n=this;e.prototype.update.call(this,t);var i=n._animationState._weightResult;if(i>0){if(0==n.slot._blendIndex)for(var r=0,o=n._ffdVertices.length;r<o;++r)n._slotFFDVertices[r]=n._ffdVertices[r]*i;else for(var r=0,o=n._ffdVertices.length;r<o;++r)n._slotFFDVertices[r]+=n._ffdVertices[r]*i;n.slot._blendIndex++,0!=n._animationState._fadeState&&(n.slot._ffdDirty=!0)}},n}(t.TweenTimelineState);t.FFDTimelineState=a}(r||(r={}));var r;!function(t){var e=function(){function e(){this.time=(new Date).getTime()/t.DragonBones.SECOND_TO_MILLISECOND,this.timeScale=1,this._animatebles=[]}return Object.defineProperty(e,"clock",{get:function(){return e._clock||(e._clock=new e),e._clock},enumerable:!0,configurable:!0}),e.prototype.advanceTime=function(e){if(e!=e&&(e=0),e<0&&(e=(new Date).getTime()/t.DragonBones.SECOND_TO_MILLISECOND-this.time),e*=this.timeScale,e<0?this.time-=e:this.time+=e,e){for(var n=0,i=0,r=this._animatebles.length;n<r;++n){var o=this._animatebles[n];o?(i>0&&(this._animatebles[n-i]=o,this._animatebles[n]=null),o.advanceTime(e)):i++}if(i>0){for(r=this._animatebles.length;n<r;++n){var o=this._animatebles[n];o?this._animatebles[n-i]=o:i++}this._animatebles.length-=i}}},e.prototype.contains=function(t){return this._animatebles.indexOf(t)>=0},e.prototype.add=function(e){e&&this._animatebles.indexOf(e)<0&&(this._animatebles.push(e),t.DragonBones.debug&&e instanceof t.Armature&&t.DragonBones.addArmature(e))},e.prototype.remove=function(e){var n=this._animatebles.indexOf(e);n>=0&&(this._animatebles[n]=null,t.DragonBones.debug&&e instanceof t.Armature&&t.DragonBones.removeArmature(e))},e.prototype.clear=function(){for(var t=0,e=this._animatebles.length;t<e;++t)this._animatebles[t]=null},e._clock=null,e}();t.WorldClock=e}(r||(r={}));var r;!function(t){var e=function(){function e(n){void 0===n&&(n=null),this.autoSearch=!1,this._dataParser=null,this._dragonBonesDataMap={},this._textureAtlasDataMap={},this._dataParser=n,this._dataParser||(e._defaultParser||(e._defaultParser=new t.ObjectDataParser),this._dataParser=e._defaultParser)}return e.prototype._getTextureData=function(t,e){var n=this._textureAtlasDataMap[t];if(n)for(var i=0,r=n.length;i<r;++i){var o=n[i].getTexture(e);if(o)return o}if(this.autoSearch)for(var i in this._textureAtlasDataMap){n=this._textureAtlasDataMap[i];for(var a=0,s=n.length;a<s;++a){var l=n[a];if(l.autoSearch){var o=l.getTexture(e);if(o)return o}}}return null},e.prototype._fillBuildArmaturePackage=function(t,e,n,i,r){var o=null,a=null;if(e&&(o=this._dragonBonesDataMap[e],o&&(a=o.getArmature(n))),!a&&(!e||this.autoSearch))for(var s in this._dragonBonesDataMap)if(o=this._dragonBonesDataMap[s],(!e||o.autoSearch)&&(a=o.getArmature(n))){e=s;break}return!!a&&(t.dataName=e,t.textureAtlasName=r,t.data=o,t.armature=a,t.skin=a.getSkin(i),t.skin||(t.skin=a.defaultSkin),!0)},e.prototype._buildBones=function(e,n){for(var i=e.armature.sortedBones,r=0,o=i.length;r<o;++r){var a=i[r],s=t.BaseObject.borrowObject(t.Bone);s.name=a.name,s.inheritTranslation=a.inheritTranslation,s.inheritRotation=a.inheritRotation,s.inheritScale=a.inheritScale,s.length=a.length,s.origin.copyFrom(a.transform),a.parent?n.addBone(s,a.parent.name):n.addBone(s),a.ik&&(s.ikBendPositive=a.bendPositive,s.ikWeight=a.weight,s._setIK(n.getBone(a.ik.name),a.chain,a.chainIndex))}},e.prototype._buildSlots=function(t,e){var n=t.skin,i=t.armature.defaultSkin,r={};for(var o in i.slots){var a=i.slots[o];r[a.slot.name]=a}if(n!=i)for(var o in n.slots){var a=n.slots[o];r[a.slot.name]=a}for(var s=t.armature.sortedSlots,o=0,l=s.length;o<l;++o){var u=s[o],a=r[u.name];if(a){var h=this._generateSlot(t,a,e);h&&(h._displayDataSet=a,h._setDisplayIndex(u.displayIndex),h._setBlendMode(u.blendMode),h._setColor(u.color),e.addSlot(h,u.parent.name))}}},e.prototype._replaceSlotDisplay=function(t,e,n,i){if(i<0&&(i=n.displayIndex),i>=0){var r=n.displayList;if(r.length<=i&&(r.length=i+1),n._replacedDisplayDataSet.length<=i&&(n._replacedDisplayDataSet.length=i+1),n._replacedDisplayDataSet[i]=e,1==e.type){var o=this.buildArmature(e.name,t.dataName,null,t.textureAtlasName);r[i]=o}else e.texture&&!t.textureAtlasName||(e.texture=this._getTextureData(t.textureAtlasName||t.dataName,e.name)),e.mesh||i<n._displayDataSet.displays.length&&n._displayDataSet.displays[i].mesh?r[i]=n.MeshDisplay:r[i]=n.rawDisplay;n.displayList=r,n.invalidUpdate()}},e.prototype.parseDragonBonesData=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=1);var i=this._dataParser.parseDragonBonesData(t,n);return this.addDragonBonesData(i,e),i},e.prototype.parseTextureAtlasData=function(t,e,n,i){void 0===n&&(n=null),void 0===i&&(i=0);var r=this._generateTextureAtlasData(null,null);return this._dataParser.parseTextureAtlasData(t,r,i),this._generateTextureAtlasData(r,e),this.addTextureAtlasData(r,n),r},e.prototype.getDragonBonesData=function(t){return this._dragonBonesDataMap[t]},e.prototype.addDragonBonesData=function(t,e){if(void 0===e&&(e=null),!t)throw new Error;e=e||t.name,e?this._dragonBonesDataMap[e]?console.warn("Same name data.",e):this._dragonBonesDataMap[e]=t:console.warn("Unnamed data.")},e.prototype.removeDragonBonesData=function(e,n){void 0===n&&(n=!0);var i=this._dragonBonesDataMap[e];if(i){if(n){if(t.DragonBones.debug)for(var r=0,o=t.DragonBones._armatures.length;r<o;++r){var a=t.DragonBones._armatures[r];if(a.armatureData.parent==i)throw new Error("ArmatureData: "+a.armatureData.name+" DragonBonesData: "+e)}i.returnToPool()}delete this._dragonBonesDataMap[e]}},e.prototype.getTextureAtlasData=function(t){return this._textureAtlasDataMap[t]},e.prototype.addTextureAtlasData=function(t,e){if(void 0===e&&(e=null),!t)throw new Error;if(e=e||t.name){var n=this._textureAtlasDataMap[e]=this._textureAtlasDataMap[e]||[];n.indexOf(t)<0&&n.push(t)}else console.warn("Unnamed data.")},e.prototype.removeTextureAtlasData=function(t,e){void 0===e&&(e=!0);var n=this._textureAtlasDataMap[t];if(n){if(e)for(var i=0,r=n.length;i<r;++i)n[i].returnToPool();delete this._textureAtlasDataMap[t]}},e.prototype.clear=function(t){void 0===t&&(t=!0);for(var e in this._dragonBonesDataMap)t&&this._dragonBonesDataMap[e].returnToPool(),delete this._dragonBonesDataMap[e];for(var e in this._textureAtlasDataMap){if(t)for(var n=this._textureAtlasDataMap[e],i=0,r=n.length;i<r;++i)n[i].returnToPool();delete this._textureAtlasDataMap[e]}},e.prototype.buildArmature=function(t,e,n,i){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null);var r={};if(this._fillBuildArmaturePackage(r,e,t,n,i)){var o=this._generateArmature(r);return this._buildBones(r,o),this._buildSlots(r,o),o.advanceTime(0),o}return console.warn("No armature data.",t,e||""),null},e.prototype.copyAnimationsToArmature=function(e,n,i,r,o){void 0===i&&(i=null),void 0===r&&(r=null),void 0===o&&(o=!0);var a={};if(this._fillBuildArmaturePackage(a,r,n,i,null)){var s=a.armature;if(o)e.animation.animations=s.animations;else{var l={};for(var u in e.animation.animations)l[u]=e.animation.animations[u];for(var u in s.animations)l[u]=s.animations[u];e.animation.animations=l}if(a.skin){for(var h=e.getSlots(),c=0,d=h.length;c<d;++c)for(var p=h[c],f=p.displayList,_=0,m=f.length;_<m;++_){var y=f[_];if(y instanceof t.Armature){var v=a.skin.getSlot(p.name).displays;if(_<v.length){var g=v[_];1==g.type&&this.copyAnimationsToArmature(y,g.name,i,r,o)}}}return!0}}return!1},e.prototype.replaceSlotDisplay=function(t,e,n,i,r,o){void 0===o&&(o=-1);var a={};if(this._fillBuildArmaturePackage(a,t,e,null,null)){var s=a.skin.getSlot(n);if(s)for(var l=0,u=s.displays.length;l<u;++l){var h=s.displays[l];if(h.name==i){this._replaceSlotDisplay(a,h,r,o);break}}}},e.prototype.replaceSlotDisplayList=function(t,e,n,i){var r={};if(this._fillBuildArmaturePackage(r,t,e,null,null)){var o=r.skin.getSlot(n);if(o)for(var a=0,s=0,l=o.displays.length;s<l;++s){var u=o.displays[s];this._replaceSlotDisplay(r,u,i,a++)}}},e.prototype.getAllDragonBonesData=function(){return this._dragonBonesDataMap},e.prototype.getAllTextureAtlasData=function(){return this._textureAtlasDataMap},e._defaultParser=null,e}();t.BaseFactory=e}(r||(r={}));var r;!function(t){var e=function(){function e(){this._data=null,this._armature=null,this._skin=null,this._slotDisplayDataSet=null,this._mesh=null,this._animation=null,this._timeline=null,this._isOldData=!1,this._isGlobalTransform=!1,this._isAutoTween=!1,this._animationTweenEasing=0,this._timelinePivot=new t.Point,this._helpPoint=new t.Point,this._helpTransformA=new t.Transform,this._helpTransformB=new t.Transform,this._helpMatrix=new t.Matrix,this._rawBones=[]}return e._getArmatureType=function(t){switch(t.toLowerCase()){case"stage":return 2;case"armature":return 0;case"movieclip":return 1;default:return 0}},e._getDisplayType=function(t){switch(t.toLowerCase()){case"image":return 0;case"armature":return 1;case"mesh":return 2;default:return 0}},e._getBlendMode=function(t){switch(t.toLowerCase()){case"normal":return 0;case"add":return 1;case"alpha":return 2;case"darken":return 3;case"difference":return 4;case"erase":return 5;case"hardlight":return 6;case"invert":return 7;case"layer":return 8;case"lighten":return 9;case"multiply":return 10;case"overlay":return 11;case"screen":return 12;case"subtract":return 13;default:return 0}},e._getActionType=function(t){switch(t.toLowerCase()){case"play":return 0;case"stop":return 1;case"gotoandplay":return 2;case"gotoandstop":return 3;case"fadein":return 4;case"fadeout":return 5;default:return 4}},e.prototype._getTimelineFrameMatrix=function(e,n,i,r){var o=Math.floor(i*e.frameCount/e.duration);if(1==n.frames.length||o>=n.frames.length)r.copyFrom(n.frames[0].transform);else{var a=n.frames[o],s=0;a.tweenEasing!=t.DragonBones.NO_TWEEN?(s=(i-a.position)/a.duration,0!=a.tweenEasing&&(s=t.TweenTimelineState._getEasingValue(s,a.tweenEasing))):a.curve&&(s=(i-a.position)/a.duration,s=t.TweenTimelineState._getCurveValue(s,a.curve));var l=a.next;r.x=l.transform.x-a.transform.x,r.y=l.transform.y-a.transform.y,r.skewX=t.Transform.normalizeRadian(l.transform.skewX-a.transform.skewX),r.skewY=t.Transform.normalizeRadian(l.transform.skewY-a.transform.skewY),r.scaleX=l.transform.scaleX-a.transform.scaleX,r.scaleY=l.transform.scaleY-a.transform.scaleY,r.x=a.transform.x+r.x*s,r.y=a.transform.y+r.y*s,r.skewX=a.transform.skewX+r.skewX*s,r.skewY=a.transform.skewY+r.skewY*s,r.scaleX=a.transform.scaleX+r.scaleX*s,r.scaleY=a.transform.scaleY+r.scaleY*s}r.add(n.originalTransform)},e.prototype._globalToLocal=function(t){for(var e=new Array,n=t.sortedBones.concat().reverse(),i=0,r=n.length;i<r;++i){var o=n[i];o.parent&&(o.parent.transform.toMatrix(this._helpMatrix),this._helpMatrix.invert(),this._helpMatrix.transformPoint(o.transform.x,o.transform.y,this._helpPoint),o.transform.x=this._helpPoint.x,o.transform.y=this._helpPoint.y,o.transform.rotation-=o.parent.transform.rotation);for(var a in t.animations){var s=t.animations[a],l=s.getBoneTimeline(o.name);if(l){var u=o.parent?s.getBoneTimeline(o.parent.name):null;this._helpTransformB.copyFrom(l.originalTransform),e.length=0;for(var h=0,c=l.frames.length;h<c;++h){var d=l.frames[h];e.indexOf(d)>=0||(e.push(d),u?(this._getTimelineFrameMatrix(s,u,d.position,this._helpTransformA),d.transform.add(this._helpTransformB),this._helpTransformA.toMatrix(this._helpMatrix),this._helpMatrix.invert(),this._helpMatrix.transformPoint(d.transform.x,d.transform.y,this._helpPoint),d.transform.x=this._helpPoint.x,d.transform.y=this._helpPoint.y,d.transform.rotation-=this._helpTransformA.rotation):d.transform.add(this._helpTransformB),d.transform.minus(o.transform),0==h?(l.originalTransform.copyFrom(d.transform),d.transform.identity()):d.transform.minus(l.originalTransform))}}}}},e.prototype._mergeFrameToAnimationTimeline=function(e,n,i){var r=Math.floor(e*this._armature.frameRate),o=this._animation.frames;if(0==o.length){var a=t.BaseObject.borrowObject(t.AnimationFrameData);if(a.position=0,this._animation.frameCount>1){o.length=this._animation.frameCount+1;var s=t.BaseObject.borrowObject(t.AnimationFrameData);s.position=this._animation.frameCount/this._armature.frameRate,o[0]=a,o[this._animation.frameCount]=s}}var l=null,u=o[r];if(!u||0!=r&&o[r-1]!=u.prev){l=t.BaseObject.borrowObject(t.AnimationFrameData),l.position=r/this._armature.frameRate,o[r]=l;for(var h=r+1,c=o.length;h<c;++h)u&&o[h]==u&&(o[h]=null)}else l=u;if(n)for(var h=0,c=n.length;h<c;++h)l.actions.push(n[h]);if(i)for(var h=0,c=i.length;h<c;++h)l.events.push(i[h]);for(var d=null,p=null,h=0,c=o.length;h<c;++h){var f=o[h];f&&p!=f?(p=f,d&&(p.prev=d,d.next=p,d.duration=p.position-d.position),d=p):o[h]=d}p.duration=this._animation.duration-p.position,p=o[0],d.next=p,p.prev=d},e.parseDragonBonesData=function(e){return t.ObjectDataParser.getInstance().parseDragonBonesData(e)},e.parseTextureAtlasData=function(n,i){void 0===i&&(i=1);for(var r={},o=n[e.SUB_TEXTURE],a=0,s=o.length;a<s;a++){var l=o[a],u=l[e.NAME],h=new t.Rectangle,c=null;h.x=l[e.X]/i,h.y=l[e.Y]/i,h.width=l[e.WIDTH]/i,h.height=l[e.HEIGHT]/i,e.FRAME_WIDTH in l&&(c=new t.Rectangle,c.x=l[e.FRAME_X]/i,c.y=l[e.FRAME_Y]/i,c.width=l[e.FRAME_WIDTH]/i,c.height=l[e.FRAME_HEIGHT]/i),r[u]={region:h,frame:c,rotated:!1}}return r},e.DATA_VERSION_2_3="2.3",e.DATA_VERSION_3_0="3.0",e.DATA_VERSION_4_0="4.0",e.DATA_VERSION="4.5",e.TEXTURE_ATLAS="TextureAtlas",e.SUB_TEXTURE="SubTexture",e.FORMAT="format",e.IMAGE_PATH="imagePath",e.WIDTH="width",e.HEIGHT="height",e.ROTATED="rotated",e.FRAME_X="frameX",e.FRAME_Y="frameY",e.FRAME_WIDTH="frameWidth",e.FRAME_HEIGHT="frameHeight",e.DRADON_BONES="dragonBones",e.ARMATURE="armature",e.BONE="bone",e.IK="ik",e.SLOT="slot",e.SKIN="skin",e.DISPLAY="display",e.ANIMATION="animation",e.Z_ORDER="zOrder",e.FFD="ffd",e.FRAME="frame",e.PIVOT="pivot",e.TRANSFORM="transform",e.AABB="aabb",e.COLOR="color",e.FILTER="filter",e.VERSION="version",e.IS_GLOBAL="isGlobal",e.FRAME_RATE="frameRate",e.TYPE="type",e.NAME="name",e.PARENT="parent",e.LENGTH="length",e.DATA="data",e.DISPLAY_INDEX="displayIndex",e.BLEND_MODE="blendMode",e.INHERIT_TRANSLATION="inheritTranslation",e.INHERIT_ROTATION="inheritRotation",e.INHERIT_SCALE="inheritScale",e.TARGET="target",e.BEND_POSITIVE="bendPositive",e.CHAIN="chain",e.WEIGHT="weight",e.FADE_IN_TIME="fadeInTime",e.PLAY_TIMES="playTimes",e.SCALE="scale",e.OFFSET="offset",e.POSITION="position",e.DURATION="duration",e.TWEEN_EASING="tweenEasing",e.TWEEN_ROTATE="tweenRotate",e.TWEEN_SCALE="tweenScale",e.CURVE="curve",e.GUIDE_CURVE="guideCurve",e.EVENT="event",e.SOUND="sound",e.ACTION="action",e.ACTIONS="actions",e.DEFAULT_ACTIONS="defaultActions",e.X="x",e.Y="y",e.SKEW_X="skX",e.SKEW_Y="skY",e.SCALE_X="scX",e.SCALE_Y="scY",e.ALPHA_OFFSET="aO",e.RED_OFFSET="rO",e.GREEN_OFFSET="gO",e.BLUE_OFFSET="bO",e.ALPHA_MULTIPLIER="aM",e.RED_MULTIPLIER="rM",e.GREEN_MULTIPLIER="gM",e.BLUE_MULTIPLIER="bM",e.UVS="uvs",e.VERTICES="vertices",e.TRIANGLES="triangles",e.WEIGHTS="weights",e.SLOT_POSE="slotPose",e.BONE_POSE="bonePose",e.TWEEN="tween",e.KEY="key",e.COLOR_TRANSFORM="colorTransform",e.TIMELINE="timeline",e.PIVOT_X="pX",e.PIVOT_Y="pY",e.Z="z",e.LOOP="loop",e.AUTO_TWEEN="autoTween",e.HIDE="hide",e}();t.DataParser=e}(r||(r={}));var r;!function(t){var e=function(e){function n(){return e.call(this)||this}return i(n,e),n._getBoolean=function(t,e,n){if(e in t){var i=t[e],r=typeof i;if("boolean"==r)return i;if("string"!=r)return!!i;switch(i){case"0":case"NaN":case"":case"false":case"null":case"undefined":return!1;default:return!0}}return n},n._getNumber=function(t,e,n){if(e in t){var i=t[e];return null==i||"NaN"==i?n:+i||0}return n},n._getString=function(t,e,n){return e in t?String(t[e]):n},n._getParameter=function(t,e,n){return t.length>e?t[e]:n},n.prototype._parseArmature=function(e,i){var r=t.BaseObject.borrowObject(t.ArmatureData);if(r.name=n._getString(e,n.NAME,null),r.frameRate=n._getNumber(e,n.FRAME_RATE,this._data.frameRate)||this._data.frameRate,r.scale=i,n.TYPE in e&&"string"==typeof e[n.TYPE]?r.type=n._getArmatureType(e[n.TYPE]):r.type=n._getNumber(e,n.TYPE,0),this._armature=r,this._rawBones.length=0,n.AABB in e){var o=e[n.AABB];r.aabb.x=n._getNumber(o,n.X,0),r.aabb.y=n._getNumber(o,n.Y,0),r.aabb.width=n._getNumber(o,n.WIDTH,0),r.aabb.height=n._getNumber(o,n.HEIGHT,0)}if(n.BONE in e)for(var a=e[n.BONE],s=0,l=a.length;s<l;++s){var u=a[s],h=this._parseBone(u);r.addBone(h,n._getString(u,n.PARENT,null)),this._rawBones.push(h)}if(n.IK in e)for(var c=e[n.IK],s=0,l=c.length;s<l;++s)this._parseIK(c[s]);if(n.SLOT in e)for(var d=e[n.SLOT],p=0,s=0,l=d.length;s<l;++s)r.addSlot(this._parseSlot(d[s],p++));if(n.SKIN in e)for(var f=e[n.SKIN],s=0,l=f.length;s<l;++s)r.addSkin(this._parseSkin(f[s]));if(n.ANIMATION in e)for(var _=e[n.ANIMATION],s=0,l=_.length;s<l;++s)r.addAnimation(this._parseAnimation(_[s]));return(n.ACTIONS in e||n.DEFAULT_ACTIONS in e)&&this._parseActionData(e,r.actions,null,null),this._isOldData&&this._isGlobalTransform&&this._globalToLocal(r),this._armature=null,this._rawBones.length=0,r},n.prototype._parseBone=function(e){var i=t.BaseObject.borrowObject(t.BoneData);return i.name=n._getString(e,n.NAME,null),i.inheritTranslation=n._getBoolean(e,n.INHERIT_TRANSLATION,!0),i.inheritRotation=n._getBoolean(e,n.INHERIT_ROTATION,!0),i.inheritScale=n._getBoolean(e,n.INHERIT_SCALE,!0),i.length=n._getNumber(e,n.LENGTH,0)*this._armature.scale,n.TRANSFORM in e&&this._parseTransform(e[n.TRANSFORM],i.transform),this._isOldData&&(i.inheritScale=!1),i},n.prototype._parseIK=function(t){var e=this._armature.getBone(n._getString(t,n.BONE in t?n.BONE:n.NAME,null));e&&(e.ik=this._armature.getBone(n._getString(t,n.TARGET,null)),e.bendPositive=n._getBoolean(t,n.BEND_POSITIVE,!0),e.chain=n._getNumber(t,n.CHAIN,0),e.weight=n._getNumber(t,n.WEIGHT,1),e.chain>0&&e.parent&&!e.parent.ik?(e.parent.ik=e.ik,e.parent.chainIndex=0,e.parent.chain=0,e.chainIndex=1):(e.chain=0,e.chainIndex=0))},n.prototype._parseSlot=function(e,i){var r=t.BaseObject.borrowObject(t.SlotData);return r.name=n._getString(e,n.NAME,null),r.parent=this._armature.getBone(n._getString(e,n.PARENT,null)),r.displayIndex=n._getNumber(e,n.DISPLAY_INDEX,0),r.zOrder=n._getNumber(e,n.Z,i),n.COLOR in e||n.COLOR_TRANSFORM in e?(r.color=t.SlotData.generateColor(),this._parseColorTransform(e[n.COLOR]||e[n.COLOR_TRANSFORM],r.color)):r.color=t.SlotData.DEFAULT_COLOR,n.BLEND_MODE in e&&"string"==typeof e[n.BLEND_MODE]?r.blendMode=n._getBlendMode(e[n.BLEND_MODE]):r.blendMode=n._getNumber(e,n.BLEND_MODE,0),(n.ACTIONS in e||n.DEFAULT_ACTIONS in e)&&this._parseActionData(e,r.actions,null,null),this._isOldData&&(n.COLOR_TRANSFORM in e?(r.color=t.SlotData.generateColor(),this._parseColorTransform(e[n.COLOR_TRANSFORM],r.color)):r.color=t.SlotData.DEFAULT_COLOR),r},n.prototype._parseSkin=function(e){var i=t.BaseObject.borrowObject(t.SkinData);if(i.name=n._getString(e,n.NAME,"__default")||"__default",n.SLOT in e){this._skin=i;for(var r=e[n.SLOT],o=0,a=0,s=r.length;a<s;++a)this._isOldData&&this._armature.addSlot(this._parseSlot(r[a],o++)),i.addSlot(this._parseSlotDisplaySet(r[a]));this._skin=null}return i},n.prototype._parseSlotDisplaySet=function(e){var i=t.BaseObject.borrowObject(t.SlotDisplayDataSet);if(i.slot=this._armature.getSlot(n._getString(e,n.NAME,null)),n.DISPLAY in e){var r=e[n.DISPLAY],o=i.displays;this._slotDisplayDataSet=i;for(var a=0,s=r.length;a<s;++a)o.push(this._parseDisplay(r[a]));this._slotDisplayDataSet=null}return i},n.prototype._parseDisplay=function(e){var i=t.BaseObject.borrowObject(t.DisplayData);if(i.name=n._getString(e,n.NAME,null),n.TYPE in e&&"string"==typeof e[n.TYPE]?i.type=n._getDisplayType(e[n.TYPE]):i.type=n._getNumber(e,n.TYPE,0),i.isRelativePivot=!0,n.PIVOT in e){var r=e[n.PIVOT];i.pivot.x=n._getNumber(r,n.X,0),i.pivot.y=n._getNumber(r,n.Y,0)}else if(this._isOldData){var o=e[n.TRANSFORM];i.isRelativePivot=!1,i.pivot.x=n._getNumber(o,n.PIVOT_X,0)*this._armature.scale,i.pivot.y=n._getNumber(o,n.PIVOT_Y,0)*this._armature.scale}else i.pivot.x=.5,i.pivot.y=.5;switch(n.TRANSFORM in e&&this._parseTransform(e[n.TRANSFORM],i.transform),i.type){case 0:break;case 1:break;case 2:i.mesh=this._parseMesh(e)}return i},n.prototype._parseMesh=function(e){var i=t.BaseObject.borrowObject(t.MeshData),r=e[n.VERTICES],o=e[n.UVS],a=e[n.TRIANGLES],s=Math.floor(r.length/2),l=Math.floor(a.length/3),u=new Array(this._armature.sortedBones.length);if(i.skinned=n.WEIGHTS in e&&e[n.WEIGHTS].length>0,i.uvs.length=2*s,i.vertices.length=2*s,i.vertexIndices.length=3*l,i.skinned){if(i.boneIndices.length=s,i.weights.length=s,i.boneVertices.length=s,n.SLOT_POSE in e){var h=e[n.SLOT_POSE];i.slotPose.a=h[0],i.slotPose.b=h[1],i.slotPose.c=h[2],i.slotPose.d=h[3],i.slotPose.tx=h[4]*this._armature.scale,i.slotPose.ty=h[5]*this._armature.scale}if(n.BONE_POSE in e)for(var c=e[n.BONE_POSE],d=0,p=c.length;d<p;d+=7){var f=c[d],_=u[f]=new t.Matrix;_.a=c[d+1],_.b=c[d+2],_.c=c[d+3],_.d=c[d+4],_.tx=c[d+5]*this._armature.scale,_.ty=c[d+6]*this._armature.scale,_.invert()}}for(var d=0,m=0,p=r.length;d<p;d+=2){var y=d+1,v=d/2,g=i.vertices[d]=r[d]*this._armature.scale,T=i.vertices[y]=r[y]*this._armature.scale;if(i.uvs[d]=o[d],i.uvs[y]=o[y],i.skinned){var A=e[n.WEIGHTS],b=A[m],S=i.boneIndices[v]=new Array(b),E=i.weights[v]=new Array(b),w=i.boneVertices[v]=new Array(2*b);i.slotPose.transformPoint(g,T,this._helpPoint),g=i.vertices[d]=this._helpPoint.x,T=i.vertices[y]=this._helpPoint.y;for(var C=0;C<b;++C){var P=m+1+2*C,f=A[P],x=this._rawBones[f],M=i.bones.indexOf(x);M<0&&(M=i.bones.length,i.bones[M]=x,i.inverseBindPose[M]=u[f]),i.inverseBindPose[M].transformPoint(g,T,this._helpPoint),S[C]=M,E[C]=A[P+1],w[2*C]=this._helpPoint.x,w[2*C+1]=this._helpPoint.y}m+=2*b+1}}for(var d=0,p=a.length;d<p;++d)i.vertexIndices[d]=a[d];return i},n.prototype._parseAnimation=function(e){var i=t.BaseObject.borrowObject(t.AnimationData);i.name=n._getString(e,n.NAME,"__default")||"__default",i.frameCount=Math.max(n._getNumber(e,n.DURATION,1),1),i.position=n._getNumber(e,n.POSITION,0)/this._armature.frameRate,i.duration=i.frameCount/this._armature.frameRate,i.playTimes=n._getNumber(e,n.PLAY_TIMES,1),i.fadeInTime=n._getNumber(e,n.FADE_IN_TIME,0),this._animation=i;var r=n._getString(e,n.ANIMATION,null);if(r)return i.animation=this._armature.getAnimation(r),!i.animation,i;if(this._parseTimeline(e,i,this._parseAnimationFrame),n.Z_ORDER in e&&(i.zOrderTimeline=t.BaseObject.borrowObject(t.ZOrderTimelineData),this._parseTimeline(e[n.Z_ORDER],i.zOrderTimeline,this._parseZOrderFrame)),n.BONE in e)for(var o=e[n.BONE],a=0,s=o.length;a<s;++a)i.addBoneTimeline(this._parseBoneTimeline(o[a]));if(n.SLOT in e)for(var l=e[n.SLOT],a=0,s=l.length;a<s;++a)i.addSlotTimeline(this._parseSlotTimeline(l[a]));if(n.FFD in e)for(var u=e[n.FFD],a=0,s=u.length;a<s;++a)i.addFFDTimeline(this._parseFFDTimeline(u[a]));if(this._isOldData){if(this._isAutoTween=n._getBoolean(e,n.AUTO_TWEEN,!0),this._animationTweenEasing=n._getNumber(e,n.TWEEN_EASING,0)||0,i.playTimes=n._getNumber(e,n.LOOP,1),n.TIMELINE in e)for(var h=e[n.TIMELINE],a=0,s=h.length;a<s;++a){var c=h[a];i.addBoneTimeline(this._parseBoneTimeline(c)),i.addSlotTimeline(this._parseSlotTimeline(c))}}else this._isAutoTween=!1,this._animationTweenEasing=0;for(var a in this._armature.bones){var d=this._armature.bones[a];if(!i.getBoneTimeline(d.name)){var p=t.BaseObject.borrowObject(t.BoneTimelineData),f=t.BaseObject.borrowObject(t.BoneFrameData);p.bone=d,p.frames[0]=f,i.addBoneTimeline(p)}}for(var a in this._armature.slots){var _=this._armature.slots[a];if(!i.getSlotTimeline(_.name)){var m=t.BaseObject.borrowObject(t.SlotTimelineData),y=t.BaseObject.borrowObject(t.SlotFrameData);m.slot=_,y.displayIndex=_.displayIndex,_.color==t.SlotData.DEFAULT_COLOR?y.color=t.SlotFrameData.DEFAULT_COLOR:(y.color=t.SlotFrameData.generateColor(),y.color.copyFrom(_.color)),m.frames[0]=y,i.addSlotTimeline(m),this._isOldData&&(y.displayIndex=-1)}}return this._animation=null,i},n.prototype._parseBoneTimeline=function(e){var i=t.BaseObject.borrowObject(t.BoneTimelineData);i.bone=this._armature.getBone(n._getString(e,n.NAME,null)),this._parseTimeline(e,i,this._parseBoneFrame);for(var r=i.originalTransform,o=null,a=0,s=i.frames.length;a<s;++a){var l=i.frames[a];o?o!=l&&l.transform.minus(r):(r.copyFrom(l.transform),l.transform.identity(),0==r.scaleX&&(r.scaleX=.001),0==r.scaleY&&(r.scaleY=.001)),o=l}return 1==i.scale&&0==i.offset||(this._animation.hasAsynchronyTimeline=!0),this._isOldData&&(n.PIVOT_X in e||n.PIVOT_Y in e)?(this._timelinePivot.x=n._getNumber(e,n.PIVOT_X,0),this._timelinePivot.y=n._getNumber(e,n.PIVOT_Y,0)):this._timelinePivot.clear(),i},n.prototype._parseSlotTimeline=function(e){var i=t.BaseObject.borrowObject(t.SlotTimelineData);return i.slot=this._armature.getSlot(n._getString(e,n.NAME,null)),this._parseTimeline(e,i,this._parseSlotFrame),1==i.scale&&0==i.offset||(this._animation.hasAsynchronyTimeline=!0),i},n.prototype._parseFFDTimeline=function(e){var i=t.BaseObject.borrowObject(t.FFDTimelineData);i.skin=this._armature.getSkin(n._getString(e,n.SKIN,null)),i.slot=i.skin.getSlot(n._getString(e,n.SLOT,null));for(var r=n._getString(e,n.NAME,null),o=0,a=i.slot.displays.length;o<a;++o){var s=i.slot.displays[o];if(s.mesh&&s.name==r){i.displayIndex=o,this._mesh=s.mesh;break}}return this._parseTimeline(e,i,this._parseFFDFrame),this._mesh=null,i},n.prototype._parseAnimationFrame=function(e,i,r){var o=t.BaseObject.borrowObject(t.AnimationFrameData);return this._parseFrame(e,o,i,r),(n.ACTION in e||n.ACTIONS in e)&&this._parseActionData(e,o.actions,null,null),(n.EVENT in e||n.SOUND in e)&&this._parseEventData(e,o.events,null,null),o},n.prototype._parseZOrderFrame=function(e,i,r){var o=t.BaseObject.borrowObject(t.ZOrderFrameData);this._parseFrame(e,o,i,r);var a=e[n.Z_ORDER];if(a&&a.length>0){var s=this._armature.sortedSlots.length,l=new Array(s-a.length/2);o.zOrder.length=s;for(var u=0;u<s;++u)o.zOrder[u]=-1;for(var h=0,c=0,d=0,p=a.length;d<p;d+=2){for(var f=a[d],_=a[d+1];h!=f;)l[c++]=h++;o.zOrder[h+_]=h++}for(;h<s;)l[c++]=h++;for(var m=s;m--;)o.zOrder[m]==-1&&(o.zOrder[m]=l[--c])}return o},n.prototype._parseBoneFrame=function(e,i,r){var o=t.BaseObject.borrowObject(t.BoneFrameData);if(o.tweenRotate=n._getNumber(e,n.TWEEN_ROTATE,0),o.tweenScale=n._getBoolean(e,n.TWEEN_SCALE,!0),this._parseTweenFrame(e,o,i,r),n.TRANSFORM in e){var a=e[n.TRANSFORM];this._parseTransform(a,o.transform),this._isOldData&&(this._helpPoint.x=this._timelinePivot.x+n._getNumber(a,n.PIVOT_X,0),this._helpPoint.y=this._timelinePivot.y+n._getNumber(a,n.PIVOT_Y,0),o.transform.toMatrix(this._helpMatrix),this._helpMatrix.transformPoint(this._helpPoint.x,this._helpPoint.y,this._helpPoint,!0),o.transform.x+=this._helpPoint.x,o.transform.y+=this._helpPoint.y)}var s=this._timeline.bone,l=new Array,u=new Array;if(n.ACTION in e||n.ACTIONS in e){var h=this._armature.getSlot(s.name);this._parseActionData(e,l,s,h)}return(n.EVENT in e||n.SOUND in e)&&this._parseEventData(e,u,s,null),(l.length>0||u.length>0)&&this._mergeFrameToAnimationTimeline(o.position,l,u),o},n.prototype._parseSlotFrame=function(e,i,r){var o=t.BaseObject.borrowObject(t.SlotFrameData);if(o.displayIndex=n._getNumber(e,n.DISPLAY_INDEX,0),this._parseTweenFrame(e,o,i,r),n.COLOR in e||n.COLOR_TRANSFORM in e?(o.color=t.SlotFrameData.generateColor(),this._parseColorTransform(e[n.COLOR]||e[n.COLOR_TRANSFORM],o.color)):o.color=t.SlotFrameData.DEFAULT_COLOR,this._isOldData)n._getBoolean(e,n.HIDE,!1)&&(o.displayIndex=-1);else if(n.ACTION in e||n.ACTIONS in e){var a=this._timeline.slot,s=new Array;this._parseActionData(e,s,a.parent,a),this._mergeFrameToAnimationTimeline(o.position,s,null)}return o},n.prototype._parseFFDFrame=function(e,i,r){var o=t.BaseObject.borrowObject(t.ExtensionFrameData);o.type=n._getNumber(e,n.TYPE,0),this._parseTweenFrame(e,o,i,r);for(var a=e[n.VERTICES],s=n._getNumber(e,n.OFFSET,0),l=0,u=0,h=0,c=this._mesh.vertices.length;h<c;h+=2)if(!a||h<s||h-s>=a.length?(l=0,u=0):(l=a[h-s]*this._armature.scale,u=a[h+1-s]*this._armature.scale),this._mesh.skinned){this._mesh.slotPose.transformPoint(l,u,this._helpPoint,!0),l=this._helpPoint.x,u=this._helpPoint.y;for(var d=this._mesh.boneIndices[h/2],p=0,f=d.length;p<f;++p){var _=d[p];this._mesh.inverseBindPose[_].transformPoint(l,u,this._helpPoint,!0),o.tweens.push(this._helpPoint.x,this._helpPoint.y)}}else o.tweens.push(l,u);return o},n.prototype._parseTweenFrame=function(e,i,r,o){this._parseFrame(e,i,r,o),i.duration>0?(n.TWEEN_EASING in e?i.tweenEasing=n._getNumber(e,n.TWEEN_EASING,t.DragonBones.NO_TWEEN):this._isOldData?i.tweenEasing=this._isAutoTween?this._animationTweenEasing:t.DragonBones.NO_TWEEN:i.tweenEasing=t.DragonBones.NO_TWEEN,this._isOldData&&1==this._animation.scale&&1==this._timeline.scale&&i.duration*this._armature.frameRate<2&&(i.tweenEasing=t.DragonBones.NO_TWEEN),n.CURVE in e&&(i.curve=t.TweenFrameData.samplingCurve(e[n.CURVE],o))):(i.tweenEasing=t.DragonBones.NO_TWEEN,i.curve=null)},n.prototype._parseFrame=function(t,e,n,i){e.position=n/this._armature.frameRate,e.duration=i/this._armature.frameRate},n.prototype._parseTimeline=function(e,i,r){if(i.scale=n._getNumber(e,n.SCALE,1),i.offset=n._getNumber(e,n.OFFSET,0),n.FRAME in e){this._timeline=i;var o=e[n.FRAME];if(1==o.length)i.frames.length=1,i.frames[0]=r.call(this,o[0],0,n._getNumber(o[0],n.DURATION,1));else if(o.length>1){i.frames.length=this._animation.frameCount+1;for(var a=0,s=0,l=null,u=null,h=0,c=0,d=i.frames.length;h<d;++h){if(a+s<=h&&c<o.length){var p=o[c++];a=h,s=n._getNumber(p,n.DURATION,1),l=r.call(this,p,a,s),u&&(u.next=l,l.prev=u,this._isOldData&&u instanceof t.TweenFrameData&&n._getNumber(p,n.DISPLAY_INDEX,0)==-1&&(u.tweenEasing=t.DragonBones.NO_TWEEN)),u=l}i.frames[h]=l}l.duration=this._animation.duration-l.position,l=i.frames[0],u.next=l,l.prev=u,this._isOldData&&u instanceof t.TweenFrameData&&n._getNumber(o[0],n.DISPLAY_INDEX,0)==-1&&(u.tweenEasing=t.DragonBones.NO_TWEEN)}this._timeline=null}},n.prototype._parseActionData=function(e,i,r,o){var a=e[n.ACTION]||e[n.ACTIONS]||e[n.DEFAULT_ACTIONS];if("string"==typeof a){var s=t.BaseObject.borrowObject(t.ActionData);s.type=4,s.bone=r,s.slot=o,s.data[0]=a,s.data[1]=-1,s.data[2]=-1,i.push(s)}else if(a instanceof Array)for(var l=0,u=a.length;l<u;++l){var h=a[l],c=h instanceof Array,s=t.BaseObject.borrowObject(t.ActionData),d=c?n._getParameter(h,1,null):n._getString(h,"gotoAndPlay",null);if(c){var p=h[0];"string"==typeof p?s.type=n._getActionType(p):s.type=n._getParameter(h,0,4)}else s.type=2;switch(s.type){case 0:s.data[0]=d,s.data[1]=c?n._getParameter(h,2,-1):-1;break;case 1:s.data[0]=d;break;case 2:s.data[0]=d,s.data[1]=c?n._getParameter(h,2,0):0,s.data[2]=c?n._getParameter(h,3,-1):-1;break;case 3:s.data[0]=d,s.data[1]=c?n._getParameter(h,2,0):0;break;case 4:s.data[0]=d,s.data[1]=c?n._getParameter(h,2,-1):-1,s.data[2]=c?n._getParameter(h,3,-1):-1;break;case 5:s.data[0]=d,s.data[1]=c?n._getParameter(h,2,0):0}s.bone=r,s.slot=o,i.push(s)}},n.prototype._parseEventData=function(e,i,r,o){if(n.SOUND in e){var a=t.BaseObject.borrowObject(t.EventData);
a.type=11,a.name=n._getString(e,n.SOUND,null),a.bone=r,a.slot=o,i.push(a)}if(n.EVENT in e){var s=t.BaseObject.borrowObject(t.EventData);s.type=10,s.name=n._getString(e,n.EVENT,null),s.bone=r,s.slot=o,n.DATA in e&&(s.data=e[n.DATA]),i.push(s)}},n.prototype._parseTransform=function(e,i){i.x=n._getNumber(e,n.X,0)*this._armature.scale,i.y=n._getNumber(e,n.Y,0)*this._armature.scale,i.skewX=n._getNumber(e,n.SKEW_X,0)*t.DragonBones.ANGLE_TO_RADIAN,i.skewY=n._getNumber(e,n.SKEW_Y,0)*t.DragonBones.ANGLE_TO_RADIAN,i.scaleX=n._getNumber(e,n.SCALE_X,1),i.scaleY=n._getNumber(e,n.SCALE_Y,1)},n.prototype._parseColorTransform=function(t,e){e.alphaMultiplier=.01*n._getNumber(t,n.ALPHA_MULTIPLIER,100),e.redMultiplier=.01*n._getNumber(t,n.RED_MULTIPLIER,100),e.greenMultiplier=.01*n._getNumber(t,n.GREEN_MULTIPLIER,100),e.blueMultiplier=.01*n._getNumber(t,n.BLUE_MULTIPLIER,100),e.alphaOffset=n._getNumber(t,n.ALPHA_OFFSET,0),e.redOffset=n._getNumber(t,n.RED_OFFSET,0),e.greenOffset=n._getNumber(t,n.GREEN_OFFSET,0),e.blueOffset=n._getNumber(t,n.BLUE_OFFSET,0)},n.prototype.parseDragonBonesData=function(e,i){if(void 0===i&&(i=1),e){var r=n._getString(e,n.VERSION,null);if(this._isOldData=r==n.DATA_VERSION_2_3||r==n.DATA_VERSION_3_0,this._isOldData?this._isGlobalTransform=n._getBoolean(e,n.IS_GLOBAL,!0):this._isGlobalTransform=!1,r==n.DATA_VERSION||r==n.DATA_VERSION_4_0||this._isOldData){var o=t.BaseObject.borrowObject(t.DragonBonesData);if(o.name=n._getString(e,n.NAME,null),o.frameRate=n._getNumber(e,n.FRAME_RATE,24)||24,n.ARMATURE in e){this._data=o;for(var a=e[n.ARMATURE],s=0,l=a.length;s<l;++s)o.addArmature(this._parseArmature(a[s],i));this._data=null}return o}throw new Error("Nonsupport data version.")}throw new Error("No data.")},n.prototype.convertTexturePackerFormatToDragonBones=function(t){var e={};e.width=t.meta.size.w,e.height=t.meta.size.h,e.name=t.meta.image.split(".")[0].replace("_tex",""),e.imagePath=t.meta.image,e.SubTexture=[];for(var n=t.frames.length,i=t.frames,r=0;r<n;r++){var o=i[r],a=o.frame,s={};s.x=a.x,s.y=a.y,s.width=a.w,s.height=a.h;var l=o.filename.split(".");l.length>1?s.name=l[0]:s.name=o.filename,e.SubTexture[r]=s}return e},n.prototype.parseTextureAtlasData=function(e,i,r){if(void 0===r&&(r=0),!e)throw new Error("No data.");if(e.frames&&e.frames.length>0&&(e=this.convertTexturePackerFormatToDragonBones(e)),i.name=n._getString(e,n.NAME,null),i.imagePath=n._getString(e,n.IMAGE_PATH,null),r>0?i.scale=r:r=i.scale=n._getNumber(e,n.SCALE,i.scale),r=1/r,n.SUB_TEXTURE in e)for(var o=e[n.SUB_TEXTURE],a=0,s=o.length;a<s;++a){var l=o[a],u=i.generateTextureData();u.name=n._getString(l,n.NAME,null),u.rotated=n._getBoolean(l,n.ROTATED,!1),u.region.x=n._getNumber(l,n.X,0)*r,u.region.y=n._getNumber(l,n.Y,0)*r,u.region.width=n._getNumber(l,n.WIDTH,0)*r,u.region.height=n._getNumber(l,n.HEIGHT,0)*r;var h=n._getNumber(l,n.FRAME_WIDTH,-1),c=n._getNumber(l,n.FRAME_HEIGHT,-1);h>0&&c>0&&(u.frame=t.TextureData.generateRectangle(),u.frame.x=n._getNumber(l,n.FRAME_X,0)*r,u.frame.y=n._getNumber(l,n.FRAME_Y,0)*r,u.frame.width=h*r,u.frame.height=c*r),i.addTexture(u)}},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n._instance=null,n}(t.DataParser);t.ObjectDataParser=e}(r||(r={}));var r;!function(t){var e=function(e){function r(){return e.call(this)||this}return i(r,e),r.toString=function(){return"[class dragonBones.PixiTextureAtlasData]"},r.prototype._onClear=function(){e.prototype._onClear.call(this),this.texture&&(this.texture=null)},r.prototype.generateTextureData=function(){return t.BaseObject.borrowObject(n)},r}(t.TextureAtlasData);t.PixiTextureAtlasData=e;var n=function(t){function e(){return t.call(this)||this}return i(e,t),e.toString=function(){return"[class dragonBones.PixiTextureData]"},e.prototype._onClear=function(){t.prototype._onClear.call(this),this.texture&&(this.texture.destroy(!1),this.texture=null)},e}(t.TextureData);t.PixiTextureData=n}(r||(r={}));var r;!function(t){var n=function(t){function n(){return t.call(this)||this}return i(n,t),n.toString=function(){return"[class dragonBones.PixiSlot]"},n.prototype._createTexture=function(t,n){var i=new e.Rectangle(0,0,t.region.width,t.region.height),r=new e.Rectangle(t.region.x,t.region.y,t.region.width,t.region.height),o=new e.Texture(n,r,r,i,t.rotated?1:0);return o},n.prototype._onClear=function(){t.prototype._onClear.call(this),this._renderDisplay=null},n.prototype._initDisplay=function(t){},n.prototype._disposeDisplay=function(t){t.destroy()},n.prototype._onUpdateDisplay=function(){this._rawDisplay||(this._rawDisplay=new e.Sprite),this._renderDisplay=this._display||this._rawDisplay},n.prototype._addDisplay=function(){var t=this._armature._display;t.addChild(this._renderDisplay)},n.prototype._replaceDisplay=function(t){var e=this._armature._display,n=t;e.addChild(this._renderDisplay),e.swapChildren(this._renderDisplay,n),e.removeChild(n)},n.prototype._removeDisplay=function(){this._renderDisplay.parent.removeChild(this._renderDisplay)},n.prototype._updateZOrder=function(){var t=this._armature._display;t.addChildAt(this._renderDisplay,this._zOrder)},n.prototype._updateVisible=function(){this._renderDisplay.visible=this._parent.visible},n.prototype._updateBlendMode=function(){switch(this._blendMode){case 0:this._renderDisplay.blendMode=e.BLEND_MODES.NORMAL;break;case 1:this._renderDisplay.blendMode=e.BLEND_MODES.ADD;break;case 3:this._renderDisplay.blendMode=e.BLEND_MODES.DARKEN;break;case 4:this._renderDisplay.blendMode=e.BLEND_MODES.DIFFERENCE;break;case 6:this._renderDisplay.blendMode=e.BLEND_MODES.HARD_LIGHT;break;case 9:this._renderDisplay.blendMode=e.BLEND_MODES.LIGHTEN;break;case 10:this._renderDisplay.blendMode=e.BLEND_MODES.MULTIPLY;break;case 11:this._renderDisplay.blendMode=e.BLEND_MODES.OVERLAY;break;case 12:this._renderDisplay.blendMode=e.BLEND_MODES.SCREEN}},n.prototype._updateColor=function(){this._renderDisplay.alpha=this._colorTransform.alphaMultiplier},n.prototype._updateFilters=function(){},n.prototype._updateFrame=function(){var t=this._renderDisplay;if(this._display&&this._displayIndex>=0){var e=this._displayIndex<this._displayDataSet.displays.length?this._displayDataSet.displays[this._displayIndex]:null,n=this._displayIndex<this._replacedDisplayDataSet.length?this._replacedDisplayDataSet[this._displayIndex]:null,i=n||e,r=i.texture;if(r){var o=r.parent,a=this._armature.replacedTexture,s=a&&i.texture.parent==e.texture.parent?a:o.texture;if(s){var l=r.texture;if(s==a){var u=this._armature._display,h=r.name;l=u._subTextures[h],l||(l=this._createTexture(r,s),u._subTextures[h]=l)}else r.texture||(l=this._createTexture(r,s),r.texture=l);if(this._updatePivot(e,i,r),this._meshData&&this._display==this._meshDisplay){var c=this._meshDisplay,d=s?s.width:1,p=s?s.height:1;c.uvs=new Float32Array(this._meshData.uvs),c.vertices=new Float32Array(this._meshData.vertices),c.indices=new Uint16Array(this._meshData.vertexIndices);for(var f=0,_=c.uvs.length;f<_;f+=2){var m=c.uvs[f],y=c.uvs[f+1];c.uvs[f]=(r.region.x+m*r.region.width)/d,c.uvs[f+1]=(r.region.y+y*r.region.height)/p}c.texture=l,c.dirty=1,this._meshData.skinned&&c.setTransform(0,0,1,1,0,0,0,0,0)}else t.texture=l;return void this._updateVisible()}}}this._pivotX=0,this._pivotY=0,t.visible=!1,t.texture=null,t.x=this.origin.x,t.y=this.origin.y},n.prototype._updateMesh=function(){var t=this._meshDisplay,e=this._ffdVertices.length>0;if(this._meshData.skinned)for(var n=0,i=0,r=this._meshData.vertices.length;n<r;n+=2){for(var o=n/2,a=this._meshData.boneIndices[o],s=this._meshData.boneVertices[o],l=this._meshData.weights[o],u=0,h=0,c=0,d=a.length;c<d;++c){var p=this._meshBones[a[c]],f=p.globalTransformMatrix,_=l[c],m=0,y=0;e?(m=s[2*c]+this._ffdVertices[i],y=s[2*c+1]+this._ffdVertices[i+1]):(m=s[2*c],y=s[2*c+1]),u+=(f.a*m+f.c*y+f.tx)*_,h+=(f.b*m+f.d*y+f.ty)*_,i+=2}t.vertices[n]=u,t.vertices[n+1]=h}else if(e)for(var v=this._meshData.vertices,n=0,r=this._meshData.vertices.length;n<r;n+=2){var u=v[n]+this._ffdVertices[n],h=v[n+1]+this._ffdVertices[n+1];t.vertices[n]=u,t.vertices[n+1]=h}},n.prototype._updateTransform=function(){this._renderDisplay.setTransform(this.global.x,this.global.y,this.global.scaleX,this.global.scaleY,this.global.skewY,0,0,this._pivotX,this._pivotY)},n}(t.Slot);t.PixiSlot=n}(r||(r={}));var r;!function(t){var n=function(n){function r(){var t=n.call(this)||this;return t._subTextures={},t}return i(r,n),r.prototype._onClear=function(){for(var t in this._subTextures)this._subTextures[t].destroy(),delete this._subTextures[t];this._debugDrawer&&this._debugDrawer.destroy(!0),this._armature&&this.advanceTimeBySelf(!1),this._armature=null,this._debugDrawer=null,this.destroy(!0)},r.prototype._dispatchEvent=function(t){this.emit(t.type,t)},r.prototype._debugDraw=function(){this._debugDrawer||(this._debugDrawer=new e.Graphics),this.addChild(this._debugDrawer),this._debugDrawer.clear();for(var t=this._armature.getBones(),n=0,i=t.length;n<i;++n){var r=t[n],o=Math.max(r.length,5),a=r.globalTransformMatrix.tx,s=r.globalTransformMatrix.ty,l=a+r.globalTransformMatrix.a*o,u=s+r.globalTransformMatrix.b*o;this._debugDrawer.lineStyle(1,r.ik?16711680:65280,.5),this._debugDrawer.moveTo(a,s),this._debugDrawer.lineTo(l,u)}},r.prototype._onReplaceTexture=function(t){for(var e in this._subTextures)delete this._subTextures[e]},r.prototype.hasEvent=function(t){return!0},r.prototype.addEvent=function(t,e,n){this.addListener(t,e,n)},r.prototype.removeEvent=function(t,e,n){this.removeListener(t,e,n)},r.prototype.advanceTimeBySelf=function(e){e?t.PixiFactory._clock.add(this._armature):t.PixiFactory._clock.remove(this._armature)},r.prototype.dispose=function(){this._armature&&(this.advanceTimeBySelf(!1),this._armature.dispose(),this._armature=null)},Object.defineProperty(r.prototype,"armature",{get:function(){return this._armature},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"animation",{get:function(){return this._armature.animation},enumerable:!0,configurable:!0}),r}(e.Container);t.PixiArmatureDisplay=n}(r||(r={}));var r;!function(t){var n=function(n){function r(i){void 0===i&&(i=null);var o=n.call(this,i)||this;return r._eventManager||(r._eventManager=new t.PixiArmatureDisplay,r._clock=new t.WorldClock,e.ticker.shared.add(r._clockHandler,r)),o}return i(r,n),r._clockHandler=function(t){r._clock.advanceTime(-1)},Object.defineProperty(r,"factory",{get:function(){return r._factory||(r._factory=new r),r._factory},enumerable:!0,configurable:!0}),r.prototype._generateTextureAtlasData=function(e,n){return e?e.texture=n:e=t.BaseObject.borrowObject(t.PixiTextureAtlasData),e},r.prototype._generateArmature=function(e){var n=t.BaseObject.borrowObject(t.Armature),i=new t.PixiArmatureDisplay;return n._armatureData=e.armature,n._skinData=e.skin,n._animation=t.BaseObject.borrowObject(t.Animation),n._display=i,n._eventManager=r._eventManager,i._armature=n,n._animation._armature=n,n.animation.animations=e.armature.animations,n},r.prototype._generateSlot=function(n,i,r){var o=t.BaseObject.borrowObject(t.PixiSlot),a=i.slot,s=[];o.name=a.name,o._rawDisplay=new e.Sprite,o._meshDisplay=new e.mesh.Mesh(null,null,null,null,e.mesh.Mesh.DRAW_MODES.TRIANGLES);for(var l=0,u=i.displays.length;l<u;++l){var h=i.displays[l];switch(h.type){case 0:h.texture&&!n.textureAtlasName||(h.texture=this._getTextureData(n.textureAtlasName||n.dataName,h.name)),s.push(o._rawDisplay);break;case 2:h.texture&&!n.textureAtlasName||(h.texture=this._getTextureData(n.textureAtlasName||n.dataName,h.name)),s.push(o._meshDisplay);break;case 1:var c=this.buildArmature(h.name,n.dataName,null,n.textureAtlasName);if(c){if(!o.inheritAnimation){var d=a.actions.length>0?a.actions:c.armatureData.actions;if(d.length>0)for(var p=0,f=d.length;p<f;++p)c._bufferAction(d[p]);else c.animation.play()}h.armature=c.armatureData}s.push(c);break;default:s.push(null)}}return o._setDisplayList(s),o},r.prototype.buildArmatureDisplay=function(t,e,n,i){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null);var r=this.buildArmature(t,e,n,i),o=r?r._display:null;return o&&o.advanceTimeBySelf(!0),o},r.prototype.getTextureDisplay=function(t,n){void 0===n&&(n=null);var i=this._getTextureData(n,t);if(i){if(!i.texture){var r=i.parent.texture,o=new e.Rectangle(0,0,i.region.width,i.region.height);i.texture=new e.Texture(r,null,i.region,o,i.rotated?1:0)}return new e.Sprite(i.texture)}return null},Object.defineProperty(r.prototype,"soundEventManater",{get:function(){return r._eventManager},enumerable:!0,configurable:!0}),r._factory=null,r._eventManager=null,r._clock=null,r}(t.BaseFactory);t.PixiFactory=n}(r||(r={}));var n;!function(t){var e;!function(t){var e;!function(t){var e=function(){function e(){this._bindings=[],this._prevParams=null,this.memorize=!1,this._shouldPropagate=!0,this.active=!0}return e.prototype.validateListener=function(t,e){if("function"!=typeof t)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))},e.prototype._registerListener=function(e,n,i,r){var o,a=this._indexOfListener(e,i);if(a!==-1){if(o=this._bindings[a],o.isOnce()!==n)throw new Error("You cannot add"+(n?"":"Once")+"() then add"+(n?"Once":"")+"() the same listener without removing the relationship first.")}else o=new t.SignalBinding(this,e,n,i,r),this._addBinding(o);return this.memorize&&this._prevParams&&o.execute(this._prevParams),o},e.prototype._addBinding=function(t){var e=this._bindings.length;do--e;while(this._bindings[e]&&t.priority<=this._bindings[e].priority);this._bindings.splice(e+1,0,t)},e.prototype._indexOfListener=function(t,e){for(var n,i=this._bindings.length;i--;)if(n=this._bindings[i],n.getListener()===t&&n.context===e)return i;return-1},e.prototype.has=function(t,e){return void 0===e&&(e=null),this._indexOfListener(t,e)!==-1},e.prototype.add=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=0),this.validateListener(t,"add"),this._registerListener(t,!1,e,n)},e.prototype.addOnce=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=0),this.validateListener(t,"addOnce"),this._registerListener(t,!0,e,n)},e.prototype.remove=function(t,e){void 0===e&&(e=null),this.validateListener(t,"remove");var n=this._indexOfListener(t,e);return n!==-1&&(this._bindings[n]._destroy(),this._bindings.splice(n,1)),t},e.prototype.removeAll=function(){for(var t=this._bindings.length;t--;)this._bindings[t]._destroy();this._bindings.length=0},e.prototype.getNumListeners=function(){return this._bindings.length},e.prototype.halt=function(){this._shouldPropagate=!1},e.prototype.dispatch=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.active){var n,i=this._bindings.length;if(this.memorize&&(this._prevParams=t),i){n=this._bindings.slice(0),this._shouldPropagate=!0;do i--;while(n[i]&&this._shouldPropagate&&n[i].execute(t)!==!1)}}},e.prototype.forget=function(){this._prevParams=null},e.prototype.dispose=function(){this.removeAll(),delete this._bindings,delete this._prevParams},e.prototype.toString=function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"},e.VERSION="1.0.0",e}();t.Signal=e}(e=t.Signal||(t.Signal={}))}(e=t.Core||(t.Core={}))}(n||(n={}));var n;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(t,e,n,i,r){void 0===r&&(r=0),this.active=!0,this.params=null,this._listener=e,this._isOnce=n,this.context=i,this._signal=t,this.priority=r||0}return t.prototype.execute=function(t){var e,n;return this.active&&this._listener&&(n=this.params?this.params.concat(t):t,e=this._listener.apply(this.context,n),this._isOnce&&this.detach()),e},t.prototype.detach=function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},t.prototype.isBound=function(){return!!this._signal&&!!this._listener},t.prototype.isOnce=function(){return this._isOnce},t.prototype.getListener=function(){return this._listener},t.prototype.getSignal=function(){return this._signal},t.prototype._destroy=function(){delete this._signal,delete this._listener,delete this.context},t.prototype.toString=function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"},t}();t.SignalBinding=e}(e=t.Signal||(t.Signal={}))}(e=t.Core||(t.Core={}))}(n||(n={}));var n;!function(t){var e;!function(t){"use strict";var e=function(){function t(){}return t.OPTIONS_DEALER_ON_SOFT_HITS_17="fcd6a0d6",t.OPTIONS_INSURANCE="ded6a0d6",t.OPTIONS_REPEAT_BET_LAST="c1e6a0d6",t.OPTIONS_DECK_ID="a2e6a0d6",t.OPTIONS_AUTO_ADVICE="b3e6a0d6",t.MUTE_SOUNDS="a7e6a0d6",t.PROGRESS_DATA="a9f6a0d6",t.PROGRESS_DATA_DECEPTION="bbf6a0d6",t.PANEL_ADVICE="bcf6a0d6",t.STORE_PARAMETER="def6a0d6",t.STORE_PARAMETER_MARK="eff6a0d6",t}();t.StorageManagerConstants=e}(e=t.Core||(t.Core={}))}(n||(n={}));var n,o=function(){function t(){}return t.fcd6a0d6="1",t.ded6a0d6="1",t.c1e6a0d6="1",t.a2e6a0d6="1",t.b3e6a0d6="0",t.a7e6a0d6="0",t.a9f6a0d6="",t.bbf6a0d6="",t.bcf6a0d6="1",t.def6a0d6="",t.eff6a0d6="",t}();!function(t){var e;!function(t){"use strict";var e=function(){function t(){try{localStorage.getItem("1"),this._allowLocalStorage=!0}catch(t){this._allowLocalStorage=!1}this._gameID=""}return t.prototype.initialize=function(t){this._gameID=t},t.prototype.loadData=function(t){var e;return e=this._allowLocalStorage?localStorage.getItem(t):o[t],e?(e.match(/^{.*}$/g)||e.match(/^['"].*['"]$/g)||(e='"'+e+'"'),JSON.parse(e)):null},t.prototype.saveData=function(t,e){return e=JSON.stringify(e),this._allowLocalStorage?localStorage.setItem(t,e):o[t]=e,!0},t.prototype.removeData=function(t){return this._allowLocalStorage?localStorage.removeItem(t):o[t]=null,!0},t}();t.StorageManager=e}(e=t.Core||(t.Core={}))}(n||(n={}));var n;!function(t){var e;!function(t){var e=function(){function t(){this._seed=0,this._currentSeed=0}return t.prototype.getSeed=function(){return this._seed},t.prototype.setSeed=function(t){this._seed=this._currentSeed=Math.round(t)},t.prototype.getCurrentSeed=function(){return this._currentSeed},t.prototype.initialize=function(t){var e;if(null==t){do e=Math.round(16777215*Math.random());while(e==this.getCurrentSeed());this.setSeed(e)}else this.setSeed(t)},t.prototype.random=function(){this._currentSeed=16807*this._currentSeed%2147483647;var t=this._currentSeed/2147483647+2.33e-10;return t},t.prototype.float=function(t,e){null==e&&(e=t,t=0);var n=this.random()*(e-t)+t;return n},t.prototype.boolean=function(t){null==t&&(t=.5);var e=this.random()<t;return e},t.prototype.sign=function(t){null==t&&(t=.5);var e=this.random()<t?1:-1;return e},t.prototype.bit=function(t){null==t&&(t=.5);var e=this.random()<t?1:0;return e},t.prototype.integer=function(t,e){null==e&&(e=t,t=0);var n=Math.floor(this.float(t,e));return n},t.prototype.reset=function(){this._seed=this._currentSeed},t}();t.Rndm=e}(e=t.Core||(t.Core={}))}(n||(n={}));var n;!function(t){var n;!function(n){var i;!function(n){var i=t.Core.Signal.Signal,r=function(){function t(){this._textByKey=[],this.signal=new i}return t.prototype.initialize=function(t,n){void 0===n&&(n="en-US"),this._locale=n;var i=t+"build/resources/assets/texts/"+n+".txt";e.loader.add(n,i),e.loader.once("complete",this.handleLoadingComplete,this)},t.prototype.handleLoadingComplete=function(t,e){if(e[this._locale]){var n=e[this._locale].data;this.parseTexts(n),this.signal.dispatch("complete")}},t.prototype.getText=function(t){return this._textByKey[t]||t},t.prototype.parseTexts=function(t){for(var e,n,i,r,o=t.split("\n"),a=0;a<o.length;++a)if(i=o[a].trim(),0!==i.indexOf(";")){if(r=i.indexOf("="),0===r){console.error("LocalizationManager.setLocale: no key, invalid localized text line <"+i+">");continue}r!==-1&&(e=i.substr(0,r).trim(),n=r-1<i.length?i.substr(r+1,i.length-r).trim():"",this._textByKey[e]=n)}},t.prototype.destroy=function(){this.signal.removeAll(),this.signal=null,this._textByKey=null},t}();n.LocalizationManager=r}(i=n.utils||(n.utils={}))}(n=t.Core||(t.Core={}))}(n||(n={}));var n;!function(t){var e;!function(t){var e=function(){function t(){}return t.prototype.replace=function(t,e,n){return t.split(e).join(n)},t.prototype.replaceAllOccurrences=function(t,e,n){var i=new RegExp(e,"gi");return t=t.replace(i,n)},t.prototype.checkBreakLine=function(t){for(;t.indexOf("%BREAK_LINE%")!=-1;)t=t.replace("::","\n");return t},t.prototype.number2StringWithSeparator=function(t,e,n,i){void 0===e&&(e=!1),void 0===n&&(n=","),void 0===i&&(i=".");var r=t.toString().split("."),o=r[0];parseInt(r[1])>99&&(r[1]=Math.floor(parseInt(r[1].substr(0,2))));var a=r.length>1?i+r[1]:"";e?(""==a&&(a=i+"00"),a.length>0&&a.length<3&&(a+="0")):a="";for(var s=/(\d+)(\d{3})/;s.test(o);)o=o.replace(s,"$1"+n+"$2");return o+a},t.prototype.convertNumberToKM=function(t){var e=t.toString(),n=Math.floor(t/1e6);return n>0?e=n+"M":(n=Math.floor(t/1e3),n>0&&(e=n+"K")),e},t}();t.StringUtils=e}(e=t.Core||(t.Core={}))}(n||(n={}));var n;!function(t){var e;!function(e){var n;!function(e){e.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){var e,n=.1,i=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=i/4):e=i*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)))},Out:function(t){var e,n=.1,i=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=i/4):e=i*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/i)+1)},InOut:function(t){var e,n=.1,i=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=i/4):e=i*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?-.5*(n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)):n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*.5+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(e){return 1-t.Core.Tween.Easing.Bounce.Out(1-e)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(e){return e<.5?.5*t.Core.Tween.Easing.Bounce.In(2*e):.5*t.Core.Tween.Easing.Bounce.Out(2*e-1)+.5}}}}(n=e.Tween||(e.Tween={}))}(e=t.Core||(t.Core={}))}(n||(n={}));var n;!function(t){var e;!function(e){var n;!function(e){e.Interpolation={Linear:function(e,n){var i=e.length-1,r=i*n,o=Math.floor(r),a=t.Core.Tween.Interpolation.Utils.Linear;return n<0?a(e[0],e[1],r):n>1?a(e[i],e[i-1],i-r):a(e[o],e[o+1>i?i:o+1],r-o)},Bezier:function(e,n){var i,r=0,o=e.length-1,a=Math.pow,s=t.Core.Tween.Interpolation.Utils.Bernstein;for(i=0;i<=o;i++)r+=a(1-n,o-i)*a(n,i)*e[i]*s(o,i);return r},CatmullRom:function(e,n){var i=e.length-1,r=i*n,o=Math.floor(r),a=t.Core.Tween.Interpolation.Utils.CatmullRom;return e[0]===e[i]?(n<0&&(o=Math.floor(r=i*(1+n))),a(e[(o-1+i)%i],e[o],e[(o+1)%i],e[(o+2)%i],r-o)):n<0?e[0]-(a(e[0],e[0],e[1],e[1],-r)-e[0]):n>1?e[i]-(a(e[i],e[i],e[i-1],e[i-1],r-i)-e[i]):a(e[o?o-1:0],e[o],e[i<o+1?i:o+1],e[i<o+2?i:o+2],r-o)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(e,n){var i=t.Core.Tween.Interpolation.Utils.Factorial;return i(e)/i(n)/i(e-n)},Factorial:function(){var t=[1];return function(e){var n,i=1;if(t[e])return t[e];for(n=e;n>1;n--)i*=n;return t[e]=i}}(),CatmullRom:function(t,e,n,i,r){var o=.5*(n-t),a=.5*(i-e),s=r*r,l=r*s;return(2*e-2*n+o+a)*l+(-3*e+3*n-2*o-a)*s+o*r+e}}}}(n=e.Tween||(e.Tween={}))}(e=t.Core||(t.Core={}))}(n||(n={}));var n;!function(t){var e;!function(e){var n;!function(e){var n=function(){function e(e){this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=t.Core.Tween.Easing.Linear.None,this._interpolationFunction=t.Core.Tween.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._object=e;for(var n in e)this._valuesStart[n]=parseFloat(e[n],10)}return e.getAll=function(){return this._tweens},e.removeAll=function(){this._tweens=[]},e.add=function(t){this._tweens.push(t)},e.remove=function(t){var e=this._tweens.indexOf(t);e!==-1&&this._tweens.splice(e,1)},e.update=function(t){if(0===this._tweens.length)return!1;var e=0;for(t=void 0!==t?t:window.performance.now();e<this._tweens.length;)this._tweens[e].update(t)?e++:this._tweens.splice(e,1);return!0},e.prototype.to=function(t,e){return void 0!==e&&(this._duration=e),this._valuesEnd=t,this},e.prototype.start=function(t){e.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==t?t:window.performance.now(),this._startTime+=this._delayTime;for(var n in this._valuesEnd){if(this._valuesEnd[n]instanceof Array){if(0===this._valuesEnd[n].length)continue;this._valuesEnd[n]=[this._object[n]].concat(this._valuesEnd[n])}this._valuesStart[n]=this._object[n],this._valuesStart[n]instanceof Array==!1&&(this._valuesStart[n]*=1),this._valuesStartRepeat[n]=this._valuesStart[n]||0}return this},e.prototype.stop=function(){return this._isPlaying?(e.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback.call(this._object),this.stopChainedTweens(),this):this},e.prototype.stopChainedTweens=function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop()},e.prototype.delay=function(t){return this._delayTime=t,this},e.prototype.repeat=function(t){return this._repeat=t,this},e.prototype.yoyo=function(t){return this._yoyo=t,this},e.prototype.easing=function(t){return this._easingFunction=t,this},e.prototype.interpolation=function(t){return this._interpolationFunction=t,this},e.prototype.chain=function(){return this._chainedTweens=arguments,this},e.prototype.onStart=function(t){return this._onStartCallback=t,this},e.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},e.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},e.prototype.onStop=function(t){return this._onStopCallback=t,this},e.prototype.update=function(t){var e;if(t<this._startTime)return!0;this._onStartCallbackFired===!1&&(null!==this._onStartCallback&&this._onStartCallback.call(this._object),this._onStartCallbackFired=!0);var n=(t-this._startTime)/this._duration;n=n>1?1:n;var i=this._easingFunction(n);for(e in this._valuesEnd){var r=this._valuesStart[e]||0,o=this._valuesEnd[e];o instanceof Array?this._object[e]=this._interpolationFunction(o,i):("string"==typeof o&&(o=r+parseFloat(o,10)),"number"==typeof o&&(this._object[e]=r+(o-r)*i))}if(null!==this._onUpdateCallback&&this._onUpdateCallback.call(this._object,i),1==n){if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(e in this._valuesStartRepeat){if("string"==typeof this._valuesEnd[e]&&(this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e],10)),this._yoyo){var a=this._valuesStartRepeat[e];this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=a}this._valuesStart[e]=this._valuesStartRepeat[e]}return this._yoyo&&(this._reversed=!this._reversed),this._startTime=t+this._delayTime,!0}null!==this._onCompleteCallback&&this._onCompleteCallback.call(this._object);for(var s=0,l=this._chainedTweens.length;s<l;s++)this._chainedTweens[s].start(t);return!1}return!0},e._tweens=[],e}();e.Tween=n}(n=e.Tween||(e.Tween={}))}(e=t.Core||(t.Core={}))}(n||(n={}));var n;!function(t){var e;!function(t){var e=function(){function t(e){return e instanceof t?e:this instanceof t?void(this._wrapped=e):new t(e)}return t.optimizeCb=function(t,e,n){if(void 0===n&&(n=null),void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},t.identity=function(t){return t},t.isFunction=function(e){return t.isObject(e)&&"[object Function]"==Object.prototype.toString.call(e)},t.isObject=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)},t.createAssigner=function(t,e){return void 0===e&&(e=null),function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],a=t(o),s=a.length,l=0;l<s;l++){var u=a[l];e&&void 0!==n[u]||(n[u]=o[u])}return n}},t.matcher=function(e){return e=t.extendOwn({},e),function(n){return t.isMatch(n,e)}},t.cb=function(e,n,i){return void 0===i&&(i=null),null==e?t.identity:t.isFunction(e)?t.optimizeCb(e,n,i):t.isObject(e)?t.matcher(e):t.property(e)},t.property=function(t){return function(e){return null==e?void 0:e[t]}},t.isArrayLike=function(e){var n=t.getLength(e);return"number"==typeof n&&n>=0&&n<=t.MAXUnderscoreARRAYUnderscoreINDEX},t.createPredicateIndexFinder=function(e){return function(n,i,r){i=t.cb(i,r);for(var o=t.getLength(n),a=e>0?0:o-1;a>=0&&a<o;a+=e)if(i(n[a],a,n))return a;return-1}},t.sortedIndex=function(e,n,i,r){i=t.cb(i,r,1);for(var o=i(n),a=0,s=t.getLength(e);a<s;){var l=Math.floor((a+s)/2);i(e[l])<o?a=l+1:s=l}return a},t.isNaN=function(e){return t.isNumber(e)&&e!==+e},t.isNumber=function(t){return"[object Number]"===toString.call(t)},t.values=function(e){for(var n=t.keys(e),i=n.length,r=Array(i),o=0;o<i;o++)r[o]=e[n[o]];return r},t.createIndexFinder=function(e,n,i){return function(r,o,a){var s=0,l=t.getLength(r);if("number"==typeof a)e>0?s=a>=0?a:Math.max(a+l,s):l=a>=0?Math.min(a+1,l):a+l+1;else if(i&&a&&l)return a=i(r,o),r[a]===o?a:-1;if(o!==o)return a=n(t.slice.call(r,s,l),t.isNaN),a>=0?a+s:-1;for(a=e>0?s:l-1;a>=0&&a<l;a+=e)if(r[a]===o)return a;return-1}},t.contains=function(e,n,i,r){return void 0===i&&(i=null),void 0===r&&(r=null),t.isArrayLike(e)||(e=t.values(e)),("number"!=typeof i||r)&&(i=0),t.indexOf(e,n,i)>=0},t.collectNonEnumProps=function(e,n){var i=t.nonEnumerableProps.length,r=e.constructor,o=t.isFunction(r)&&r.prototype||t.ObjProto,a="constructor";for(t.has(e,a)&&!t.contains(n,a)&&n.push(a);i--;)a=t.nonEnumerableProps[i],a in e&&e[a]!==o[a]&&!t.contains(n,a)&&n.push(a)},t.keys=function(e){if(!t.isObject(e))return[];if(t.nativeKeys)return t.nativeKeys(e);var n=[];for(var i in e)t.has(e,i)&&n.push(i);return t.hasEnumBug&&t.collectNonEnumProps(e,n),n},t.each=function(e,n,i){n=t.optimizeCb(n,i);var r,o;if(t.isArrayLike(e))for(r=0,o=e.length;r<o;r++)n(e[r],r,e);else{var a=t.keys(e);for(r=0,o=a.length;r<o;r++)n(e[a[r]],a[r],e)}return e},t.map=function(e,n,i){void 0===i&&(i=null),n=t.cb(n,i);for(var r=!t.isArrayLike(e)&&t.keys(e),o=(r||e).length,a=Array(o),s=0;s<o;s++){var l=r?r[s]:s;a[s]=n(e[l],l,e)}return a},t.rest=function(e,n,i){return void 0===i&&(i=null),t.slice.call(e,null==n||i?1:n)},t.allKeys=function(e){if(!t.isObject(e))return[];var n=[];for(var i in e)n.push(i);return t.hasEnumBug&&t.collectNonEnumProps(e,n),n},t.isArguments=function(e){return"[object Arguments]"===t.toString.call(e)},t.flatten=function(e,n,i,r){void 0===r&&(r=null);
for(var o=[],a=0,s=r||0,l=t.getLength(e);s<l;s++){var u=e[s];if(t.isArrayLike(u)&&(t.isArray(u)||t.isArguments(u))){n||(u=t.flatten(u,n,i));var h=0,c=u.length;for(o.length+=c;h<c;)o[a++]=u[h++]}else i||(o[a++]=u)}return o},t.pick=function(e,n,i){void 0===i&&(i=null);var r,o,a={},s=e;if(null==s)return a;t.isFunction(n)?(o=t.allKeys(s),r=t.optimizeCb(n,i)):(o=t.flatten(arguments,!1,!1,1),r=function(t,e,n){return e in n},s=Object(s));for(var l=0,u=o.length;l<u;l++){var h=o[l],c=s[h];r(c,h,s)&&(a[h]=c)}return a},t.omit=function(e,n,i){if(void 0===i&&(i=null),t.isFunction(n))n=t.negate(n);else{var r=t.map(t.flatten(arguments,!1,!1,1),String);n=function(e,n){return!t.contains(r,n)}}return t.pick(e,n,i)},t.clone=function(e){return t.isObject(e)?t.isArray(e)?e.slice():t.extend({},e):e},t.all=function(e,n,i){void 0===i&&(i=null),n=t.cb(n,i);for(var r=!t.isArrayLike(e)&&t.keys(e),o=(r||e).length,a=0;a<o;a++){var s=r?r[a]:a;if(!n(e[s],s,e))return!1}return!0},t.eq=function(e,n,i,r){if(void 0===i&&(i=null),void 0===r&&(r=null),e===n)return 0!==e||1/e===1/n;if(null==e||null==n)return e===n;e instanceof t&&(e=e._wrapped),n instanceof t&&(n=n._wrapped);var o={}.toString.call(e),a={}.toString.call(n);if(o!==a)return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!==+e?+n!==+n:0===+e?1/+e===1/n:+e===+n;case"[object Date]":case"[object Boolean]":return+e===+n}var s="[object Array]"===o;if(!s){if("object"!=typeof e||"object"!=typeof n)return!1;var l=e.constructor,u=n.constructor;if(l!==u&&!(t.isFunction(l)&&l instanceof l&&t.isFunction(u)&&u instanceof u)&&"constructor"in e&&"constructor"in n)return!1}i=i||[],r=r||[];for(var h=i.length;h--;)if(i[h]===e)return r[h]===n;if(i.push(e),r.push(n),s){if(h=e.length,h!==n.length)return!1;for(;h--;)if(!t.eq(e[h],n[h],i,r))return!1}else{var c,d=t.keys(e);if(h=d.length,t.keys(n).length!==h)return!1;for(;h--;)if(c=d[h],!t.has(n,c)||!t.eq(e[c],n[c],i,r))return!1}return i.pop(),r.pop(),!0},t.isEqual=function(e,n){return t.eq(e,n)},t.ArrayProto=Array.prototype,t.ObjProto=Object.prototype,t.FuncProto=Function.prototype,t.push=t.ArrayProto.push,t.slice=t.ArrayProto.slice,t.toString=t.ObjProto.toString,t.hasOwnProperty=t.ObjProto.hasOwnProperty,t.nativeIsArray=Array.isArray,t.nativeKeys=Object.keys,t.nativeBind=t.FuncProto.bind,t.nativeCreate=Object.create,t.extendOwn=t.createAssigner(t.keys),t.extend=t.createAssigner(t.allKeys),t.isMatch=function(e,n){var i=t.keys(n),r=i.length;if(null==e)return!r;for(var o=Object(e),a=0;a<r;a++){var s=i[a];if(n[s]!==o[s]||!(s in o))return!1}return!0},t.MAXUnderscoreARRAYUnderscoreINDEX=Math.pow(2,53)-1,t.getLength=t.property("length"),t.findIndex=t.createPredicateIndexFinder(1),t.findLastIndex=t.createPredicateIndexFinder(-1),t.hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),t.nonEnumerableProps=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],t.indexOf=t.createIndexFinder(1,t.findIndex,t.sortedIndex),t.has=function(e,n){return null!=e&&t.hasOwnProperty.call(e,n)},t.isArray=t.nativeIsArray||function(t){return"[object Array]"===toString.call(t)},t.negate=function(t){return function(){return!t.apply(this,arguments)}},t.every=t.all,t}();t.Underscore=e}(e=t.Core||(t.Core={}))}(n||(n={}));var n;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(t){void 0===t&&(t=[]),this._elements=t}return t.prototype.Add=function(t){this._elements.push(t)},t.prototype.AddRange=function(t){var e;(e=this._elements).push.apply(e,t)},t.prototype.Aggregate=function(t,e){return this._elements.reduce(t,e)},t.prototype.All=function(t){return this._elements.every(t)},t.prototype.Any=function(t){return this._elements.some(t)},t.prototype.Average=function(t){return this.Sum(t)/this.Count(t)},t.prototype.Concat=function(e){return new t(this._elements.concat(e.ToArray()))},t.prototype.Contains=function(t){return this._elements.some(function(e){return e===t})},t.prototype.Count=function(t){return t?this.Where(t).Count():this._elements.length},t.prototype.DefaultIfEmpty=function(e){return this.Count()?this:new t([e])},t.prototype.Distinct=function(){return this.Where(function(t,e,n){return n.indexOf(t)===e})},t.prototype.ElementAt=function(t){return this._elements[t]},t.prototype.ElementAtOrDefault=function(t){return this.ElementAt(t)||void 0},t.prototype.Except=function(t){return this.Where(function(e){return!t.Contains(e)})},t.prototype.First=function(t){return t?this.Where(t).First():this._elements[0]},t.prototype.FirstOrDefault=function(t){return this.Count()?this.First(t):void 0},t.prototype.ForEach=function(t){return this._elements.forEach(t)},t.prototype.GroupBy=function(t,e){return this.Aggregate(function(n,i){return n[t(i)]?n[t(i)].push(e(i)):n[t(i)]=[e(i)],n},{})},t.prototype.GroupJoin=function(t,e,n,i){return this.Select(function(r,o){return i(r,t.Where(function(t){return e(r)===n(t)}))})},t.prototype.IndexOf=function(t){return this._elements.indexOf(t)},t.prototype.Insert=function(t,e){if(t<0||t>this._elements.length)throw new TypeError("Index is out of range.");this._elements.splice(t,0,e)},t.prototype.Intersect=function(t){return this.Where(function(e){return t.Contains(e)})},t.prototype.Join=function(t,e,n,i){return this.SelectMany(function(r){return t.Where(function(t){return n(t)===e(r)}).Select(function(t){return i(r,t)})})},t.prototype.Last=function(t){return t?this.Where(t).Last():this._elements[this.Count()-1]},t.prototype.LastOrDefault=function(t){return this.Count()?this.Last(t):void 0},t.prototype.Max=function(){return this.Aggregate(function(t,e){return t>e?t:e})},t.prototype.Min=function(){return this.Aggregate(function(t,e){return t<e?t:e})},t.prototype.OrderBy=function(t){return new r(this._elements,n.ComparerForKey(t,!1))},t.prototype.OrderByDescending=function(t){return new r(this._elements,n.ComparerForKey(t,!0))},t.prototype.ThenBy=function(t){return this.OrderBy(t)},t.prototype.ThenByDescending=function(t){return this.OrderByDescending(t)},t.prototype.Remove=function(t){return this.IndexOf(t)!==-1&&(this.RemoveAt(this.IndexOf(t)),!0)},t.prototype.RemoveAll=function(t){return this.Where(this._negate(t))},t.prototype.RemoveAt=function(t){this._elements.splice(t,1)},t.prototype.Reverse=function(){return new t(this._elements.reverse())},t.prototype.Select=function(e){return new t(this._elements.map(e))},t.prototype.SelectMany=function(e){var n=this;return this.Aggregate(function(t,i,r){return t.AddRange(n.Select(e).ElementAt(r).ToArray()),t},new t)},t.prototype.SequenceEqual=function(t){return!!this._elements.reduce(function(e,n,i){return t._elements[i]===n?e:void 0})},t.prototype.Single=function(){if(1!==this.Count())throw new TypeError("The collection does not contain exactly one element.");return this.First()},t.prototype.SingleOrDefault=function(){return this.Count()?this.Single():void 0},t.prototype.Skip=function(e){return new t(this._elements.slice(Math.max(0,e)))},t.prototype.SkipWhile=function(t){var e=this;return this.Skip(this.Aggregate(function(n,i){return t(e.ElementAt(n))?++n:n},0))},t.prototype.Sum=function(t){return t?this.Select(t).Sum():this.Aggregate(function(t,e){return t+=+e},0)},t.prototype.Take=function(e){return new t(this._elements.slice(0,Math.max(0,e)))},t.prototype.TakeWhile=function(t){var e=this;return this.Take(this.Aggregate(function(n,i){return t(e.ElementAt(n))?++n:n},0))},t.prototype.ToArray=function(){return this._elements},t.prototype.ToDictionary=function(t,e){var n=this;return this.Aggregate(function(i,r,o){return i[n.Select(t).ElementAt(o)]=e?n.Select(e).ElementAt(o):r,i},{})},t.prototype.ToList=function(){return this},t.prototype.ToLookup=function(t,e){return this.GroupBy(t,e)},t.prototype.Union=function(t){return this.Concat(t).Distinct()},t.prototype.Where=function(e){return new t(this._elements.filter(e))},t.prototype.Zip=function(t,e){var n=this;return t.Count()<this.Count()?t.Select(function(t,i){return e(n.ElementAt(i),t)}):this.Select(function(n,i){return e(n,t.ElementAt(i))})},t.prototype._negate=function(t){return function(){return!t.apply(this,arguments)}},t}();t.List=e;var n=function(){function t(){}return t.ComparerForKey=function(e,n){return function(i,r){return t.Compare(i,r,e,n)}},t.Compare=function(t,e,n,i){var r=n(t),o=n(e);return r>o?i?-1:1:r<o?i?1:-1:0},t.ComposeComparers=function(t,e){return function(n,i){var r=t(n,i);return r?r:e(n,i)}},t}(),r=function(t){function e(e,n){var i=t.call(this,e)||this;return i._comparer=n,i._elements.sort(i._comparer),i}return i(e,t),e.prototype.ThenBy=function(t){return new e(this._elements,n.ComposeComparers(this._comparer,n.ComparerForKey(t,!1)))},e.prototype.ThenByDescending=function(t){return new e(this._elements,n.ComposeComparers(this._comparer,n.ComparerForKey(t,!0)))},e}(e),o=function(){function t(){}return t.Range=function(t,n){for(var i=new e;n--;)i.Add(t++);return i},t.Repeat=function(t,n){for(var i=new e;n--;)i.Add(t);return i},t}();t.Enumerable=o}(e=t.Linq||(t.Linq={}))}(e=t.Core||(t.Core={}))}(n||(n={}));var n;!function(t){var e;!function(e){var n=t.Core.Underscore,i=function(){function e(){this.factories={},this.cache={}}return e.prototype.pub=function(t,e){this.factories[t]=e},e.prototype.unpub=function(t){delete this.factories[t],delete this.cache[t]},e.prototype.get=function(e,i,r){var o=this;void 0===i&&(i={}),void 0===r&&(r=null);var a=this.factories[e];return a||(n.each(t,function(t,n){n==e&&t.factory&&t.factory&&(a?console.error("IOC factory's dublicate for '"+e+"'"):a=t.factory)},this),n.each(t.Game,function(t,n){n==e&&t.factory&&t.factory&&(a?console.error("IOC factory's dublicate for '"+e+"'"):a=t.factory)},this),this.pub(e,a),a=this.factories[e])?Array.isArray(a.dependency)?this.cache[e]&&(null==r||a.singleton)?this.cache[e]:(this.cache[e]=a.get.apply({},n.map(a.dependency,function(t){return"Options"==t?r:i[t]||o.cache[t]||o.get(t,i,null)})),this.cache[e]._dependenciesContainer=this.factories.DependenciesContainer.call({}),this.factories.AssetScale&&(this.cache[e]._assetScale=this.factories.AssetScale.call({})),this.cache[e]):this.cache[e]=a.call({}):(console.error("IOC can't find factory for '"+e+"'"),!1)},e.prototype.flush=function(t){delete this.cache[t]},e}();e.CompactIOC=i}(e=t.Core||(t.Core={}))}(n||(n={}));var n;!function(t){var e;!function(t){var e=function(){function e(){this.ioc=new t.CompactIOC,this.singleton("DependenciesContainer",this)}return e.prototype.register=function(t,e){return this.ioc.pub(t,e.factory)},e.prototype.singleton=function(t,e){return this.ioc.pub(t,function(){return e})},e.prototype.get=function(t,e){void 0===e&&(e=null);var n=this.ioc.get(t,{},e);return n},e.prototype.bootstrap=function(t){t.jquery={$:t.$};for(var e=Object.keys(t),n=0,i=e.length;n<i;n++){var r=e[n];this.singleton(r,t[r])}},e.prototype.registerScripts=function(t){for(var e=t.keys(),n=0,i=e.length;n<i;n++){var r=e[n],o=r.replace(/^\.\/[A-z]+\//,""),a=t(r);this.register(o,a)}},e.prototype.registerTemplates=function(t){for(var e=t.keys(),n=0,i=e.length;n<i;n++){var r=e[n];this.singleton(r.substring(2),t(r))}},e}();t.DependenciesContainer=e}(e=t.Core||(t.Core={}))}(n||(n={}));var n;!function(t){var e;!function(e){var n=t.Core.Signal.Signal,i=function(){function t(t,e){this.handler=t,this.context=e}return t.prototype.apply=function(t){this.handler.call(this.context,t)},t}();e.HandlerContainer=i;var r=function(){function t(){this._handlers=[],this._handlers=[],this._signal=new n,this._signal.add(this.handleEvents,this)}return t.prototype.add=function(t,e,n,r){this._handlers=this._handlers||[],this._handlers[e]=this._handlers[e]||[],this._handlers[e][t]=this._handlers[e][t]||[];for(var o=this._handlers[e][t],a=o.length,s=0;s<a;s++){var l=o[s];if(l.handler==n&&l.context==r)return}this._handlers[e][t][a]=new i(n,r)},t.prototype.handleEvents=function(t,e,n){var i=this._handlers[e];if(null!=i&&void 0!=i){var r=this._handlers[e][t];if(null!=r&&void 0!=r)for(var o=r.length,a=0;a<o;a++){var s=r[a],l={type:t,data:n};s.apply(l)}}},t.prototype.dispatch=function(t,e,n){this._signal.dispatch(t,e,n)},t.prototype.remove=function(t,e,n,i){var r=this._handlers[e];if(null!=r&&void 0!=r){var o=this._handlers[e][t];if(null!=o&&void 0!=o)for(var a=o.length,s=0;s<a;s++){var l=o[s];if(l.handler==n&&l.context==i)return void o.splice(s,1)}}},t.prototype.destroy=function(){this._signal.removeAll(),this._handlers=null},t}();e.EventBus=r}(e=t.Core||(t.Core={}))}(n||(n={}));var n;!function(t){var e;!function(e){var n=t.Core.Signal.Signal,i=function(){function t(t,e,i){function r(t){var e="visible",n="hidden",i={focus:e,focusin:e,pageshow:e,blur:n,focusout:n,pagehide:n};t=t||window.event,t.type in i?"hidden"==i[t.type]?o.mute2(!0):o.mute2(o._mute):document[a]?o.mute2(!0):o.mute2(o._mute)}this._pending=0,this._queuePackIds=[],this._cdnUrl=i,this._howl=t,this._config=e,this.signal=new n,this._list={},this._mute=!1;var o=this,a="hidden";"undefined"!=typeof document.mozHidden?(a="mozHidden",document.addEventListener("mozvisibilitychange",r)):"undefined"!=typeof document.webkitHidden?(a="webkitHidden",document.addEventListener("webkitvisibilitychange",r)):"undefined"!=typeof document.msHidden?(a="msHidden",document.addEventListener("msvisibilitychange",r)):"undefined"!=typeof document.hidden?document.addEventListener("visibilitychange",r):"onfocusin"in document&&(document.onfocusin=document.onfocusout=r),window.onpageshow=window.onpagehide=window.onfocus=window.onblur=r,void 0!==document[a]&&r({type:document[a]?"blur":"focus"})}return t.prototype.load=function(t){if(this._pending>0)return void(this._queuePackIds[this._queuePackIds.length]=t);this._packIdInLoading=t;for(var e=this._config[t],n=e,i=n.length,r=0;r<i;r++){var o=n[r];this.loadAudio(o)}},t.prototype.loadAudio=function(t){var e=t.name,n=this._cdnUrl+t.file,i=(t.format,[n]);this._pending++;var r,o=this,a="music"==t.type;r=a?new this._howl({loop:!0,urls:i,onload:function(){r.volume(0),r.stop().play(),o.checkIfPackLoaded()},onend:function(){}}):new this._howl({urls:i,onload:function(){o.checkIfPackLoaded()}}),this._list[e]=r},t.prototype.checkIfPackLoaded=function(){this._pending--,0==this._pending&&(this.signal.dispatch("pack_loaded",{id:this._packIdInLoading}),this._queuePackIds.length>0&&(this._packIdInLoading=null,this.load(this._queuePackIds.shift())))},t.prototype.playSound=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=1),this.play(t,e,n)},t.prototype.play=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=1);var i=this._list[t];if(i){i.volume(n);var r=this.getSndConfig(t);if("music"==r.type)this._mute&&i.volume(0),i.stop().play();else{if(this._mute)return;i.play()}}},t.prototype.stopSound=function(t){this.stop(t)},t.prototype.stop=function(t){var e=this._list[t];e&&e.stop()},t.prototype.mute2=function(t){for(var e=Object.keys(this._list),n=0;n<e.length;n++){var i=this._list[e[n]];i.volume(t?0:1)}},t.prototype.mute=function(t){this._mute=t;for(var e=Object.keys(this._list),n=0;n<e.length;n++){var i=e[n],r=this._list[i];r.volume(t?0:1)}},t.prototype.getSndConfig=function(t){for(var e=Object.keys(this._config),n=e.length,i=0;i<n;i++)for(var r=this._config[e[i]],o=r.length,a=0;a<o;a++)if(r[a].name==t)return r[a]},t.prototype.destroy=function(){this.signal.removeAll(),this.signal=null;for(var t=Object.keys(this._list),e=0;e<t.length;e++){var n=this._list[t[e]];n.unload()}this._list=null,this._queuePackIds=null,this._pending=0},t}();e.Howler1SoundManager=i}(e=t.Core||(t.Core={}))}(n||(n={}));var n;!function(t){var e;!function(t){var e=function(){function t(t,e,n,i){function r(t){var e="visible",n="hidden",i={focus:e,focusin:e,pageshow:e,blur:n,focusout:n,pagehide:n};t=t||window.event,t.type in i?"hidden"==i[t.type]?o.mute2(!0):o.mute2(o._mute):document[a]?o.mute2(!0):o.mute2(o._mute)}void 0===n&&(n=null),this._cdnUrl=i,this._soundConfig=n,this._howlerSound=t,this._howler=e,this._howler.mobileAutoEnable=!1,this._availableResources={},this._sounds={},this._musics={},this._freeSounds=[],this._freeMusics=[];var o=this,a="hidden";"undefined"!=typeof document.mozHidden?(a="mozHidden",document.addEventListener("mozvisibilitychange",r)):"undefined"!=typeof document.webkitHidden?(a="webkitHidden",document.addEventListener("webkitvisibilitychange",r)):"undefined"!=typeof document.msHidden?(a="msHidden",document.addEventListener("msvisibilitychange",r)):"undefined"!=typeof document.hidden?document.addEventListener("visibilitychange",r):"onfocusin"in document&&(document.onfocusin=document.onfocusout=r),window.onpageshow=window.onpagehide=window.onfocus=window.onblur=r,void 0!==document[a]&&r({type:document[a]?"blur":"focus"})}return t.prototype.clampRate=function(t){return t>4?4:t<.5?.5:t},t.prototype._getFileFromSoundName=function(t){return this._availableResources.hasOwnProperty(t)&&this._availableResources[t].file?this._availableResources[t].file:t},t.prototype._storeSoundInArray=function(t,e){return t.push(e),e},t.prototype.getFreeSoundByName=function(t){for(var e=null,n=this._freeSounds.length,i=0;i<n;i++){var r=this._freeSounds[i];if(r.name==t){e=r;break}}return e},t.prototype.stopSound=function(t){var e=this.getFreeSoundByName(t);e&&e.stop()},t.prototype.playSound=function(t,e,n,i){void 0===e&&(e=!1),void 0===n&&(n=1),void 0===i&&(i=1),n*=100;var r=this.getFreeSoundByName(t);if(r)r.play();else{var o=this._getFileFromSoundName(t);n=n||100,r=new this._howlerSound({src:[o],format:["mp3"],loop:e,volume:n/100,rate:this.clampRate(i)}),r.name=t,this._storeSoundInArray(this._freeSounds,r).play()}},t.prototype.playSoundOnChannel=function(t,e,n,i,r){var o=this._sounds[e];o&&o.stop();var a=this._getFileFromSoundName(t),s=new this._howlerSound({src:[a],format:["mp3"],loop:n,volume:i/100,rate:this.clampRate(r)});s.play(),this._sounds[e]=s},t.prototype.getSoundOnChannel=function(t){return this._sounds[t]},t.prototype.playMusic=function(t,e,n,i){var r=this._getFileFromSoundName(t),o=new this._howlerSound({src:[r],format:["mp3"],loop:e,html5:!1,volume:n/100,rate:this.clampRate(i)});this._storeSoundInArray(this._freeMusics,o).play()},t.prototype.playMusicOnChannel=function(t,e,n,i,r){var o=this._musics[e];o&&o.stop();var a=this._getFileFromSoundName(t),s=new this._howlerSound({src:[a],format:["mp3"],loop:n,html5:!0,volume:i/100,rate:this.clampRate(r)});s.play(),this._musics[e]=s},t.prototype.getMusicOnChannel=function(t){return this._musics[t]},t.prototype.setGlobalVolume=function(t){this._howler.volume(t/100)},t.prototype.getGlobalVolume=function(){return 100*this._howler.volume()},t.prototype.clearAll=function(){for(var t=0;t<this._freeSounds.length;++t)this._freeSounds[t]&&this._freeSounds[t].stop();for(var t=0;t<this._freeMusics.length;++t)this._freeMusics[t]&&this._freeMusics[t].stop();this._freeSounds.length=0,this._freeMusics.length=0;for(var e in this._sounds)this._sounds.hasOwnProperty(e)&&this._sounds[e]&&(this._sounds[e].stop(),delete this._sounds[e]);for(var e in this._musics)this._musics.hasOwnProperty(e)&&this._musics[e]&&(this._musics[e].stop(),delete this._musics[e])},t.prototype.preloadAudio=function(t,e,n){for(var i=this._soundConfig[n],r=[],o=0,a=i.length;o<a;++o){var s=i[o];s.file&&(this._availableResources[s.name]=s,s.file=this._cdnUrl+s.file,r.indexOf(s.file)===-1&&r.push(s.file))}if(0===r.length)return e();for(var l=0,u=this,o=0;o<r.length;++o)!function(n){new u._howlerSound({src:[n],format:["mp3"],preload:!0,onload:function(n){return l++,l===r.length?e():void t(l,r.length)},onloaderror:function(t){console.log("error"+t)}})}(r[o])},t.prototype.play=function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!1),this.playSound(t,n,e,1)},t.prototype.mute2=function(t){t?this.setGlobalVolume(0):this.setGlobalVolume(100)},t.prototype.mute=function(t){this._howler.mute(t)},t}();t.Howler2SoundManager=e}(e=t.Core||(t.Core={}))}(n||(n={}));var n;!function(t){var e;!function(e){var n=t.Core.EventBusConstants,i=t.Game.Localization.LocalizationConstants,r=t.Core.StorageManagerConstants,o=function(){function e(t){var e=this;this._dc=t,void 0!=window.ArenaXApi&&null!=window.ArenaXApi&&(this._arenaXapi=window.ArenaXApi.getInstance()),this.testActionCallback=null,this._eventBus=this._dc.get("EventBus"),this._pauseHandler=function(){e.handleMidrollStart()},this._resumeHandler=function(){e.handleMidrollFinish()},this._arenaXapi?(this._arenaXapi.addAction("GAME_PAUSE",this._pauseHandler),this._arenaXapi.addAction("GAME_RESUME",this._resumeHandler)):(window.ARK_game_arena_connector.init(),window.ARK_game_arena_connector.registerAction("pause",this._pauseHandler),window.ARK_game_arena_connector.registerAction("resume",this._resumeHandler))}return e.prototype.addProperEventsListeners=function(){this._eventBus.add(n.GAMEPLAY_GAME_EVENT_CHANGED,n.TOPIC_GAMEPLAY,this.handleEventChange,this),this._eventBus.add(n.GAMEPLAY_GAME_STARTED,n.TOPIC_GAMEPLAY,this.handleGameStart,this),this._eventBus.add(n.GAMEPLAY_GAME_ENDED,n.TOPIC_GAMEPLAY,this.handleGameEnd,this),this._eventBus.add(n.GAMEPLAY_MIDROLL_REQUESTED,n.TOPIC_GAMEPLAY,this.handleMidrollRequest,this)},e.prototype.handleMidrollRequest=function(){this._arenaXapi?this._arenaXapi.dispatch({type:"PAUSE_READY",payload:null}):window.ARK_game_arena_connector.fireEventToArena("pause_ready")},e.prototype.handleMidrollStart=function(){this._eventBus.dispatch(t.Core.EventBusConstants.GAMEPLAY_MIDROLL_STARTED,n.TOPIC_GAMEPLAY)},e.prototype.handleMidrollFinish=function(){this._eventBus.dispatch(t.Core.EventBusConstants.GAMEPLAY_MIDROLL_FINISHED,n.TOPIC_GAMEPLAY)},e.prototype.handleCustomEvent=function(t,e){this._arenaXapi||window.ARK_game_arena_connector.fireEventToArena(t,e)},e.prototype.handleEventChange=function(){this._arenaXapi?this._arenaXapi.dispatch({type:"EVENT_CHANGE",payload:null}):window.ARK_game_arena_connector.fireEventToArena("event_change")},e.prototype.handleGameStart=function(){this._arenaXapi?this._arenaXapi.dispatch({type:"GAME_START",payload:null}):window.ARK_game_arena_connector.fireEventToArena("game_start")},e.prototype.calcHash=function(t){return window.ARK_game_arena_connector?window.ARK_game_arena_connector.calcHash(t):""},e.prototype.changeScore=function(t){window.ARK_game_arena_connector&&window.ARK_game_arena_connector.changeScore(t)},e.prototype.handleGameEnd=function(t){var e=t.data,n=this._dc.get("StorageManager"),i=this.getValue(e.toString()),o=n.loadData(r.STORE_PARAMETER),a=o?o.k:"";e=i===a||1==e?e:0,this._arenaXapi?(this._arenaXapi.dispatch({type:"CHANGE_SCORE",payload:e}),this._arenaXapi.dispatch({type:"GAME_END",payload:null}),n.removeData(r.STORE_PARAMETER)):(window.ARK_game_arena_connector.changeScore(e),window.ARK_game_arena_connector.fireEventToArena("game_end"))},e.prototype.shouldShowInternalGameEnd=function(){if(this._arenaXapi)return!1;var t=window.ARK_game_arena_connector.showGameEnd(),e=1==t;return e},e.prototype.getAbsoluteURL=function(t){return this._arenaXapi?[this._arenaXapi.assetOriginUrl,t].join(""):t},e.prototype.getValue=function(t){return window.ARK_game_arena_connector?window.ARK_game_arena_connector.getValue(t):null},e.prototype.gup=function(t,e){void 0===e&&(e=null),e||(e=location.href),t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+t+"=([^&#]*)",i=new RegExp(n),r=i.exec(e);return null==r?null:r[1]},e.prototype.getLocale=function(){var t=[{value:"en",localization:i.en_US,name:"English"},{value:"de",localization:i.de_DE,name:"Deutsch"},{value:"es",localization:i.es_ES,name:"Español"},{value:"fr",localization:i.fr_FR,name:"Français"},{value:"it",localization:i.it_IT,name:"Italiano"}],e="en-US";e=this._arenaXapi?this._arenaXapi.locale:window.ARK_game_arena_connector.getParam("locale",i.en_US),e=e.split("-")[0];for(var n=i.en_US,r=0;r<t.length;r++)if(t[r].value==(this.gup("ark-lang")||e)){n=t[r].localization;break}return n},e.prototype.initTestingEnvironment=function(){return this._arenaXapi?(this._arenaXapi.addAction("TEST_ACTION",this.processTestAction.bind(this)),void this._arenaXapi.dispatch({type:"TEST_READY",payload:null})):(window.ARK_game_arena_connector.registerAction("test_action",this.processTestAction.bind(this)),void window.ARK_game_arena_connector.initTestingEnvironment())},e.prototype.processTestAction=function(t){for(var e=0;e<t.length;e++){var n=t[e];if("test_object"==n.name){var i=n.value.split(";"),r=i[0];this.testActionCallback&&this.testActionCallback(r);break}}},e.prototype.destroy=function(){this._eventBus.remove(n.GAMEPLAY_GAME_EVENT_CHANGED,n.TOPIC_GAMEPLAY,this.handleEventChange,this),this._eventBus.remove(n.GAMEPLAY_GAME_STARTED,n.TOPIC_GAMEPLAY,this.handleGameStart,this),this._eventBus.remove(n.GAMEPLAY_GAME_ENDED,n.TOPIC_GAMEPLAY,this.handleGameEnd,this),this._eventBus.remove(n.GAMEPLAY_MIDROLL_REQUESTED,n.TOPIC_GAMEPLAY,this.handleMidrollRequest,this),this._arenaXapi&&(this._arenaXapi.removeAction("GAME_PAUSE"),this._arenaXapi.removeAction("GAME_RESUME"),this._arenaXapi.removeAction("TEST_ACTION"))},e}();e.ArenaHelper=o}(e=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var n;!function(t){var n=function(){function t(t,e){this._game=t,this._eventBus=e.get("EventBus"),this._arenaHelper=e.get("ArenaHelper")}return t.prototype.init=function(t,e){this._quitActionHandler=e,this._playActionHandler=t,this._arenaHelper.testActionCallback=this.testArenaCallback.bind(this),this._arenaHelper.initTestingEnvironment()},t.prototype.testArenaCallback=function(t){switch(t){case"game_end":break;case"play_game":this._playActionHandler&&this._playActionHandler();break;case"quit_game":this._quitActionHandler&&this._quitActionHandler(1);break;case"draw_border":var n=this._game.renderer.view.width,i=this._game.renderer.view.height,r=new e.Graphics;r.beginFill(16711680),r.lineStyle(10,65280,1),r.moveTo(0,0),r.lineTo(n,0),r.lineTo(n,i),r.lineTo(0,i),r.lineTo(0,0),r.endFill(),this._game.stage.addChild(r);break;default:this._arenaHelper.handleCustomEvent(t,null)}},t}();t.GameAutoTestingManager=n}(n=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(t){"use strict";var e=function(){function e(){this._impl=null}return e.prototype.init=function(t){this._config=t,this.createImplementation()},e.prototype.createImplementation=function(){this._config.provider===e.Providers.AMPLITUDE&&(this._impl=new t.ImplAmplitude(this._config)),null!==this._impl&&this._impl.init()},e.prototype.logPageview=function(t,e){null!==this._impl&&this._impl.logPageview(t,e)},e.prototype.logEvent=function(t,e){null!==this._impl&&this._impl.logEvent(t,e)},e.Providers={AMPLITUDE:"analyticsProvider.amplitude"},e}();t.AnalyticsManager=e}(e=t.Core||(t.Core={}))}(n||(n={}));var a,n;!function(t){var e;!function(t){"use strict";var e=function(){function t(t){this._appId=t.amplitude.appId}return t.prototype.init=function(){!function(t,e){function n(t){s.prototype[t]=function(){return this._q.push([t].concat(Array.prototype.slice.call(arguments,0))),this}}function i(t){function e(e){t[e]=function(){t._q.push([e].concat(Array.prototype.slice.call(arguments,0)))}}for(var n=0;n<h.length;n++)e(h[n])}var r=t.amplitude||{_q:[]},o=e.createElement("script");o.type="text/javascript",o.async=!0,o.src="https://d24n15hnbwhuhn.cloudfront.net/libs/amplitude-2.9.1-min.gz.js",o.onload=function(){t.amplitude.runQueuedFunctions()};var a=e.getElementsByTagName("script")[0];a.parentNode.insertBefore(o,a);for(var s=function(){return this._q=[],this},l=["add","append","clearAll","prepend","set","setOnce","unset"],u=0;u<l.length;u++)n(l[u]);r.Identify=s;var h=["init","logEvent","logRevenue","setUserId","setUserProperties","setOptOut","setVersionName","setDomain","setDeviceId","setGlobalUserProperties","identify","clearUserProperties"];i(r),t.amplitude=r}(window,document),a.init(this._appId)},t.prototype.logPageview=function(t,e){a.logEvent(t,e)},t.prototype.logEvent=function(t,e){a.logEvent(t,e)},t}();t.ImplAmplitude=e}(e=t.Core||(t.Core={}))}(n||(n={}));var n;!function(t){var n;!function(t){var n=function(){function t(){}return t.getTextureData=function(e,n){null!=n&&void 0!=n||(n="Landscape");var i=t.dragonBonesTexturesDatasDict[n].getTexture(e);return void 0==i.texture&&(i.texture=this._createTexture(i,t.dragonBonesTexturesDatasDict[n].texture)),i},t._createTexture=function(t,n){var i=new e.Rectangle(0,0,t.region.width,t.region.height),r=new e.Rectangle(t.region.x,t.region.y,t.region.width,t.region.height),o=new e.Texture(n,r,r,i,t.rotated?1:0);return o},t.dragonBonesData=null,t.dragonBonesDatasDict={},t.dragonBonesTexturesData=null,t.dragonBonesTexturesDatasDict={},t.DB_OBJECTS_TO_LOAD=[],t.load=function(n,i,o,a){return void 0===o&&(o=null),void 0===a&&(a=null),new Promise(function(s,l){if(e.loader.loading)return new Promise(function(){e.loader.once("complete",function(){t.load(n,s,l)})});var u=!1,h="GAME_SKELETON",c="ATLAS_JSON",d="ATLAS_TEXTURE";e.loader.resources[h]||(u=!0,e.loader.add(h,n+"/assets/images/"+i.toString()+"x/game_ske.json")),e.loader.resources[c]||(u=!0,e.loader.add(c,n+"/assets/images/"+i.toString()+"x/game_tex.json"));var p=!1;return u?(e.loader.once("complete",function(e,n){if(!p){n[d]=n[c+"_image"];for(var i=Object.keys(n),a=i.length,l=0;l<a;l++){var u=i[l],f="Landscape";u==c?!t.dragonBonesTexturesDatasDict[f]&&n[c].data&&n[d].texture&&(t.dragonBonesTexturesDatasDict[f]=r.PixiFactory.factory.parseTextureAtlasData(n[c].data,n[d].texture)):u==d?!t.dragonBonesTexturesDatasDict[f]&&n[c].data&&n[d].texture&&(t.dragonBonesTexturesDatasDict[f]=r.PixiFactory.factory.parseTextureAtlasData(n[c].data,n[d].texture)):u==h&&!t.dragonBonesDatasDict[f]&&n[h].data&&(t.dragonBonesDatasDict[f]=r.PixiFactory.factory.parseDragonBonesData(n[h].data))}o?o():s()}}),e.loader.once("error",function(t,e,n){p=!0,a?a(t):l(t)}),void e.loader.load()):void(o?o():s())})},t}();t.Resources=n}(n=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(e){var n=t.Core.StorageManagerConstants,i=t.Core.EventBusConstants,r=function(){function t(t){this._usedTokens=[],this._unusedTokens=[],this._encryptor=null,this._storage=null,this._encryptor=t.get("Encryptor"),this._storage=t.get("StorageManager");var e=this._storage.loadData(n.STORE_PARAMETER_MARK),r=e?this._encryptor(e):e;this.verifyTokens(r);var o=t.get("EventBus");o.add(i.GAMEPLAY_GAME_FINISHED,i.TOPIC_GAMEPLAY,this.useToken,this)}return t.prototype.getToken=function(){return this._unusedTokens[0]},t.prototype.useToken=function(t){var e=t.data,i=this._unusedTokens,r=!1;this._unusedTokens=[];for(var o=0;o<i.length;o++)e!=i[o]?this._unusedTokens.push(i[o]):(this._usedTokens.push(e),r=!0);if(r){var a=this._encryptor(this._unusedTokens.join(".0|")+(this._unusedTokens.length>0?".0|":"")+this._usedTokens.join(".1|")+".1");this._storage.saveData(n.STORE_PARAMETER_MARK,a)}return r},t.prototype.validateToken=function(t){if(!t)return!1;for(var e=0;e<this._unusedTokens.length;e++)if(this._unusedTokens[e]==t)return!0;return!1},t.prototype.generateToken=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},t.prototype.verifyTokens=function(t){return t&&""!=t&&this.parseTokens(t)?void(0==this._unusedTokens.length&&this.resetTokens()):void this.resetTokens()},t.prototype.verifyToken=function(t){var e=t.split(".");return 1==e.length?void this._usedTokens.push(e[0]):void(parseInt(e[1])?this._usedTokens.push(e[0]):this._unusedTokens.push(e[0]))},t.prototype.parseTokens=function(t){var e=t.split("|");if(1==e.length)return!1;for(var n=0;n<e.length;n++)this.verifyToken(e[n]);return!0},t.prototype.resetTokens=function(){this._usedTokens.length=0,this._unusedTokens.length=0;for(var t=0;t<15;t++)this._unusedTokens.push(this.generateToken());var e=this._encryptor(this._unusedTokens.join(".0|")+".0");this._storage.saveData(n.STORE_PARAMETER_MARK,e)},t}();e.ProtectUtils=r}(e=t.Core||(t.Core={}))}(n||(n={}));var n;!function(t){var n;!function(n){var i=t.Core.Linq.List,o=t.Core.Underscore,a=function(){function t(){}return t}();n.BaseModel=a;var s=function(){function t(){}return t}();n.TextureItem=s;var l=function(){function t(){this.items=new i}return t.prototype.get=function(t){
return this[t]},t}();n.TextureList=l;var u=function(){function t(){}return t}();n.SpriteItem=u;var h=function(){function t(){this.items=new i}return t.prototype.get=function(t){return this[t]},t}();n.SpriteList=h;var c=function(){function t(){}return t}();n.SlotItem=c;var d=function(){function t(){this.items=new i}return t.prototype.get=function(t){return this[t]},t}();n.SlotList=d;var p=function(){function t(t,e){this.name=t,this.res=e}return t.prototype.getResource=function(){return e.loader.resources[this.name]},t.prototype.getTexture=function(){return e.Texture.fromFrame(this.name)},t}();n.ResourceItem=p;var f=function(){function t(){this.items=new i}return t.prototype.get=function(t){return this[t]},t}();n.ResourcesList=f;var _=function(){function t(){this.items=new i}return t}();n.SpriteEvents=_;var m=function(){function t(){}return t}();n.SpritesEventItem=m;var y=function(){function t(t){this.view=t,this.$textures=t.$textures,this.$sprites=t.$sprites,this.$slots=t.$slots,this.$spritesEvents=t.$spritesEvents,this.$childViews=t.$childViews,this.$animations=t.$animations,this.$animationsEvents=t.$animationsEvents}return t}();n.ChildItem=y;var v=function(){function t(){this.items=new i}return t.prototype.get=function(t){return this[t]?this[t].view:null},t}();n.ChildViews=v;var g=function(){function t(t,e){this.animationName=t,this._armature=e}return t.prototype.play=function(){return this._armature.animation.play(this.animationName,1)},t.prototype.stop=function(){this._armature.animation.stop(this.animationName)},t.prototype.gotoAndStopByProgress=function(t){return this._armature.animation.gotoAndStopByProgress(this.animationName,t)},t.prototype.checkName=function(t){return this.animationName==t},t}();n.AnimationsItem=g;var T=function(){function t(){this.items=new i}return t.prototype.get=function(t){return this[t]||console.error("error can't find animation '"+t+"'"),this[t]},t}();n.AnimationsList=T;var A=function(){function t(t,e,n,i){var r=this;this.eventType=t,this._event=e,this.armature=n,this.animation=i,this.hasCalled=!1,this.event=function(t){i.checkName(t.animationState.name)&&(r.hasCalled=!0,e(t))},this.armature.addEventListener(t,this.event,this)}return t}();n.AnimationsEventItem=A;var b=function(){function t(){this.items=new i}return t.prototype.get=function(t){return this[t]},t}();n.AnimationsEventsList=b;var S=function(){function t(t){this._event=t;var e=this;this.event=function(n,i,r,o){r==e.name&&this==e.context&&t(n,i)}}return t}();n.ModelWatchItem=S;var E=function(){function t(){this.items=new i}return t.prototype.get=function(t){return this[t]},t}();n.ModelWatchesList=E;var w=function(){function n(t){void 0===t&&(t=null),this.container=t,this.removed=!1,this._armature=null,this._armatureDisplay=null,this._armatureName=null,this.$textures=new l,this.$sprites=new h,this.$slots=new d,this.$spritesEvents=new _,this.$childViews=new v,this.$animations=new T,this.$animationsEvents=new b,this.$resources=new f,this.$modelWatches=new E}return Object.defineProperty(n.prototype,"resizeHeight",{get:function(){return this._resizeHeight},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"resizeWidth",{get:function(){return this._resizeWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isLandscape",{get:function(){return this._isLandscape},set:function(t){this._isLandscape=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"DependenciesContainer",{get:function(){return this._dependenciesContainer},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"assetScale",{get:function(){return this._assetScale},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"display",{get:function(){return this._armatureDisplay||this._armature.display},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"armature",{get:function(){return this._armature},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"z",{get:function(){return this.armatureDisplay.zOrder},set:function(t){this.armatureDisplay.displayGroup||(this.armatureDisplay.displayGroup=this._displayGroup),this.armatureDisplay.zOrder=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"x",{get:function(){return this._armatureDisplay.x},set:function(t){this._armatureDisplay.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._armatureDisplay.y},set:function(t){this._armatureDisplay.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotation",{get:function(){return this._armatureDisplay.rotation},set:function(t){this._armatureDisplay.rotation=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleX",{get:function(){return this._armatureDisplay.scale.x},set:function(t){this._armatureDisplay.scale.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleY",{get:function(){return this._armatureDisplay.scale.y},set:function(t){this._armatureDisplay.scale.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"armatureDisplay",{get:function(){return this._armatureDisplay},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alpha",{get:function(){return this._armatureDisplay.alpha},set:function(t){this._armatureDisplay.alpha=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visible",{get:function(){return this._armatureDisplay.visible},set:function(t){this._armatureDisplay.visible=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{set:function(t){this._parent=t},enumerable:!0,configurable:!0}),n.prototype.configure=function(){this.config=this.getConfiguration()},n.prototype.build=function(){this.configure(),this.initialize(this._armature,this.container,!0),this.resize(this._resizeWidth,this._resizeHeight),this._isLandscape?this.setLandscape():this.setPortrait()},n.prototype.initialize=function(t,n,a){var s=this;void 0===n&&(n=null),void 0===a&&(a=!1);var l=null;if(!a)if(n)null==t&&this.config.armatureName&&(t=r.PixiFactory.factory.buildArmature(this.config.armatureName)),t&&(this._armatureMustDispose=!0,this._armature=t,this._armatureName=this.config.armatureName,this._armatureDisplay=this._armature.display,this._armatureSlots=new i(this._armature.getSlots()),r.WorldClock.clock.add(this._armature),n.addChild(this._armatureDisplay),this.container=n,this._armature.DisplayGroup=new e.DisplayGroup(this.config.zOrder||0,!0));else if(this.config.slot){var h=t.getSlot(this.config.slot).childArmature;if(!h)return void console.error("Can't find child armature '"+this.config.armatureName+"' in slot '"+this.config.slot+"'");if(h.name!=this.config.armatureName)return void console.error("Slot '"+this.config.slot+" have child armature '"+h.name+"' not '"+this.config.armatureName+"'");this._armatureMustDispose=!0,this._armature=h,this._armatureName=this.config.armatureName,this._armatureDisplay=this._armature.display,this._armatureSlots=new i(this._armature.getSlots()),this._armature.DisplayGroup=t.DisplayGroup,this._displayGroup=t.DisplayGroup}else if(this.config.armatureName){var h=r.PixiFactory.factory.buildArmature(this.config.armatureName);if(!h)return void console.error("Armature '"+this.config.armatureName+"' build error");this._armatureMustDispose=!0,this._armature=h,this._armatureName=this.config.armatureName,this._armatureDisplay=this._armature.display,this._armatureSlots=new i(this._armature.getSlots()),r.WorldClock.clock.add(this._armature),this.container=t.display,this.container.addChild(this._armatureDisplay),l=h.display,this._armature.DisplayGroup=t.DisplayGroup,this._displayGroup=t.DisplayGroup}else this._armature=t;if(!this._armature)return void console.error("View '"+this.constructor.name+"' can't load");var d=new i(this._armature.getSlots());return o.each(this.config.textures,function(t,e){},this),o.each(this.config.sprites,function(t,n){if(t.startsWith("armature(")){var i=/\(([^)]+)\)/g,r=t.match(i),o=r[0].substring(1,r[0].length-1),a=d.FirstOrDefault(function(t){return t.name==o});if(a){var s=new u;s.sprite=a.display,s.name=n,s.textureName=o,this.$sprites.items.Add(s),this.$sprites[n]=a.display}else console.error(this.constructor.name+": error can't find sprite '"+o+"' in armature '"+this._armatureName+"'")}else if(t.startsWith("texture(")){var i=/\(([^)]+)\)/g,r=t.match(i),l=r[0].substring(1,r[0].length-1),h=this.$textures[l];if(h){var c=new e.Sprite(h),s={sprite:c,name:n,textureName:l};this.$sprites.items.Add(s),this.$sprites[n]=c}else console.error(this.constructor.name+": error can't find texture '"+l+"' in textures list")}else{var p=this[t];if(p){var s=new u;s.sprite=p,s.name=n,s.textureName=t,this.$sprites.items.Add(s),this.$sprites[n]=p}}},this),o.each(this.config.slots,function(t,e){var n=d.FirstOrDefault(function(e){return e.name==t});if(n){var i=new c;i.slot=n,i.name=e,this.$slots.items.Add(i),this.$slots[e]=n}else console.error(this.constructor.name+": error can't find slot '"+t+"' in armature '"+this._armatureName+"'")},this),o.each(this.config.spritesEvents,function(t,e){var n,i=e.split(" ")[0],r=e.split(" ")[1],a=r.replace("$sprites.","");if(r.startsWith("$sprites.")?n=this.$sprites[a]:o.each(this,function(t,e){},this),n){var s=this.expandFunc(t,this);n.on(i,s,this),n.interactive=!0,n.buttonMode=!0;var l={event:s,name:i,sprite:n};this.$spritesEvents.items.Add(l)}else console.error(this.constructor.name+": error can't find sprite '"+a+"' in sprites list")},this),o.each(this.config.childViews,function(t,e){t.view&&this._addChild(t,e)},this),o.each(this.config.resources,function(t,e){var n=new p(e,t);this.$resources.items.Add(n),this.$resources[e]=n},this),o.each(this.config.animations,function(t,e){var n=new g(t,this._armature);this.$animations.items.Add(n),this.$animations[e]=n},this),o.each(this.config.animationsEvents,function(t,e){var n=e.split(" ")[0],i=e.split(" ")[1],r=null;if(i.startsWith("$animations.")?r=this.$animations[i.replace("$animations.","")]:o.each(this,function(t,e){},this),r){var a=this.expandFunc(t,this),s=new A(n,a,this._armature,r);s.name=e,this.$animationsEvents.items.Add(s),this.$animationsEvents[e]=s}},this),this._watchObject=this._dependenciesContainer.get("WatchObject"),o.each(this.config.modelWatch,function(t,e){if(null==this.$model||void 0==this.$model)return void console.error(this.constructor.name+": error $model is null for property '"+e+"'");var n=this.expandFunc(t,this),i=new S(n),r=e.split(".");if(i.name=r[r.length-1],i.context=this.$model,r.length>1)for(var o=0;o<r.length-1;o++){if(!i.context[r[o]])return void console.error(this.constructor.name+": 1. error can't find model property '"+r[o]+"' for '"+e+"'",i.context);i.context=i.context[r[o]]}return null==i.context[i.name]||void 0==i.context[i.name]?void console.error(this.constructor.name+": 2. error can't find model property '"+i.name+"' for '"+e+"'",i.context):(this.$modelWatches.items.Add(i),this.$modelWatches[e]=i,void this._watchObject.watch(this.$model,i.event))},this),this.onInitialize(),this.$resources.items.Count()>0&&this._dependenciesContainer.get("ArkadiumBase").load(function(){s.contentLoaded()},this),l},n.prototype.addChild=function(t,e){return void 0===e&&(e=null),this._addChild(t,e)},n.prototype.removeChild=function(t){var e=this.$childViews.items.FirstOrDefault(function(e){return e.view==t});this._removeChild(e)},n.prototype.removeChildByName=function(t){var e=this.$childViews.items.FirstOrDefault(function(e){return e.name==t});this._removeChild(e),this.$childViews[t]=null},n.prototype._removeChild=function(t){null!=t&&(this.$childViews.items.Remove(t),t.view.dispose())},n.prototype._addChild=function(e,n){var i=this._dependenciesContainer.get(e.view,e.options||{});if(i){i.isLandscape=this.isLandscape,e.model&&(i.$model=e.model),i.configure(),t.Core.Underscore.extend(i.config,e.config||{});var r=new y(i);r.name=n,r.viewName=e.view,this.$childViews.items.Add(r),null!=n&&(this.$childViews[n]=r),r.view.parent=this;var o=r.view.initialize(this._armature);null!=o&&e.zOrder&&(o.zOrder=e.zOrder,o.displayGroup=this._armature.DisplayGroup),null!=e.x&&void 0!=e.x&&(i.x=e.x*this.assetScale),null!=e.y&&void 0!=e.y&&(i.y=e.y*this.assetScale),r.view.isLandscape=this.isLandscape,r.view.resize(this._resizeWidth,this._resizeHeight)}else console.error(this.constructor.name+": error can't find view '"+e.view+"'");return i},n.prototype.setScale=function(t,e){this._armatureDisplay.scale.set(t,e)},n.prototype.masker=function(t,e,n,i){void 0===i&&(i=null);var r="string"==typeof t,a="number"==typeof e||null==e;return null==e&&(e=1),i||(i=[]),a||(e=e.replace(/\./g,function(t,e){return e>8?"-":e+1}).replace(/[^1-9.\-]+/g,"-").replace(/-+$/,"")),function(){for(var s=n||this,l=a?i.concat(o.rest(arguments,e)):i.concat(),u=0;u<e.length;u++)"-"!=e[u]&&l.push(arguments[e[u]-1]);return(r?s[t]:t).apply(s,l)}},n.prototype.expandFunc=function(t,e){if("string"==typeof t){var n=t.split(/([.-].*)/);return n.length>1?this.masker(n[0],n[1],e):function(){var n=e||this;return n[t].apply(n,arguments)}}return t},n.prototype.update=function(t){this.onUpdate(t),this.$childViews.items.ForEach(function(e){e.view.removed||e.view.update(t)})},n.prototype.onUpdate=function(t){},n.prototype.onSetLandscape=function(){},n.prototype.setLandscape=function(){this._isLandscape=!0,this.onSetLandscape(),this.$childViews.items.ForEach(function(t){t.view.removed||t.view.setLandscape()})},n.prototype.onSetPortrait=function(){},n.prototype.getResources=function(){var t=new i;return t.AddRange(this.$resources.items.ToArray()),this.$childViews.items.ForEach(function(e){e.view.removed||t.AddRange(e.view.getResources())}),t.ToArray()},n.prototype.contentLoaded=function(){this.onContentLoaded(),this.$childViews.items.ForEach(function(t){t.view.removed||t.view.contentLoaded()})},n.prototype.onContentLoaded=function(){},n.prototype.setPortrait=function(){this._isLandscape=!1,this.onSetPortrait(),this.$childViews.items.ForEach(function(t){t.view.removed||t.view.setPortrait()})},n.prototype.dispose=function(){var t=this;this.removed=!0,this.$childViews.items.ForEach(function(t){t.view.dispose()}),this.$animationsEvents.items.ForEach(function(t){t.armature.removeEventListener(t.eventType,t.event,t)}),this.$spritesEvents.items.ForEach(function(t){t.sprite.removeListener(t.name,t.event)});var e=this;this.$modelWatches.items.ForEach(function(n){t._watchObject.unwatch(e.$model,n.name,n.event)}),this.container&&(this.container.removeChild(this._armatureDisplay),r.WorldClock.clock.remove(this._armature),this._armature.dispose(),this._armature=null,this.container=null)},n.prototype.close=function(){this._parent.removeChild(this)},n.prototype.clear=function(){this.$childViews.items.ForEach(function(t){t.view.dispose()}),this.$childViews=new v,this.$textures=new l,this.$sprites=new h,this.$slots=new d,this.$spritesEvents=new _,this.$animations=new T,this.$animationsEvents=new b},n.prototype.resize=function(t,e){this._resizeWidth=t,this._resizeHeight=e,this.onResize(t,e),this.$childViews.items.ForEach(function(n){n.view.removed||n.view.resize(t,e)})},n.prototype.onResize=function(t,e){},n.prototype.focus=function(t){this.onFocus(t),this.$childViews.items.ForEach(function(e){e.view.removed||e.view.focus(t)})},n.prototype.onFocus=function(t){},n._index=10,n}();n.ViewBase=w}(n=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var n;!function(n){var i=t.Core.Tween.Tween,o=t.Core.Tween.Easing,a=t.Core.Linq.List,s=t.Core.Underscore,l=t.Game.ArenaHelper,u=t.Game.GameAutoTestingManager,h=t.Core.EventBus,c=t.Core.AnalyticsManager,d=t.Core.utils.LocalizationManager,p=t.Core.StorageManager,f=t.Core.StorageManagerConstants,_=t.Core.ProtectUtils,m=t.Core.Howler2SoundManager,y=t.Core.Howler1SoundManager,v=(window.fetch,function(){function t(t,e,n){this._x=t,this._y=e,this._s=n}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),t}());n.GameSize=v;var g=function(){function g(t,e){var r=this;this.dc=t,this._htmlElement=e,this._scaleFactor=1,this._layers=[],this._resizeDelay={d:2},this._tweenResizeDelay=new i(this._resizeDelay).to({d:0},100).easing(o.Linear.None).onComplete(function(){r.rendererResize(),r._resizeDelay.d=2}),this._size=new v(g.SIZE_LANDSCAPE.x,g.SIZE_LANDSCAPE.y,1),this.$childViews=new n.ChildViews,this.stop=!1,this.frameCount=0,this.currentFps=0;var a=this.defineAssetScale();this.dc.singleton("ResourcesScale",a),this._scaleFactor=a}return Object.defineProperty(g.prototype,"stage",{get:function(){return this._stage},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"width",{get:function(){return this._width*this.scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"height",{get:function(){return this._height*this.scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"isLandscape",{get:function(){return this._size.x>=this._size.y},enumerable:!0,configurable:!0}),g.prototype.onUpdate=function(t){},g.prototype.load=function(t,n){var i=this;if(void 0===n&&(n=null),e.loader.loading)return void e.loader.once("complete",function(){i.load(t)},this);var r=!1,o=this.dc.get("ResourcesRoot");if(n){var s=new a;s.AddRange(n.getResources()),s.ForEach(function(t,n){e.loader.resources[t.name]?e.loader.resources[t.name].type==e.loaders.Resource.TYPE.IMAGE&&null==e.loader.resources[t.name].texture.baseTexture&&(r=!0,e.loader.resources[t.name]=null,e.loader.add(t.name,o+t.res)):(r=!0,e.loader.add(t.name,o+t.res))})}else{var l=new a;this.$childViews.items.ForEach(function(t){l.AddRange(t.view.getResources())}),l.ForEach(function(t,n){e.loader.resources[t.name]||(r=!0,e.loader.add(t.name,o+t.res))})}r?(e.loader.once("complete",function(){t()},this),e.loader.load()):t()},g.prototype.configure=function(){this.config=this.getConfiguration()},g.prototype.initialize=function(){var t=this;s.each(this.config.childViews,function(t,e){t.view&&this.addChild(t,e)},this),this.onInitialize(),this.load(function(){t.contentLoaded()})},g.prototype.create=function(){var e=this;e.initializeManagers();var i=this.dc.get("ResourcesRoot"),r=e.dc.get("ArenaHelper").getAbsoluteURL(""),o=this.dc.get("fonts/fonts").split("%RESOURCEPATH%").join(r+i),a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",s.styleSheet?s.styleSheet.cssText=o:s.appendChild(document.createTextNode(o)),a.appendChild(s);var l=this.dc.get("FontFaceObserver"),u=l.create(n.FontConstants.FONT_REGULAR_1),h=l.create(n.FontConstants.FONT_MEDIUM),c=l.create(n.FontConstants.FONT_BOLD),d=l.create(n.FontConstants.FONT_REGULAR_2),p=this.dc.get("ResourcesScale");return new Promise(function(n,o){return Promise.all([e.loadPreloaderScreen()]).then(function(){e.createCanvasRender(),e.createPreloaderScreen(),e.rendererResize(!0);var o=7,a=0;return Promise.all([h.load().then(function(){return a++,e.checkLoadFinished(a,o),e.incLoadIndex(o)}),u.load().then(function(){return a++,e.checkLoadFinished(a,o),e.incLoadIndex(o)}),c.load().then(function(){return a++,e.checkLoadFinished(a,o),e.incLoadIndex(o)}),d.load().then(function(){return a++,e.checkLoadFinished(a,o),e.incLoadIndex(o)}),e.loadLocalization().then(function(){return a++,e.checkLoadFinished(a,o),e.incLoadIndex(o)}),t.Game.Resources.load(r+i,p).then(function(){return a++,e.checkLoadFinished(a,o),e.incLoadIndex(o)}),e.loadingSounds().then(function(){return a++,e.checkLoadFinished(a,o),e.incLoadIndex(o)})]).then(function(){setTimeout(function(){n(e)},500)},function(t){console.log("load error:"+t)})},function(t){console.log("load error:"+t)})})},g.prototype.checkLoadFinished=function(t,e){var n=this;t==e&&setTimeout(function(){n.onCreate(),n.configure(),n.initialize(),n.rendererResize(!0),n._addWindowListeners()},500)},g.prototype.initializeManagers=function(){var t=new d;this.dc.singleton("LocalizationManager",t);var e=new h;this.dc.singleton("EventBus",e);var i=new l(this.dc);i.addProperEventsListeners(),this.dc.singleton("ArenaHelper",i);var r=new u(this,this.dc);this.dc.singleton("GameAutoTestingManager",r);var o,a=this.dc.get("ArenaHelper").getAbsoluteURL("");"Microsoft Internet Explorer"==navigator.appName||navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/rv:11/)?(o=new y(this.dc.get("HowlConstructor"),this.dc.get("soundConfig"),a),this.dc.singleton("SoundManager",o)):(o=new m(this.dc.get("HowlerSound"),this.dc.get("Howler"),this.dc.get("soundConfig"),a),this.dc.singleton("SoundManager",o)),o.mute(!0);var s=new c;s.init({}),this.dc.singleton("AnalyticsManager",s);var v=new n.AnalyticsHelper(this.dc);this.dc.singleton("AnalyticsHelper",v);var g=new p;g.initialize("blackjack-pixijs"),this.dc.singleton("StorageManager",g);var T=new _(this.dc);this.dc.singleton("ProtectUtils",T);var A="1"==g.loadData(f.MUTE_SOUNDS);o.mute(A);var b=g.loadData(f.OPTIONS_DEALER_ON_SOFT_HITS_17);null==b&&g.saveData(f.OPTIONS_DEALER_ON_SOFT_HITS_17,"1"),b=g.loadData(f.OPTIONS_INSURANCE),null==b&&g.saveData(f.OPTIONS_INSURANCE,"1"),b=g.loadData(f.OPTIONS_REPEAT_BET_LAST),null==b&&g.saveData(f.OPTIONS_REPEAT_BET_LAST,"1"),b=g.loadData(f.OPTIONS_DECK_ID),null==b&&g.saveData(f.OPTIONS_DECK_ID,"1"),b=g.loadData(f.OPTIONS_AUTO_ADVICE),null==b&&g.saveData(f.OPTIONS_AUTO_ADVICE,"0"),b=g.loadData(f.PANEL_ADVICE),null==b&&g.saveData(f.PANEL_ADVICE,"1")},g.prototype.loadLocalization=function(){var t=this,e=t.dc.get("ArenaHelper").getAbsoluteURL("");return new Promise(function(n,i){var r=t.dc.get("LocalizationManager"),o=t.dc.get("ArenaHelper");r.signal.add(function(){n()},t),r.initialize(e,o.getLocale())})},g.prototype.loadingSounds=function(){var t=this;return new Promise(function(e,n){var i=t.dc.get("SoundManager");"Microsoft Internet Explorer"==navigator.appName||navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/rv:11/)?(i.load("sfx"),e()):(i.preloadAudio(function(t,e){},function(){},"sfx"),e())})},g.prototype.loadPreloaderScreen=function(){var t=this;return new Promise(function(n,i){var o=t.dc.get("ArenaHelper").getAbsoluteURL("");e.loader.add("preloader_ske",o+"build/resources/assets/images/"+t.dc.get("ResourcesScale").toString()+"x/preloader_ske.json"),e.loader.add("preloader_tex_config",o+"build/resources/assets/images/"+t.dc.get("ResourcesScale").toString()+"x/preloader_tex.json"),e.loader.add("preloader_tex_png",o+"build/resources/assets/images/"+t.dc.get("ResourcesScale").toString()+"x/preloader_tex.png"),e.loader.load(),e.loader.once("complete",function(t,e){r.PixiFactory.factory.parseTextureAtlasData(e.preloader_tex_config.data,e.preloader_tex_png.texture),r.PixiFactory.factory.parseDragonBonesData(e.preloader_ske.data),n()},t)})},g.prototype.incLoadIndex=function(t){return this.onIncLoadIndex(t),Promise.resolve()},g.prototype._addWindowListeners=function(){function t(t){var e="visible",r="hidden",o={focus:e,focusin:e,pageshow:e,blur:r,focusout:r,pagehide:r};t=t||window.event,t.type in o?"hidden"==o[t.type]?i.focus(!1):(i.focus(!0),i.rendererResize(!0)):document[n]?i.focus(!1):(i.focus(!0),i.rendererResize(!0))}var e=this,n="hidden",i=this;"undefined"!=typeof document.mozHidden?(n="mozHidden",document.addEventListener("mozvisibilitychange",t)):"undefined"!=typeof document.webkitHidden?(n="webkitHidden",document.addEventListener("webkitvisibilitychange",t)):"undefined"!=typeof document.msHidden?(n="msHidden",document.addEventListener("msvisibilitychange",t)):"undefined"!=typeof document.hidden?document.addEventListener("visibilitychange",t):"onfocusin"in document&&(document.onfocusin=document.onfocusout=t),window.onpageshow=window.onpagehide=window.onfocus=window.onblur=t,void 0!==document[n]&&t({type:document[n]?"blur":"focus"}),window.addEventListener("deviceOrientation",function(){e.rendererResize()})},g.prototype.createCanvasRender=function(){this._htmlElement.style.display="none";var t=this.dc.get("MobileDetect"),n=!0;("iOS"==t.os()||window.navigator.platform.toUpperCase().indexOf("MAC")>=0)&&(t.versionStr("iOS").startsWith("15_4")||window.navigator.userAgent.indexOf("15.4")>=0)&&(n=!1);var i={roundPixels:!0,clearBeforeRender:!1,antialias:n};if("AndroidOS"==t.os()){var r=t.version("Android");r&&Math.floor(r)<=4&&(i.preserveDrawingBuffer=!0)}this.renderer=e.autoDetectRenderer(g.SIZE_LANDSCAPE.x,g.SIZE_LANDSCAPE.y,i),this._stage=new e.Container,this._htmlElement.appendChild(this.renderer.view),this.renderer.view.style["-webkit-user-select"]="none",this.renderer.view.style["-khtml-user-select"]="none",this.renderer.view.style["-moz-user-select"]="none",this.renderer.view.style["-ms-user-select"]="none",this.renderer.view.style["user-select"]="none",this.renderer.view.style.outline="none",this.renderer.view.style["-webkit-tap-highlight-color"]="rgba(255, 255, 255, 0)",this.renderer.view.id="gameCanvas",this._container=new e.Container;for(var o=5,a=0;a<o;a++){var s=new e.Container;this._layers[a]=s,this._container.addChild(s)}this._stage.addChild(this._container),this._htmlElement.style.display="block",this.dc.singleton("Renderer",this.renderer),this.dc.singleton("Canvas",this.renderer.view),this.dc.singleton("GlContext",this.renderer.gl),this.fpsInterval=1e3/30,this.then=Date.now(),this.startTime=this.then,this._animate()},g.prototype._animate=function(){var t=this;this._clientWidth==this._htmlElement.clientWidth&&this._clientHeight==this._htmlElement.clientHeight||this.resize(),requestAnimationFrame(function(){t._animate()}),this.now=Date.now(),this.elapsed=this.now-this.then;var e=(new Date).getTime(),n=(e-this.last_time)/1e3;this.last_time=e,this.update(n),this.elapsed>this.fpsInterval&&(this.then=this.now-this.elapsed%this.fpsInterval,this.renderer.render(this._stage))},g.prototype.focus=function(t){this.onFocus(t),this.$childViews.items.ForEach(function(e){e.view.focus(t)})},g.prototype.onFocus=function(t){},g.prototype.update=function(t){r.WorldClock.clock.advanceTime(-1),i.update(),this.onUpdate(t),this.$childViews.items.ForEach(function(e){e.view.update(t)})},g.prototype.rendererResize=function(t){if(void 0===t&&(t=!1),this._clientWidth!=this._htmlElement.clientWidth||this._clientHeight!=this._htmlElement.clientHeight||0!=t){this._clientWidth=this._htmlElement.clientWidth,this._clientHeight=this._htmlElement.clientHeight;var e=this.dc.get("DevicePixelRatio"),n=this._clientWidth*e,i=this._clientHeight*e;this.renderer.resize(n,i);var r=this.renderer.view;r.style.width=this._clientWidth+"px",r.style.height=this._clientHeight+"px",this.$childViews.items.ForEach(function(t){t.view.resize(n,i)}),1.1*n<i?this.setPortrait():this.setLandscape(),this.focus(!0)}},g.prototype.setPortrait=function(){this._size.x=g.SIZE_LANDSCAPE.y,this._size.y=g.SIZE_LANDSCAPE.x;for(var t=Math.min(this.renderer.view.height/(this._size.y*this.scaleFactor),this.renderer.view.width/(this._size.x*this.scaleFactor)),e=this._layers.length,n=0;n<e;n++)0!=n&&(this._layers[n].scale.x=this._layers[n].scale.y=t);this._container.x=.5*this.renderer.view.width,this._container.y=.5*this.renderer.view.height,this.onSetPortrait(),this.$childViews.items.ForEach(function(t){t.view.setPortrait()})},g.prototype.setLandscape=function(){this._size.x=g.SIZE_LANDSCAPE.x,this._size.y=g.SIZE_LANDSCAPE.y;for(var t=Math.min(this.renderer.view.height/(this._size.y*this.scaleFactor),this.renderer.view.width/(this._size.x*this.scaleFactor)),e=this._layers.length,n=1;n<e;n++)this._layers[n].scale.x=this._layers[n].scale.y=t;this._container.x=.5*this.renderer.view.width,this._container.y=.5*this.renderer.view.height,this.onSetLandscape(),this.$childViews.items.ForEach(function(t){t.view.setLandscape()})},g.prototype.clear=function(){this.$childViews.items.ForEach(function(t){t.view.clear()}),this.$childViews=new n.ChildViews},g.prototype.resize=function(){this._resizeDelay.d<2||this._tweenResizeDelay.start()},g.prototype.getLayer=function(t){return!this._layers||t>=this._layers.length?null:this._layers[t]},g.prototype.contentLoaded=function(){this.onContentLoaded()},g.prototype.onContentLoaded=function(){},g.prototype.defineAssetScale=function(){window.innerWidth,window.innerHeight;return this._assetScale=1,this.dc.singleton("AssetScale",this._assetScale),2},g.prototype.addChild=function(e,i){var r=this.dc.get(e.view,e.options);if(r){r.isLandscape=this.isLandscape,e.model&&(r.$model=e.model),r.configure(),t.Core.Underscore.extend(r.config,e.config||{});var o=new n.ChildItem(r);o.name=i,o.viewName=e.view,this.$childViews.items.Add(o),null!=i&&(this.$childViews[i]=o),o.view.initialize(null,this._layers[1]),null!=e.x&&void 0!=e.x&&(r.x=e.x*this._assetScale),null!=e.y&&void 0!=e.y&&(r.y=e.y*this._assetScale),this.rendererResize(!0)}return r},g.prototype.removeChildByName=function(t){var e=this.$childViews.items.FirstOrDefault(function(e){return e.name==t});this._removeChild(e),this.$childViews[t]=null},g.prototype._removeChild=function(t){null!=t&&(this.$childViews.items.Remove(t),t.view.dispose())},g.SIZE_LANDSCAPE=new e.Point(640,480),g}();n.GameBase=g}(n=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(t){"use strict";var e=function(){function t(){}return t.prototype.getOrdinalSuffix=function(t){if(t%100>10&&t%100<20)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},t.prototype.convertMStoTime=function(t){var e="",n=1,i=1e3*n,r=60*i,o=Math.floor(t/i)%60,a=Math.floor(t/r)%60;return e+=this.convertZero(a)+":",e+=o>0?this.convertZero(o):"00"},t.prototype.convertZero=function(t){var e=t.toString();return t<10&&(e="0"+e),e},t.prototype.stripDateFromString=function(t){return t.replace(/(\d)?[- \/.](\d)?[- \/.](\d)?/g,""),t},t.prototype.getCurrentTimeUTCms=function(){var t=new Date,e=t.getTime();return e},t}();t.DateUtils=e}(e=t.Core||(t.Core={}))}(n||(n={}));var n;!function(t){var n;!function(n){var i=t.Game.GameBase,r=function(){function t(){}return t.prototype.getScreenSize=function(n,r,o){var a,s=new e.Point(n,r),l=s.x/s.y,u=new e.Point(2*i.SIZE_LANDSCAPE.x,2*i.SIZE_LANDSCAPE.y),h=u.x/u.y,c=new e.Point;return o==t.LANDSCAPE?(a=Math.max(l,h),c.x=u.x*a/h):(a=Math.max(l,1/h),c.x=u.y*a*h),c.y=c.x*(s.y/s.x),c},t.LANDSCAPE="LANDSCAPE",t.PORTRAIT="PORTRAIT",t}();n.GameUtils=r}(n=t.Core||(t.Core={}))}(n||(n={}));var n;!function(t){var e;!function(t){var e=function(){function t(){}return t.prototype.constrain=function(t,e,n){return Math.max(t,Math.min(e,n))},t.prototype.countNumDigits=function(t){for(var e=0;t>=1;)t/=10,++e;return e},t.prototype.shuffleArray=function(t,e){for(var n=t.length-1;n>=0;n--){var i=e.integer(0,t.length),r=t[n];t[n]=t[i],t[i]=r}return t},t}();t.MathUtils=e}(e=t.Core||(t.Core={}))}(n||(n={}));var n;!function(t){var n;!function(t){var n=function(t){function n(e,n){var i=t.call(this)||this;return i._options=e,i._localizationManager=n,i}return i(n,t),Object.defineProperty(n.prototype,"anchor",{get:function(){return this._text.anchor},set:function(t){this._text.anchor=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotation",{set:function(t){this._text.rotation=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"x",{get:function(){return this._text.x},set:function(t){this._text.x=Math.round(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._text.y},set:function(t){this._text.y=Math.round(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this._text.width},set:function(t){this._text.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._text.height},set:function(t){this._text.height=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{
get:function(){return this._text.text},set:function(t){var e=/%LINE_BREAK%/gi;t=t.replace(e,"\n"),this._text.text=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textKey",{set:function(t){t=this._localizationManager.getText(t),this.text=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alpha",{get:function(){return this._text.alpha},set:function(t){this._text.alpha=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visible",{get:function(){return this._text.visible},set:function(t){this._text.visible=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fill",{set:function(t){this._text.style.fill=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"style",{get:function(){return this._text.style},set:function(t){this._text.style=t},enumerable:!0,configurable:!0}),n.prototype.autoResizeHeight=function(t,e,n){for(void 0===n&&(n=null),null!=n&&(this._text.style.wordWrap=!0,this._text.style.wordWrapWidth=n*this.assetScale),this._text.style.fontSize=t;this._text.height>e*this.assetScale;)this._text.style.fontSize=this._text.style.fontSize-1},n.prototype.autoResizeWidth=function(t,e){for(this._text.style.fontSize=t;this._text.width>e*this.assetScale;)this._text.style.fontSize=this._text.style.fontSize-1},n.prototype.getConfiguration=function(){return this._options.slot?{slots:{textSlot:this._options.slot}}:{}},n.prototype.getSlot=function(){var t=this.$slots.get("textSlot");return t},n.prototype.onInitialize=function(){var t,n=this.$slots.get("textSlot");n?(t=n.display,t.removeChildren()):t=this.display;var i;i=null!=this._options.textStyle&&void 0!=this._options.textStyle?this._options.textStyle:{fontFamily:this._options.fontFamily,fontSize:this._options.fontSize,fill:this._options.fill},i.fontSize=i.fontSize*this.assetScale,this._options.fontWeight&&(i.fontWeight=this._options.fontWeight),this._options.wordWrap&&(i.wordWrap=this._options.wordWrap),this._options.wordWrapWidth&&(i.wordWrapWidth=this._options.wordWrapWidth),this._text=new e.Text("",i);var r;r=null!=this._options.textKey&&void 0!=this._options.textKey?this._localizationManager.getText(this._options.textKey):null!=this._options.text&&void 0!=this._options.text?this._options.text.toString():"!!! ERROR !!!",this.text=r,t.addChild(this._text),this._options.anchor?this._text.anchor=this._options.anchor:this._text.anchor.set(.5,.5)},n.prototype.dispose=function(){this.display.removeChild(this._text),this._text.destroy(),t.prototype.dispose.call(this)},n.CLASS_NAME="LabelView",n.factory={get:function(t,e){return new n(t,e)},dependency:["Options","LocalizationManager"]},n}(t.ViewBase);t.LabelView=n}(n=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(e){var n=t.Core.Tween.Tween,r=function(t){function r(e){var n=t.call(this)||this;return n._options=e,n.$model={},n}return i(r,t),r.prototype.getConfiguration=function(){var t={};return t.slots={slotUp:"up",slotOver:"over"},this._options.blinkSlotName&&(t.slots[this._options.blinkSlotName]=this._options.blinkSlotName),t.sprites={hitArea:"armature(hitArea)",up:"armature(up)",over:"armature(over)"},t.spritesEvents={"touchstart $sprites.hitArea":"_onMouseOver","tap $sprites.hitArea":"_onMouseClickOrTap","touchendoutside $sprites.hitArea":"_onMouseOut","mouseover $sprites.hitArea":"_onMouseOver","mouseout $sprites.hitArea":"_onMouseOut","click $sprites.hitArea":"_onMouseClickOrTap"},t.animations={},t.animationsEvents={},t},Object.defineProperty(r.prototype,"tint",{set:function(t){var e=this.$sprites.get("up");e.tint=t;var n=this.$sprites.get("over");n.tint=t;var i=this.$sprites.get("hitArea");i.tint=t},enumerable:!0,configurable:!0}),r.prototype.onContentLoaded=function(){},r.prototype.onSetLandscape=function(){},r.prototype.onSetPortrait=function(){},r.prototype.onInitialize=function(){if(this._onMouseOut(null),null!=this._options.slotDisplayIndex&&void 0!=this._options.slotDisplayIndex){var t=this.$slots.get("slotUp");t&&(t.displayIndex=this._options.slotDisplayIndex);var n=this.$slots.get("slotOver");n&&(n.displayIndex=this._options.slotDisplayIndex),this.$sprites.get("over").alpha=0,this.$sprites.get("up").alpha=0}if(this._options.tint&&(this.tint=this._options.tint),(null!=this._options.text&&void 0!=this._options.text||null!=this._options.textKey&&void 0!=this._options.textKey)&&(this._options.textOverFill&&this._options.textStyle&&(this._textUpFill=this._options.textStyle.fill),this.addChild({view:e.LabelView.CLASS_NAME,x:this._options.textPosition?this._options.textPosition.x:0,y:this._options.textPosition?this._options.textPosition.y:0,options:{textKey:this._options.textKey,text:this._options.text,textStyle:this._options.textStyle,anchor:this._options.anchor}},"LabelView")),this._options.blinkSlotName){var i=this.$slots.get(this._options.blinkSlotName);i&&(i.display.alpha=0)}},r.prototype.updateText=function(t){var e=this.$childViews.get("LabelView");e&&(e.text=t)},r.prototype.updateTextKey=function(t){var e=this.$childViews.get("LabelView");e&&(e.textKey=t)},r.prototype._onMouseOver=function(t){this.$sprites.get("over").visible=!0,this.$sprites.get("up").visible=!1;var n=this.$childViews.get("LabelView");if(n){var i=this.$sprites.get("over");i&&(n.alpha=i.alpha),this._options.textOverFill&&(n.fill=this._options.textOverFill)}this._options.onOver&&this._options.onOver();var r=this.DependenciesContainer.get("SoundManager"),o=this._options.soundRolloverName||e.SoundConstants.ROLLOVER;r.playSound(o)},r.prototype._onMouseOut=function(t){this.$sprites.get("over").visible=!1,this.$sprites.get("up").visible=!0;var e=this.$childViews.get("LabelView");if(e){var n=this.$sprites.get("up");n&&(e.alpha=n.alpha),this._options.textOverFill&&(e.fill=this._textUpFill)}},r.prototype._onMouseClickOrTap=function(t){this.$sprites.get("over").visible=!1,this.$sprites.get("up").visible=!0;var n=this.$childViews.get("LabelView");n&&this._options.textOverFill&&(n.fill=this._textUpFill),this._options.onPress&&this._options.onPress();var i=this.DependenciesContainer.get("SoundManager"),r=this._options.soundPressName||e.SoundConstants.CLICK;i.playSound(r)},r.prototype.blink=function(t){var e=this.$slots.get(this._options.blinkSlotName);if(e){var i={alpha:0},r=new n(i);r.to({alpha:1},500),r.yoyo(!0),r.repeat(t),r.onUpdate(this.onUpdateTween.bind(this,i)),r.start(),n.add(r)}},r.prototype.onUpdateTween=function(t){var e=this.$slots.get(this._options.blinkSlotName);e.display.alpha=t.alpha},r.CLASS_NAME="GameButtonView",r.factory={get:function(t){return new r(t)},dependency:["Options"]},r}(e.ViewBase);e.GameButtonView=r}(e=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n._options=t,n.$model={state:null},n}return i(n,e),n.prototype.getConfiguration=function(){var e=this;this.$model.state=this._options.state;var i={};return i.childViews={ButtonTurnOn:{view:t.GameButtonView.CLASS_NAME,options:{onPress:function(){e.$model.state=n.STATE_OFF},textKey:this._options.textKey,text:this._options.text,textStyle:this._options.textStyle,textOverFill:this._options.textOverFill,textPosition:this._options.textPosition,anchor:this._options.anchor,soundPressName:this._options.soundPressName,soundRolloverName:this._options.soundRolloverName},config:{slot:"turnOn",armatureName:this._options.armatureNameTurnOn}},ButtonTurnOff:{view:t.GameButtonView.CLASS_NAME,options:{onPress:function(){e.$model.state=n.STATE_ON},textKey:this._options.textKey,text:this._options.text,textStyle:this._options.textStyle,textOverFill:this._options.textOverFill,textPosition:this._options.textPosition,anchor:this._options.anchor,soundPressName:this._options.soundPressName,soundRolloverName:this._options.soundRolloverName},config:{slot:"turnOff",armatureName:this._options.armatureNameTurnOff}}},i.modelWatch={state:function(t,n){e.updateState()}},i},n.prototype.onContentLoaded=function(){},n.prototype.onSetLandscape=function(){},n.prototype.onSetPortrait=function(){},n.prototype.onInitialize=function(){null!=this._options.state&&void 0!=this._options.state&&(this.$model.state=this._options.state),this.updateState()},n.prototype.sendCallback=function(){this._options.callback&&this._options.callback(this.$model.state)},n.prototype.updateState=function(){var t=this.$childViews.get(n.CHILD_BUTTON_TURN_ON),e=this.$childViews.get(n.CHILD_BUTTON_TURN_OFF);this.$model.state==n.STATE_ON?(t.visible=!0,e.visible=!1):(t.visible=!1,e.visible=!0),this.sendCallback()},n.CLASS_NAME="RadioButtonView",n.STATE_OFF=0,n.STATE_ON=1,n.CHILD_BUTTON_TURN_ON="ButtonTurnOn",n.CHILD_BUTTON_TURN_OFF="ButtonTurnOff",n.factory={get:function(t){return new n(t)},dependency:["Options"]},n}(t.ViewBase);t.RadioButtonView=e}(e=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var n;!function(t){var n=e.ObservablePoint,r=function(e){function r(t){var n=e.call(this)||this;return n._options=t,n.$model={list:null,type:null,id:0},n}return i(r,e),r.prototype.getConfiguration=function(){var e=this;this.$model.type=this._options.listKeys?r.TYPE_LIST_KEYS:r.TYPE_LIST_TEXTS,this.$model.list=this._options.listKeys?this._options.listKeys:this._options.listTexts,this.$model.id=this._options.id;var i={};return i.childViews={ButtonPrev:{view:t.GameButtonView.CLASS_NAME,options:{onPress:function(){e.setId(-1)},onOver:function(){e.buttonBackOver()}},config:{slot:"prev",armatureName:"PNL_BtnArrow"}},ButtonNext:{view:t.GameButtonView.CLASS_NAME,options:{onPress:function(){e.setId(1)},onOver:function(){e.buttonBackOver()}},config:{slot:"next",armatureName:"PNL_BtnArrow"}},ButtonBack:{view:t.GameButtonView.CLASS_NAME,options:{text:" ",textStyle:this._options.textStyle,anchor:new n(null,null,.5,.5)},config:{slot:"back",armatureName:"PNL_BtnListBack"}}},i.modelWatch={id:function(t,n){e.sendCallback()}},i},r.prototype.onContentLoaded=function(){},r.prototype.onSetLandscape=function(){},r.prototype.onSetPortrait=function(){},r.prototype.onInitialize=function(){var t=this.$model.id,e=this.$model.list[t];this.updateText(e)},r.prototype.setId=function(t){var e=this.$model.id+t,n=this.$model.list.length-1;e>n?e=0:e<0&&(e=n),this.$model.id=e;var i=this.$model.list[e];this.updateText(i)},r.prototype.updateText=function(t){var e=this.$childViews.get(r.CHILD_BUTTON_BACK);this.$model.type==r.TYPE_LIST_KEYS?e.updateTextKey(t):e.updateText(t)},r.prototype.sendCallback=function(){if(this._options.callback){var t=this.$model.id,e=this.$model.list[t];this._options.callback(t,e)}},r.prototype.buttonBackOver=function(){var t=this.$childViews.get(r.CHILD_BUTTON_BACK);t._onMouseOver(null)},r.CLASS_NAME="ListButtonView",r.TYPE_LIST_KEYS="TYPE_LIST_KEYS",r.TYPE_LIST_TEXTS="TYPE_LIST_TEXTS",r.CHILD_BUTTON_BACK="ButtonBack",r.factory={get:function(t){return new r(t)},dependency:["Options"]},r}(t.ViewBase);t.ListButtonView=r}(n=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var n;!function(n){var r=t.Core.GameUtils,o=function(t){function n(){var n=t.call(this)||this,i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTMyIDc5LjE1OTI4NCwgMjAxNi8wNC8xOS0xMzoxMzo0MCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjAxOUM4NjRDRjlFMTFFN0E2RUM4RDc3QzcwNkU5RUUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjAxOUM4NjNDRjlFMTFFN0E2RUM4RDc3QzcwNkU5RUUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDI0QzFFMzBDNTQxMTFFN0EyRkJGMjM4NDVGNzJBRjgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDI0QzFFMzFDNTQxMTFFN0EyRkJGMjM4NDVGNzJBRjgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz680tiBAAAPi0lEQVR42uxd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",r=e.Texture.fromImage(i);return n._scrim=new e.Sprite(r),n._scrim.anchor.set(.5,.5),n._scrim.interactive=!0,n._scrim.visible=!1,n}return i(n,t),n.prototype.onSetLandscape=function(){},n.prototype.onSetPortrait=function(){},n.prototype.onResize=function(t,e){var n=this.isLandscape?r.LANDSCAPE:r.PORTRAIT,i=new r,o=i.getScreenSize(t,e,n);this._scrim.width=o.x,this._scrim.height=o.y},n.prototype.onInitialize=function(){this.display.addChildAt(this._scrim,0),this._scrim.visible=!0},n}(n.ViewBase);n.BasePanelView=o}(n=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var n;!function(t){var n=function(t){function n(e){var n=t.call(this)||this;return n._options=e,n.$model=null,n._loadCounter=0,n._numResources=0,n._percentAdditionally=0,n._intervalId=null,n}return i(n,t),n.prototype.getConfiguration=function(){return{armatureName:"PreloaderScreen",sprites:{progressBarBg:"armature(progress_bar_bg)",progressBar:"armature(progress_bar)"},spritesEvents:{}}},n.prototype.onContentLoaded=function(){},n.prototype.onSetLandscape=function(){},n.prototype.onSetPortrait=function(){},n.prototype.onInitialize=function(){var t=this;this._graphics=new e.Graphics;var n=this.$sprites.get("progressBar");n.mask=this._graphics,this.display.addChild(this._graphics),this._graphics.x=n.x-.5*n.width,this._graphics.y=n.y-.5*n.height,this._intervalId=setInterval(function(){t._percentAdditionally+=.01,t.updateProgressBarWidth()},1e3)},n.prototype.IncLoadIndex=function(t){this._numResources=t,this._percentAdditionally=0,this._loadCounter++,this.updateProgressBarWidth()},n.prototype.updateProgressBarWidth=function(){var t=this.$sprites.get("progressBar");this._percentAdditionally>.99&&(this._percentAdditionally=.99);var e=(this._loadCounter+this._percentAdditionally)/this._numResources,n=t.width*e;this._graphics.lineStyle(1,0,1),this._graphics.clear(),this._graphics.beginFill(16777215,1),this._graphics.drawRect(0,0,n,t.height),this._graphics.endFill(),this._loadCounter/this._numResources==1&&this.removeInterval()},n.prototype.removeInterval=function(){this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null)},n.CLASS_NAME="PreloaderScreenView",n.factory={get:function(t){return new n(t)},dependency:["Options"]},n}(t.ViewBase);t.PreloaderScreenView=n}(n=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(e){var n=t.Game.Localization.LocalizationConstants,r=t.Core.EventBusConstants,o=function(t){function o(e){var n=t.call(this)||this;return n._options=e,n}return i(o,t),o.prototype.getConfiguration=function(){var t=this,i={};i.fontSize=38,i.fontFamily=e.FontConstants.FONT_REGULAR_1,i.align=e.FontConstants.FONT_ALIGN_CENTER,i.fill=e.ColorConstants.WHITE;var o={};return o.childViews={},o.childViews.ButtonPlay={view:e.GameButtonView.CLASS_NAME,options:{onPress:function(){var n=t.$childViews.get("ButtonPlay");n&&(n.visible=!1);var i=t.DependenciesContainer.get("EventBus");i.dispatch(e.AnalyticsConstants.ACTION_START,e.AnalyticsConstants.TOPIC_ANALYTIC),i.dispatch(r.GAMEPLAY_GAME_STARTED,r.TOPIC_GAMEPLAY),t._options.onPlay()},textKey:n.INTROSCREEN_PLAY,textStyle:i,soundPressName:e.SoundConstants.GAME_START},config:{slot:"ButtonPlay",armatureName:"INTR_Button_1"}},o},o.prototype.onContentLoaded=function(){},o.prototype.onSetLandscape=function(){},o.prototype.onSetPortrait=function(){},o.prototype.onInitialize=function(){var t=this.DependenciesContainer.get("SoundManager");t.stopSound(e.SoundConstants.BG_MUSIC)},o.CLASS_NAME="IntroScreenView",o.ARMATURE_LANDSCAPE="INTR_Landscape",o.ARMATURE_PORTRAIT="INTR_Portrait",o.factory={get:function(t){return new o(t)},dependency:["Options"]},o}(e.ViewBase);e.IntroScreenView=o}(e=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(e){var n=t.Core.GameUtils,r=function(t){function r(e){var n=t.call(this)||this;return n._options=e,n}return i(r,t),r.prototype.getConfiguration=function(){var t=this,n=this.isLandscape?e.BoardView.ARMATURE_LANDSCAPE:e.BoardView.ARMATURE_PORTRAIT,i=this.isLandscape?e.TopUiView.ARMATURE_LANDSCAPE:e.TopUiView.ARMATURE_PORTRAIT,r={};return r.childViews={BoardView:{model:this.$model.boardModel,view:e.BoardView.CLASS_NAME,options:{saveProgress:function(){t._options.saveProgress()},showPanelMessageView:function(e){t._options.showPanelMessageView(e)},showPanelGameEndView:function(){t._options.showPanelGameEndView()},showPanelAdvice:function(e){t._options.showPanelAdvice(e)},checkButtonCashOut:function(n){var i=t.$childViews.get(e.TopUiView.CLASS_NAME);i&&i.checkButtonCashOut()},checkButtonAdvice:function(){var n=t.$childViews.get(e.TopUiView.CLASS_NAME);n&&n.checkButtonAdvice()}},config:{slot:e.BoardView.CLASS_NAME,armatureName:n}},TopUiView:{model:this.$model.boardModel,view:e.TopUiView.CLASS_NAME,options:{onPressAdvice:function(){var n=t.$childViews.get(e.BoardView.CLASS_NAME);n&&n.advice()},onPressCashOut:function(){t._options.pressCashOut()},onPressMenu:function(){t._options.pressMenu()}},config:{slot:e.TopUiView.CLASS_NAME,armatureName:i}}},r},r.prototype.onContentLoaded=function(){},r.prototype.onSetLandscape=function(){},r.prototype.onSetPortrait=function(){},r.prototype.onInitialize=function(){},r.prototype.onResize=function(t,i){var r=this.$childViews.get(e.TopUiView.CLASS_NAME);if(r){var o=this.isLandscape?n.LANDSCAPE:n.PORTRAIT,a=new n,s=a.getScreenSize(t,i,o);r.y=.5*-s.y}},r.prototype.nextStep=function(){var t=this.$childViews.get(e.BoardView.CLASS_NAME);t&&t.nextStep()},r.prototype.reshuffleCards=function(t,n){var i=this.$childViews.get(e.BoardView.CLASS_NAME);i&&i.reshuffle(t,!1)},r.prototype.resetBoardView=function(){var t=this.$childViews.get(e.BoardView.CLASS_NAME);t&&t.reset()},r.CLASS_NAME="GameView",r.ARMATURE_LANDSCAPE="GM_GameView_L",r.ARMATURE_PORTRAIT="GM_GameView_P",r.factory={get:function(t){return new r(t)},dependency:["Options"]},r}(e.ViewBase);e.GameView=r}(e=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(e){var n=t.Core.StorageManagerConstants,i=function(){function t(t){this._dc=t,this._analyticsManager=this._dc.get("AnalyticsManager"),this._eb=this._dc.get("EventBus"),this._eb.add(e.AnalyticsConstants.ACTION_START,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleStart,this),this._eb.add(e.AnalyticsConstants.ACTION_CASH_OUT,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleCashOut,this),this._eb.add(e.AnalyticsConstants.ACTION_ADVICE,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleAdvice,this),this._eb.add(e.AnalyticsConstants.ACTION_WIN_HAND,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleWinHand,this),this._eb.add(e.AnalyticsConstants.ACTION_WIN_BLACKJACK,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleWinBlackjack,this),this._eb.add(e.AnalyticsConstants.ACTION_LOSE_HAND,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleLoseHand,this),this._eb.add(e.AnalyticsConstants.ACTION_PUSH,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handlePush,this),this._eb.add(e.AnalyticsConstants.ACTION_PUT,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handlePut,this),this._eb.add(e.AnalyticsConstants.ACTION_HELP,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleHelp,this),this._eb.add(e.AnalyticsConstants.ACTION_SPLIT_1,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleSplit1,this),this._eb.add(e.AnalyticsConstants.ACTION_SPLIT_2,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleSplit2,this),this._eb.add(e.AnalyticsConstants.ACTION_SPLIT_3,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleSplit3,this),this._eb.add(e.AnalyticsConstants.ACTION_DOUBLE,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleDouble,this),this._eb.add(e.AnalyticsConstants.ACTION_SOUND_ON_CLICK,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleSoundOnClick,this),this._eb.add(e.AnalyticsConstants.ACTION_SOUND_OFF_CLICK,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleSoundOffClick,this),this._eb.add(e.AnalyticsConstants.ACTION_HOUSE_WINS,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleHouseWins,this),this._eb.add(e.AnalyticsConstants.ACTION_ALL_IN,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleAllIn,this),this._eb.add(e.AnalyticsConstants.ACTION_INSURANCE,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleInsurance,this),this._eb.add(e.AnalyticsConstants.ACTION_INSURANCE_WON,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleInsuranceWon,this),this._eb.add(e.AnalyticsConstants.ACTION_CONTINUE,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleContinue,this),this._eb.add(e.AnalyticsConstants.ACTION_ROUNDS_CASH_OUT,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleRoundsCashOut,this),this._eb.add(e.AnalyticsConstants.ACTION_ROUNDS_LOST_GAME,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleRoundsLostGame,this),this._eb.add(e.AnalyticsConstants.ACTION_5000,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handle5000,this),this._eb.add(e.AnalyticsConstants.ACTION_10000,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handle10000,this),this._eb.add(e.AnalyticsConstants.ACTION_25000,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handle25000,this),this._eb.add(e.AnalyticsConstants.ACTION_50000,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handle50000,this),this._eb.add(e.AnalyticsConstants.ACTION_100000,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handle100000,this),this._eb.add(e.AnalyticsConstants.ACTION_250000,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handle250000,this),this._eb.add(e.AnalyticsConstants.ACTION_DOUBLE_BLACKJACK,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleDoubleBlackjack,this),this._eb.add(e.AnalyticsConstants.ACTION_MANY_CARDS,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleManyCards,this)}return t.prototype.handleStart=function(){var n=e.AnalyticsConstants.ACTION_START;this._analyticsManager.logEvent(n,{category:this.version,action:n,label:t.label,value:1})},t.prototype.handleCashOut=function(n){var i=n.data,r=e.AnalyticsConstants.ACTION_CASH_OUT;this._analyticsManager.logEvent(r,{category:this.version,action:r,label:t.label,value:i})},t.prototype.handleAdvice=function(){var n=e.AnalyticsConstants.ACTION_ADVICE;this._analyticsManager.logEvent(n,{category:this.version,action:n,label:t.label,value:1})},t.prototype.handleWinHand=function(n){var i=n.data,r=e.AnalyticsConstants.ACTION_WIN_HAND;this._analyticsManager.logEvent(r,{category:this.version,action:r,label:t.label,value:i})},t.prototype.handleWinBlackjack=function(n){var i=n.data,r=e.AnalyticsConstants.ACTION_WIN_BLACKJACK;this._analyticsManager.logEvent(r,{category:this.version,action:r,label:t.label,value:i})},t.prototype.handleLoseHand=function(n){var i=n.data,r=e.AnalyticsConstants.ACTION_LOSE_HAND;this._analyticsManager.logEvent(r,{category:this.version,action:r,label:t.label,value:i})},t.prototype.handlePush=function(n){var i=n.data,r=e.AnalyticsConstants.ACTION_PUSH;this._analyticsManager.logEvent(r,{category:this.version,action:r,label:t.label,value:i})},t.prototype.handlePut=function(t){var e=this._dc.get("ArenaHelper"),i=e.getValue(t.data),r=this._dc.get("StorageManager");r.saveData(n.STORE_PARAMETER,{k:i})},t.prototype.handleHelp=function(){var n=e.AnalyticsConstants.ACTION_HELP;this._analyticsManager.logEvent(n,{category:this.version,action:n,label:t.label,value:1})},t.prototype.handleSplit1=function(n){var i=n.data,r=e.AnalyticsConstants.ACTION_SPLIT_1;this._analyticsManager.logEvent(r,{category:this.version,action:r,label:t.label,value:i})},t.prototype.handleSplit2=function(n){var i=n.data,r=e.AnalyticsConstants.ACTION_SPLIT_2;this._analyticsManager.logEvent(r,{category:this.version,action:r,label:t.label,value:i})},t.prototype.handleSplit3=function(n){var i=n.data,r=e.AnalyticsConstants.ACTION_SPLIT_3;this._analyticsManager.logEvent(r,{category:this.version,action:r,label:t.label,value:i})},t.prototype.handleDouble=function(n){var i=n.data,r=e.AnalyticsConstants.ACTION_DOUBLE;this._analyticsManager.logEvent(r,{category:this.version,action:r,label:t.label,value:i})},t.prototype.handleSoundOnClick=function(){var n=e.AnalyticsConstants.ACTION_SOUND_ON_CLICK;this._analyticsManager.logEvent(n,{category:this.version,action:n,label:t.label,value:1})},t.prototype.handleSoundOffClick=function(){var n=e.AnalyticsConstants.ACTION_SOUND_OFF_CLICK;this._analyticsManager.logEvent(n,{category:this.version,action:n,label:t.label,value:1})},t.prototype.handleHouseWins=function(){var n=e.AnalyticsConstants.ACTION_HOUSE_WINS;this._analyticsManager.logEvent(n,{category:this.version,action:n,label:t.label,value:1})},t.prototype.handleAllIn=function(n){var i=n.data,r=e.AnalyticsConstants.ACTION_ALL_IN;this._analyticsManager.logEvent(r,{category:this.version,action:r,label:t.label,value:i})},t.prototype.handleInsurance=function(n){var i=n.data,r=e.AnalyticsConstants.ACTION_INSURANCE;this._analyticsManager.logEvent(r,{category:this.version,action:r,label:t.label,value:i})},t.prototype.handleInsuranceWon=function(n){var i=n.data,r=e.AnalyticsConstants.ACTION_INSURANCE_WON;this._analyticsManager.logEvent(r,{category:this.version,action:r,label:t.label,value:i})},t.prototype.handleContinue=function(n){var i=n.data,r=e.AnalyticsConstants.ACTION_CONTINUE;this._analyticsManager.logEvent(r,{category:this.version,action:r,label:t.label,value:i})},t.prototype.handleRoundsCashOut=function(n){var i=n.data,r=e.AnalyticsConstants.ACTION_ROUNDS_CASH_OUT;this._analyticsManager.logEvent(r,{category:this.version,action:r,label:t.label,value:i})},t.prototype.handleRoundsLostGame=function(n){var i=n.data,r=e.AnalyticsConstants.ACTION_ROUNDS_LOST_GAME;this._analyticsManager.logEvent(r,{category:this.version,action:r,label:t.label,value:i})},t.prototype.handle5000=function(){var n=e.AnalyticsConstants.ACTION_5000;this._analyticsManager.logEvent(n,{category:this.version,action:n,label:t.label,value:1})},t.prototype.handle10000=function(){var n=e.AnalyticsConstants.ACTION_10000;this._analyticsManager.logEvent(n,{category:this.version,action:n,label:t.label,value:1})},t.prototype.handle25000=function(){var n=e.AnalyticsConstants.ACTION_25000;this._analyticsManager.logEvent(n,{category:this.version,action:n,label:t.label,value:1})},t.prototype.handle50000=function(){var n=e.AnalyticsConstants.ACTION_50000;this._analyticsManager.logEvent(n,{category:this.version,action:n,label:t.label,value:1})},t.prototype.handle100000=function(){var n=e.AnalyticsConstants.ACTION_100000;this._analyticsManager.logEvent(n,{category:this.version,action:n,label:t.label,value:1})},t.prototype.handle250000=function(){var n=e.AnalyticsConstants.ACTION_250000;this._analyticsManager.logEvent(n,{category:this.version,action:n,label:t.label,value:1})},t.prototype.handleDoubleBlackjack=function(){
var n=e.AnalyticsConstants.ACTION_DOUBLE_BLACKJACK;this._analyticsManager.logEvent(n,{category:this.version,action:n,label:t.label,value:1})},t.prototype.handleManyCards=function(n){var i=n.data,r=e.AnalyticsConstants.ACTION_MANY_CARDS;this._analyticsManager.logEvent(r,{category:this.version,action:r,label:t.label,value:i})},Object.defineProperty(t.prototype,"version",{get:function(){var t=this._dc.get("Version");return t.split(" ")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"label",{get:function(){return e.AnalyticsConstants.BLACKJACK_PIXIJS},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._eb.remove(e.AnalyticsConstants.ACTION_START,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleStart,this),this._eb.remove(e.AnalyticsConstants.ACTION_CASH_OUT,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleCashOut,this),this._eb.remove(e.AnalyticsConstants.ACTION_ADVICE,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleAdvice,this),this._eb.remove(e.AnalyticsConstants.ACTION_WIN_HAND,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleWinHand,this),this._eb.remove(e.AnalyticsConstants.ACTION_WIN_BLACKJACK,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleWinBlackjack,this),this._eb.remove(e.AnalyticsConstants.ACTION_LOSE_HAND,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleLoseHand,this),this._eb.remove(e.AnalyticsConstants.ACTION_PUSH,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handlePush,this),this._eb.remove(e.AnalyticsConstants.ACTION_HELP,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleHelp,this),this._eb.remove(e.AnalyticsConstants.ACTION_SPLIT_1,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleSplit1,this),this._eb.remove(e.AnalyticsConstants.ACTION_SPLIT_2,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleSplit2,this),this._eb.remove(e.AnalyticsConstants.ACTION_SPLIT_3,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleSplit3,this),this._eb.remove(e.AnalyticsConstants.ACTION_DOUBLE,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleDouble,this),this._eb.remove(e.AnalyticsConstants.ACTION_SOUND_ON_CLICK,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleSoundOnClick,this),this._eb.remove(e.AnalyticsConstants.ACTION_SOUND_OFF_CLICK,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleSoundOffClick,this),this._eb.remove(e.AnalyticsConstants.ACTION_HOUSE_WINS,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleHouseWins,this),this._eb.remove(e.AnalyticsConstants.ACTION_ALL_IN,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleAllIn,this),this._eb.remove(e.AnalyticsConstants.ACTION_INSURANCE,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleInsurance,this),this._eb.remove(e.AnalyticsConstants.ACTION_INSURANCE_WON,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleInsuranceWon,this),this._eb.remove(e.AnalyticsConstants.ACTION_CONTINUE,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleContinue,this),this._eb.remove(e.AnalyticsConstants.ACTION_ROUNDS_CASH_OUT,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleRoundsCashOut,this),this._eb.remove(e.AnalyticsConstants.ACTION_ROUNDS_LOST_GAME,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleRoundsLostGame,this),this._eb.remove(e.AnalyticsConstants.ACTION_5000,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handle5000,this),this._eb.remove(e.AnalyticsConstants.ACTION_10000,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handle10000,this),this._eb.remove(e.AnalyticsConstants.ACTION_25000,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handle25000,this),this._eb.remove(e.AnalyticsConstants.ACTION_50000,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handle50000,this),this._eb.remove(e.AnalyticsConstants.ACTION_100000,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handle100000,this),this._eb.remove(e.AnalyticsConstants.ACTION_250000,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handle250000,this),this._eb.remove(e.AnalyticsConstants.ACTION_DOUBLE_BLACKJACK,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleDoubleBlackjack,this),this._eb.remove(e.AnalyticsConstants.ACTION_MANY_CARDS,e.AnalyticsConstants.TOPIC_ANALYTIC,this.handleManyCards,this),this._analyticsManager=null,this._eb=null,this._dc=null},t}();e.AnalyticsHelper=i}(e=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(t){var e=function(){function t(){}return t.BLACKJACK_PIXIJS="blackjack_pixijs",t.TOPIC_ANALYTIC="topic_analytic",t.ACTION_START="start",t.ACTION_CASH_OUT="cash_out",t.ACTION_ADVICE="advice",t.ACTION_WIN_HAND="win_hand",t.ACTION_WIN_BLACKJACK="win_blackjack",t.ACTION_LOSE_HAND="lose_hand",t.ACTION_PUSH="push_",t.ACTION_PUT="put_",t.ACTION_HELP="help",t.ACTION_SPLIT="split",t.ACTION_SPLIT_1="split1",t.ACTION_SPLIT_2="split2",t.ACTION_SPLIT_3="split3",t.ACTION_DOUBLE="double",t.ACTION_SOUND_ON_CLICK="sound_on_click",t.ACTION_SOUND_OFF_CLICK="sound_off_click",t.ACTION_HOUSE_WINS="house_wins",t.ACTION_ALL_IN="all_in",t.ACTION_INSURANCE="insurance",t.ACTION_INSURANCE_WON="insurance_won",t.ACTION_CONTINUE="continue",t.ACTION_ROUNDS_CASH_OUT="rounds_cash_out",t.ACTION_ROUNDS_LOST_GAME="rounds_lost_game",t.ACTION_5000="5000",t.ACTION_10000="10000",t.ACTION_25000="25000",t.ACTION_50000="50000",t.ACTION_100000="100000",t.ACTION_250000="250000",t.ACTION_DOUBLE_BLACKJACK="double_bj",t.ACTION_MANY_CARDS="many_cards",t}();t.AnalyticsConstants=e}(e=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var n;!function(n){var r=t.Core.Rndm,o=t.Core.StorageManagerConstants,a=t.Core.EventBusConstants,s=t.Game.Localization.LocalizationConstants,l=function(t){function l(e,n){var i=t.call(this,e,n.element)||this;return i.options=n,i.$model={},i}return i(l,t),l.prototype.onContentLoaded=function(){t.prototype.onContentLoaded.call(this)},l.prototype.onCreate=function(){},l.prototype.createPreloaderScreen=function(){var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABuCAIAAABJObGsAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkNDQUZEOTU1QzU0MDExRTc5OTg4QzhCQ0U3MUNCODVGIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkNDQUZEOTU2QzU0MDExRTc5OTg4QzhCQ0U3MUNCODVGIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Q0NBRkQ5NTNDNTQwMTFFNzk5ODhDOEJDRTcxQ0I4NUYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Q0NBRkQ5NTRDNTQwMTFFNzk5ODhDOEJDRTcxQ0I4NUYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7uTqIOAABmcUlEQVR42hy7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",i=e.Texture.fromImage(t);
this._background_1=new e.extras.TilingSprite(i,this.renderer.width,this.renderer.height),this._background_1.anchor.set(.5,.5),this.getLayer(0).addChild(this._background_1),t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAADACAYAAADr7b1mAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjAyNEMxRTMwQzU0MTExRTdBMkZCRjIzODQ1RjcyQUY4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjAyNEMxRTMxQzU0MTExRTdBMkZCRjIzODQ1RjcyQUY4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDI0QzFFMkVDNTQxMTFFN0EyRkJGMjM4NDVGNzJBRjgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDI0QzFFMkZDNTQxMTFFN0EyRkJGMjM4NDVGNzJBRjgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6KN5z3AAB2RUlEQVR42tR9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";
var r=e.Texture.fromImage(t);this._background_2=new e.Sprite(r),this._background_2.anchor.set(.5,.5),this.getLayer(0).addChild(this._background_2),this._preloader=this.addChild({view:n.PreloaderScreenView.CLASS_NAME},n.PreloaderScreenView.CLASS_NAME)},l.prototype.onIncLoadIndex=function(t){this._preloader.IncLoadIndex(t)},l.prototype.getConfiguration=function(){return this.removeChildByName(n.PreloaderScreenView.CLASS_NAME),window.focus(),{}},l.prototype.onInitialize=function(){var t=this;this._eventBus=this.dc.get("EventBus"),this.preloadAudio(),this.showIntroScreen();var e=this.dc.get("GameAutoTestingManager");e.init(this.startAutoTesting.bind(this),this.tryToCallArenaGameEndOrSelectMode.bind(this)),this._eventBus.add(a.GAMEPLAY_MIDROLL_STARTED,a.TOPIC_GAMEPLAY,function(){return t.handleSoundOnPause(!0)},this),this._eventBus.add(a.GAMEPLAY_MIDROLL_FINISHED,a.TOPIC_GAMEPLAY,function(){return t.handleSoundOnPause(!1)},this)},l.prototype.preloadAudio=function(){var t=this.dc.get("SoundManager");"Microsoft Internet Explorer"==navigator.appName||navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/rv:11/)?t.load("1"):t.preloadAudio(function(t,e){},function(){},"1")},l.prototype.showIntroScreen=function(){var t=this,e=this.isLandscape?n.IntroScreenView.ARMATURE_LANDSCAPE:n.IntroScreenView.ARMATURE_PORTRAIT;this.addChild({view:n.IntroScreenView.CLASS_NAME,config:{armatureName:e},options:{onPlay:function(){t.$model.progressModel=new n.ProgressModel(t.dc);var e=t.$model.progressModel.data;e.moneyBank>0?t.showPanelContinue():t.startGame()}}},n.IntroScreenView.CLASS_NAME)},l.prototype.startAutoTesting=function(){this.$model.progressModel=new n.ProgressModel(this.dc),this.$model.progressModel.resetData(),this.startGame()},l.prototype.startGame=function(){this.removeChildByName(n.IntroScreenView.CLASS_NAME),window.focus();var t=this.dc.get("SoundManager");t.playSound(n.SoundConstants.BG_MUSIC,!0),this._continueGameEndPressed=!1;var e=null;this._rndm=new r,this._rndm.initialize(e);var i=this.dc.get("StorageManager"),a=parseInt(i.loadData(o.OPTIONS_DECK_ID)),s=parseInt(n.BoardModel.NUM_DECKS[a]),l=new n.BoardModel;l.createNewGame(this._rndm,this.$model.progressModel.data),l.createNewDeck(s),this.$model.boardModel=l,this.showGameView()},l.prototype.showGameView=function(){var t=this,e=this.isLandscape?n.GameView.ARMATURE_LANDSCAPE:n.GameView.ARMATURE_PORTRAIT;this.addChild({config:{armatureName:e},view:n.GameView.CLASS_NAME,model:this.$model,options:{pressCashOut:function(){var e=t.dc.get("SoundManager");e.playSound(n.SoundConstants.CASH_IN),t._eventBus.dispatch(a.GAMEPLAY_GAME_EVENT_CHANGED,a.TOPIC_GAMEPLAY),t.showPanelCashOut()},pressMenu:function(){t._eventBus.dispatch(a.GAMEPLAY_GAME_EVENT_CHANGED,a.TOPIC_GAMEPLAY),t.showPanelMenuView()},saveProgress:function(){t.$model.progressModel.saveDataByBoardModel(t.$model.boardModel)},showPanelMessageView:function(e){t.showPanelMessage(e)},showPanelGameEndView:function(){var e=t.$childViews.get(n.PanelGameEndView.CLASS_NAME);e||t.showPanelGameEnd(!0)},showPanelAdvice:function(e){t.showPanelAdvice(e)}}},n.GameView.CLASS_NAME)},l.prototype.onSetLandscape=function(){this.backgroundResize();var t=this.checkGameView(n.GameView.ARMATURE_LANDSCAPE);this.checkIntroScreen(n.IntroScreenView.ARMATURE_LANDSCAPE),this.checkPanelMenuView(n.PanelMenuView.ARMATURE_LANDSCAPE),this.checkPanelMessage(t),this.checkPanelGameEnd(t),this.checkPanelHelp(t),this.checkPanelCashOut(t),this.checkPanelContinue(t),this.checkPanelAdvice(t)},l.prototype.onSetPortrait=function(){this.backgroundResize();var t=this.checkGameView(n.GameView.ARMATURE_PORTRAIT);this.checkIntroScreen(n.IntroScreenView.ARMATURE_PORTRAIT),this.checkPanelMenuView(n.PanelMenuView.ARMATURE_PORTRAIT),this.checkPanelMessage(t),this.checkPanelGameEnd(t),this.checkPanelHelp(t),this.checkPanelCashOut(t),this.checkPanelContinue(t),this.checkPanelAdvice(t)},l.prototype.checkIntroScreen=function(t){var e=this.$childViews.get(n.IntroScreenView.CLASS_NAME),i=e&&e.config?e.config.armatureName:"";e&&i!=t&&(this.removeChildByName(n.IntroScreenView.CLASS_NAME),this.showIntroScreen())},l.prototype.checkGameView=function(t){var e=!1,i=this.$childViews.get(n.GameView.CLASS_NAME),r=i&&i.config?i.config.armatureName:"";return i&&r!=t&&(e=!0,this.removeChildByName(n.GameView.CLASS_NAME),this.showGameView()),e},l.prototype.checkPanelMenuView=function(t){var e=this.$childViews.get(n.PanelMenuView.CLASS_NAME),i=e&&e.config?e.config.armatureName:"";e&&i!=t&&(this.removeChildByName(n.PanelMenuView.CLASS_NAME),this.showPanelMenuView())},l.prototype.showPanelMenuView=function(){var t=this,e=this.checkBlockPress();if(!e){var i=this.isLandscape?n.PanelMenuView.ARMATURE_LANDSCAPE:n.PanelMenuView.ARMATURE_PORTRAIT;this.addChild({view:n.PanelMenuView.CLASS_NAME,model:this.$model.boardModel,config:{armatureName:i},options:{onPress:function(e,i){if(t.removeChildByName(n.PanelMenuView.CLASS_NAME),e==n.PanelMenuView.PRESS_HELP)t._eventBus.dispatch(a.GAMEPLAY_GAME_EVENT_CHANGED,a.TOPIC_GAMEPLAY),setTimeout(t.showPanelHelp.bind(t),100);else if(e==n.PanelMenuView.PRESS_CASH_OUT){var r=t.dc.get("SoundManager");r.playSound(n.SoundConstants.CASH_IN),setTimeout(t.showPanelCashOut.bind(t),100)}var s=t.dc.get("StorageManager"),l=parseInt(s.loadData(o.OPTIONS_DECK_ID)),u=parseInt(n.BoardModel.NUM_DECKS[l]);if(t.$model.boardModel.numDecks!=u&&t.$model.boardModel.state==n.BoardModel.STATE_BET){var h=t.$childViews.get(n.GameView.CLASS_NAME);h&&h.reshuffleCards(u,!1)}}}},n.PanelMenuView.CLASS_NAME)}},l.prototype.checkPanelGameEnd=function(t){var e=this.$childViews.get(n.PanelGameEndView.CLASS_NAME);e&&t&&(this.removeChildByName(n.PanelGameEndView.CLASS_NAME),this.showPanelGameEnd(!1))},l.prototype.showPanelGameEnd=function(t,e){var i=this;void 0===e&&(e=null);var r=this.dc.get("EventBus"),o=this.dc.get("SoundManager");o.mute(!0),o.stopSound(n.SoundConstants.BG_MUSIC);var a=this.$model.boardModel.getGameEndViewOptions();r.dispatch(n.AnalyticsConstants.ACTION_PUT,n.AnalyticsConstants.TOPIC_ANALYTIC,a.cashWon),a.onPress=function(){i._continueGameEndPressed=!0,i.tryToCallArenaGameEndOrSelectMode(a.totalScore)},a.isAnimation=t,a.continueGameEndPressed=this._continueGameEndPressed,e==n.AnalyticsConstants.ACTION_CASH_OUT&&r.dispatch(n.AnalyticsConstants.ACTION_CASH_OUT,n.AnalyticsConstants.TOPIC_ANALYTIC,a.totalScore),this.addChild({view:n.PanelGameEndView.CLASS_NAME,options:a},n.PanelGameEndView.CLASS_NAME)},l.prototype.checkPanelMessage=function(t){var e=this.$childViews.get(n.PanelMessageView.CLASS_NAME);if(e&&t){var i=e.options;this.removeChildByName(n.PanelMessageView.CLASS_NAME),this.showPanelMessage(i)}},l.prototype.showPanelMessage=function(t){var e=this;t.onPress=function(){e.removeChildByName(n.PanelMessageView.CLASS_NAME);var t=e.$childViews.get(n.GameView.CLASS_NAME);t&&t.nextStep()},this.addChild({view:n.PanelMessageView.CLASS_NAME,options:t},n.PanelMessageView.CLASS_NAME)},l.prototype.checkPanelHelp=function(t){var e=this.$childViews.get(n.PanelHelpView.CLASS_NAME);e&&t&&(this.removeChildByName(n.PanelHelpView.CLASS_NAME),this.showPanelHelp())},l.prototype.showPanelHelp=function(){var t=this;this.addChild({view:n.PanelHelpView.CLASS_NAME,options:{onPress:function(){t.removeChildByName(n.PanelHelpView.CLASS_NAME)}}},n.PanelHelpView.CLASS_NAME)},l.prototype.handleSoundOnPause=function(t){var e=this.dc.get("StorageManager"),n=this.dc.get("SoundManager"),i=t||1===parseInt(e.loadData(o.MUTE_SOUNDS));n.mute(i)},l.prototype.checkPanelCashOut=function(t){var e=this.$childViews.get(n.PanelCashOutView.CLASS_NAME);e&&t&&(this.removeChildByName(n.PanelCashOutView.CLASS_NAME),this.showPanelCashOut())},l.prototype.showPanelCashOut=function(){var t=this,e=this.checkBlockPress();e||this.addChild({view:n.PanelCashOutView.CLASS_NAME,options:{onPressYes:function(){t.removeChildByName(n.PanelCashOutView.CLASS_NAME);var e=t.$model.boardModel.getDeckByType(n.DeckTypes.PlayerMain),i=e.wasDouble?2:1,r=t.$model.boardModel.moneyBank+i*t.$model.boardModel.moneyBet;if(r>0){var o=t.dc.get("EventBus");o.dispatch(n.AnalyticsConstants.ACTION_ROUNDS_CASH_OUT,n.AnalyticsConstants.TOPIC_ANALYTIC,t.$model.boardModel.countRounds)}t.showPanelGameEnd(!0,n.AnalyticsConstants.ACTION_CASH_OUT)},onPressNo:function(){t.removeChildByName(n.PanelCashOutView.CLASS_NAME)}}},n.PanelCashOutView.CLASS_NAME)},l.prototype.checkPanelContinue=function(t){var e=this.$childViews.get("PanelContinue");e&&t&&(this.removeChildByName("PanelContinue"),this.showPanelContinue())},l.prototype.showPanelContinue=function(){var t=this;this.addChild({view:n.PanelDialogView.CLASS_NAME,options:{state:n.PanelDialogView.STATE_YES_NO,textKey:s.PANEL_CONTINUE_QUESTION,onPressYes:function(){t.removeChildByName("PanelContinue");var e=t.dc.get("EventBus");e.dispatch(n.AnalyticsConstants.ACTION_CONTINUE,n.AnalyticsConstants.TOPIC_ANALYTIC,t.$model.progressModel.data.moneyBank),t.startGame()},onPressNo:function(){t.removeChildByName("PanelContinue"),t.$model.progressModel.resetData(),t.startGame()}}},"PanelContinue")},l.prototype.checkPanelAdvice=function(t){var e=this.$childViews.get("PanelAdvice");if(e&&t){var n=e.options.text;this.removeChildByName("PanelAdvice"),this.showPanelAdvice(n)}},l.prototype.showPanelAdvice=function(t){var e=this;this.addChild({view:n.PanelDialogView.CLASS_NAME,options:{state:n.PanelDialogView.STATE_CONTINUE,text:t,onPressContinue:function(){e.removeChildByName("PanelAdvice")}}},"PanelAdvice")},l.prototype.backgroundResize=function(){this._background_1&&(this._background_1.width=this.renderer.width,this._background_1.height=this.renderer.height),this._background_2&&(this._background_2.width=this.renderer.width,this._background_2.height=this.renderer.height)},l.prototype.checkBlockPress=function(){var t=!0;return this.$model.boardModel.state!=n.BoardModel.STATE_BET&&this.$model.boardModel.state!=n.BoardModel.STATE_NORMAL_GAME||(t=!1),t},l.prototype.tryToCallArenaGameEndOrSelectMode=function(t){var e=this.dc.get("ArenaHelper"),i=e.shouldShowInternalGameEnd();1==i?(this.removeChildByName(n.PanelGameEndView.CLASS_NAME),this.resetGame()):(this._eventBus.dispatch(a.GAMEPLAY_GAME_FINISHED,a.TOPIC_GAMEPLAY,this.$model.progressModel.data.t),this.$model.progressModel.resetData(),this.$model.progressModel.saveData(),this._eventBus.dispatch(a.GAMEPLAY_GAME_ENDED,a.TOPIC_GAMEPLAY,t))},l.prototype.resetGame=function(){var t=this.$childViews.get(n.GameView.CLASS_NAME);t&&(t.resetBoardView(),this.removeChildByName(n.GameView.CLASS_NAME)),this.$model.boardModel.resetGame(),this.showIntroScreen()},l.factory={get:function(t,e){var n=new l(t,e);t.get("Autotest",{root:n});return n},dependency:["DependenciesContainer","Options"],singleton:!0},l}(n.GameBase);n.GameMain=l}(n=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(t){var e;!function(t){t[t.Spades=0]="Spades",t[t.Hearts=1]="Hearts",t[t.Clubs=2]="Clubs",t[t.Diamonds=3]="Diamonds"}(e=t.Suits||(t.Suits={}));var n;!function(t){t[t.Red=0]="Red",t[t.Black=1]="Black"}(n=t.SuitColors||(t.SuitColors={}));var i;!function(t){t[t.Two=2]="Two",t[t.Three=3]="Three",t[t.Four=4]="Four",t[t.Five=5]="Five",t[t.Six=6]="Six",t[t.Seven=7]="Seven",t[t.Eight=8]="Eight",t[t.Nine=9]="Nine",t[t.Ten=10]="Ten",t[t.Jack=11]="Jack",t[t.Queen=12]="Queen",t[t.King=13]="King",t[t.Ace=14]="Ace"}(i=t.Ranks||(t.Ranks={}));var r;!function(t){t[t.Initial=0]="Initial",t[t.DiscardPile=1]="DiscardPile",t[t.DealerMain=2]="DealerMain",t[t.PlayerMain=3]="PlayerMain",t[t.PlayerSplit0=4]="PlayerSplit0",t[t.PlayerSplit1=5]="PlayerSplit1",t[t.PlayerSplit2=6]="PlayerSplit2"}(r=t.DeckTypes||(t.DeckTypes={}));var o;!function(t){t[t.FromBetToPlayer=0]="FromBetToPlayer",t[t.FromBetToDealer=1]="FromBetToDealer",t[t.FromBetToPlayerCard=2]="FromBetToPlayerCard",t[t.FromPlayerCardToBet=3]="FromPlayerCardToBet",t[t.FromDealerToBet=4]="FromDealerToBet",t[t.FromDealerToPlayer=5]="FromDealerToPlayer",t[t.FromPlayerToBet=6]="FromPlayerToBet",t[t.FromPlayerToDealer=7]="FromPlayerToDealer",t[t.FromPlayerToSplit0=8]="FromPlayerToSplit0",t[t.FromPlayerToSplit1=9]="FromPlayerToSplit1",t[t.FromPlayerToSplit2=10]="FromPlayerToSplit2"}(o=t.ChipTypes||(t.ChipTypes={}));var a;!function(t){t[t.Nothing=0]="Nothing",t[t.Hit=1]="Hit",t[t.Stand=2]="Stand",t[t.Double=3]="Double",t[t.Split=4]="Split"}(a=t.AdviceTypes||(t.AdviceTypes={}))}(e=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(e){var n=t.Game.Suits,i=t.Game.Ranks,r=function(){function t(){}return t.getPrefixBySuitType=function(t){var e="";switch(t){case n.Clubs:e="clubs";break;case n.Diamonds:e="diamonds";break;case n.Hearts:e="hearts";break;case n.Spades:e="spades"}return e},t.getPrefixByRankType=function(t){var e=t.toString();switch(t){case i.Jack:e="j";break;case i.Queen:e="q";break;case i.King:e="k";break;case i.Ace:e="a"}return e},t}();e.TextHelper=r}(e=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var n;!function(t){var n=function(){function t(){}return t.prototype.init=function(t,n,i){void 0===i&&(i=null),this._position=t,this._rotation=n,this._scale=i||new e.Point(1,1)},Object.defineProperty(t.prototype,"position",{get:function(){return this._position},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this._scale},enumerable:!0,configurable:!0}),t}();t.CardPosition=n}(n=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(e){var n=t.Core.StorageManagerConstants,i=function(){function t(t){this._storageManager=t.get("StorageManager"),this._encryptor=t.get("Encryptor"),this._protectUtils=t.get("ProtectUtils");var e=this._storageManager.loadData(n.PROGRESS_DATA),i=e?this._encryptor(e):null;i?(this._data=JSON.parse(i),this._protectUtils.validateToken(this._data.t)||this.resetData()):this.resetData()}return t.prototype.resetData=function(){this._data={},this._data.t=this._protectUtils.getToken(),this._data.timestamp=Math.floor(Date.now().valueOf()/1e3),this._data.moneyBank=0,this._data.handsWon=0,this._data.highestBank=0,this._data.moneyBetPrev=e.BoardModel.BET_PREV_DEFAULT},t.prototype.saveDataByBoardModel=function(t){this._data.moneyBank=t.moneyBank,this._data.handsWon=t.handsWon,this._data.highestBank=t.highestBank,this._data.moneyBetPrev=t.moneyBet,this._data.timestamp=Math.floor(Date.now().valueOf()/1e3),this.saveData()},t.prototype.saveData=function(){var t=JSON.stringify(this._data),e=this._encryptor(t),i=JSON.stringify({moneyBank:this._data.moneyBank,handsWon:this._data.handsWon,highestBank:this._data.highestBank,moneyBetPrev:this._data.moneyBetPrev,timestamp:this._data.timestamp});this._storageManager.saveData(n.PROGRESS_DATA,e),this._storageManager.saveData(n.PROGRESS_DATA_DECEPTION,btoa(i))},Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),t}();e.ProgressModel=i}(e=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(t){var e=function(){function t(t,e,n){this._dignity=t,this._id=e,this._type=n}return Object.defineProperty(t.prototype,"dignity",{get:function(){return this._dignity},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t},enumerable:!0,configurable:!0}),t}();t.ChipModel=e}(e=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(e){var n=t.Game.Suits,i=t.Game.SuitColors,r=function(){function t(t,e,r){this._deckId=-1,this._deckIdPrev=-1,this._active=!1,this._clickable=!1,this._rank=e,this._suit=t,this._id=r,this._suit==n.Spades||this._suit==n.Clubs?this._suitColor=i.Black:this._suitColor=i.Red}return Object.defineProperty(t.prototype,"suit",{get:function(){return this._suit},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rank",{get:function(){return this._rank},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deckId",{get:function(){return this._deckId},set:function(t){this._deckIdPrev=this._deckIdPrev==-1?t:this._deckId,this._deckId=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deckIdPrev",{get:function(){return this._deckIdPrev},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this._active},set:function(t){this._active=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clickable",{get:function(){return this._clickable},set:function(t){this._clickable=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"suitColor",{get:function(){return this._suitColor},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._suit=null,this._rank=null},t}();e.CardModel=r}(e=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(t){var e=function(){function e(t){this.$model=t,this.init()}return e.prototype.init=function(){this._data={},this._data.p_4={d_2:"H",d_3:"H",d_4:"H",d_5:"H",d_6:"H",d_7:"H",d_8:"H",d_9:"H",d_10:"H",d_11:"H"},this._data.p_5={d_2:"H",d_3:"H",d_4:"H",d_5:"H",d_6:"H",d_7:"H",d_8:"H",d_9:"H",d_10:"H",d_11:"H"},this._data.p_6={d_2:"H",d_3:"H",d_4:"H",d_5:"H",d_6:"H",d_7:"H",d_8:"H",d_9:"H",d_10:"H",d_11:"H"},this._data.p_7={d_2:"H",d_3:"H",d_4:"H",d_5:"H",d_6:"H",d_7:"H",d_8:"H",d_9:"H",d_10:"H",d_11:"H"},this._data.p_8={d_2:"H",d_3:"H",d_4:"H",d_5:"H",d_6:"H",d_7:"H",d_8:"H",d_9:"H",d_10:"H",d_11:"H"},this._data.p_9={d_2:"H",d_3:"D",d_4:"D",d_5:"D",d_6:"D",d_7:"H",d_8:"H",d_9:"H",d_10:"H",d_11:"H"},this._data.p_10={d_2:"D",d_3:"D",d_4:"D",d_5:"D",d_6:"D",d_7:"D",d_8:"D",d_9:"D",d_10:"H",d_11:"H"},this._data.p_11={d_2:"D",d_3:"D",d_4:"D",d_5:"D",d_6:"D",d_7:"D",d_8:"D",d_9:"D",d_10:"D",d_11:"H"},this._data.p_12={d_2:"H",d_3:"H",d_4:"S",d_5:"S",d_6:"S",d_7:"H",d_8:"H",d_9:"H",d_10:"H",d_11:"H"},this._data.p_13={d_2:"S",d_3:"S",d_4:"S",d_5:"S",d_6:"S",d_7:"H",d_8:"H",d_9:"H",d_10:"H",d_11:"H"},this._data.p_14={d_2:"S",d_3:"S",d_4:"S",d_5:"S",d_6:"S",d_7:"H",d_8:"H",d_9:"H",d_10:"H",d_11:"H"},this._data.p_15={d_2:"S",d_3:"S",d_4:"S",d_5:"S",d_6:"S",d_7:"H",d_8:"H",d_9:"H",d_10:"H",d_11:"H"},this._data.p_16={d_2:"S",d_3:"S",d_4:"S",d_5:"S",d_6:"S",d_7:"H",d_8:"H",d_9:"H",d_10:"H",d_11:"H"},this._data.p_17={d_2:"S",d_3:"S",d_4:"S",d_5:"S",d_6:"S",d_7:"S",d_8:"S",d_9:"S",d_10:"S",d_11:"S"},this._data.p_18={d_2:"S",d_3:"S",d_4:"S",d_5:"S",d_6:"S",d_7:"S",d_8:"S",d_9:"S",d_10:"S",d_11:"S"},this._data.p_19={d_2:"S",d_3:"S",d_4:"S",d_5:"S",d_6:"S",d_7:"S",d_8:"S",d_9:"S",d_10:"S",d_11:"S"},this._data.p_20={d_2:"S",d_3:"S",d_4:"S",d_5:"S",d_6:"S",d_7:"S",d_8:"S",d_9:"S",d_10:"S",d_11:"S"},this._data.p_11_9={d_2:"S",d_3:"S",d_4:"S",d_5:"S",d_6:"S",d_7:"S",d_8:"S",d_9:"S",d_10:"S",d_11:"S"},this._data.p_11_8={d_2:"S",d_3:"S",d_4:"S",d_5:"S",d_6:"S",d_7:"S",d_8:"S",d_9:"S",d_10:"S",d_11:"S"},this._data.p_11_7={d_2:"S",d_3:"D",d_4:"D",d_5:"D",d_6:"D",d_7:"S",d_8:"S",d_9:"H",d_10:"H",d_11:"H"},this._data.p_11_6={d_2:"H",d_3:"D",d_4:"D",d_5:"D",d_6:"D",d_7:"H",d_8:"H",d_9:"H",d_10:"H",d_11:"H"},this._data.p_11_5={d_2:"H",d_3:"H",d_4:"D",d_5:"D",d_6:"D",d_7:"H",d_8:"H",d_9:"H",d_10:"H",d_11:"H"},this._data.p_11_4={d_2:"H",d_3:"H",d_4:"D",d_5:"D",d_6:"D",d_7:"H",d_8:"H",d_9:"H",d_10:"H",d_11:"H"},this._data.p_11_3={d_2:"H",d_3:"H",d_4:"H",d_5:"D",d_6:"D",d_7:"H",d_8:"H",d_9:"H",d_10:"H",d_11:"H"},this._data.p_11_2={d_2:"H",d_3:"H",d_4:"H",d_5:"D",d_6:"D",d_7:"H",d_8:"H",d_9:"H",d_10:"H",d_11:"H"},this._data.p_11_11={d_2:"SP",d_3:"SP",d_4:"SP",d_5:"SP",d_6:"SP",d_7:"SP",d_8:"SP",d_9:"SP",d_10:"SP",d_11:"SP"},this._data.p_10_10={d_2:"S",d_3:"S",d_4:"S",d_5:"S",d_6:"S",d_7:"S",d_8:"S",d_9:"S",d_10:"S",d_11:"S"},this._data.p_9_9={d_2:"SP",d_3:"SP",d_4:"SP",d_5:"SP",d_6:"SP",d_7:"S",d_8:"SP",d_9:"SP",d_10:"S",d_11:"S"},this._data.p_8_8={d_2:"SP",d_3:"SP",d_4:"SP",d_5:"SP",d_6:"SP",d_7:"SP",d_8:"SP",d_9:"SP",d_10:"SP",d_11:"S"},this._data.p_7_7={d_2:"SP",d_3:"SP",d_4:"SP",d_5:"SP",d_6:"SP",d_7:"SP",d_8:"H",d_9:"H",d_10:"H",d_11:"H"},this._data.p_6_6={d_2:"SP",d_3:"SP",d_4:"SP",d_5:"SP",d_6:"SP",d_7:"SP",d_8:"H",d_9:"H",d_10:"H",d_11:"H"},this._data.p_5_5={d_2:"D",d_3:"D",d_4:"D",d_5:"D",d_6:"D",d_7:"D",d_8:"D",d_9:"D",d_10:"H",d_11:"H"},this._data.p_4_4={d_2:"H",d_3:"H",d_4:"H",d_5:"SP",d_6:"SP",d_7:"H",d_8:"H",d_9:"H",d_10:"H",d_11:"H"},this._data.p_3_3={d_2:"SP",d_3:"SP",d_4:"SP",d_5:"SP",d_6:"SP",d_7:"SP",d_8:"H",d_9:"H",d_10:"H",d_11:"H"},this._data.p_2_2={d_2:"SP",d_3:"SP",d_4:"SP",d_5:"SP",d_6:"SP",d_7:"SP",d_8:"H",d_9:"H",d_10:"H",d_11:"H"}},e.prototype.getAdvice=function(){var e,n,i="",r=this.$model.getDeckByType(t.DeckTypes.DealerMain),o=r.calculatePoints(),a=this.$model.getDeckByType(t.DeckTypes.PlayerMain),s=a.calculatePoints(),l=a.cards,u="";if(l.length>=2){var h=l[0],c=l[1];if(2==l.length&&h.rank==c.rank){var d=a.calculatePointByCard(h);u="p_"+d.toString()+"_"+d.toString()}else{var p=r.isAceFull(),f=s;p?(f-=11,u="p_11_"+f.toString()):u="p_"+f.toString()}}if(""!=u&&this._data[u]){n=this._data[u];var _="d_"+o.toString();i=n[_],e=this.getAdviceTypes(i)}else e=t.AdviceTypes.Nothing;var m=this.$model.moneyBank,y=this.$model.moneyBet;if(e==t.AdviceTypes.Double)m>0&&m<y&&(e=t.AdviceTypes.Hit);else if(e==t.AdviceTypes.Split&&m>0&&m<y){u="p_"+s.toString(),n=this._data[u];var _="d_"+o.toString();i=n[_],e=this.getAdviceTypes(i)}return e},e.prototype.getAdviceTypes=function(e){var n=t.AdviceTypes.Nothing;switch(e){case"H":n=t.AdviceTypes.Hit;break;case"S":n=t.AdviceTypes.Stand;break;case"D":n=t.AdviceTypes.Double;break;case"SP":n=t.AdviceTypes.Split}return n},e}();t.AdviceModel=e}(e=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(e){var n=t.Game.Ranks,i=function(){function t(t){this._type=t,this._cards=[],this.resetParameters()}return t.prototype.addCard=function(t){this._cards[this._cards.length]=t},t.prototype.removeTopCard=function(){this._cards.pop()},t.prototype.removeBottomCard=function(){this._cards.shift()},t.prototype.removeCard=function(t){var e=this._cards.indexOf(t);e>-1&&this._cards.splice(e,1)},t.prototype.getIndexCard=function(t){var e=this._cards.indexOf(t);return e},t.prototype.getCardsActive=function(){for(var t=[],e=this._cards,n=e.length,i=0;i<n;i++){var r=e[i];r.active&&t.push(r)}return t},t.prototype.calculatePoints=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=null);for(var i=0,r=this._cards,o=0,a=r.length,s=0;s<a;s++){var l=r[s];if(0!=t||0!=l.active){var u=this.calculatePointByCard(l);if(i+=u,l.rank==n.Ace&&(o+=1),e==l)break}else if(e==l)break}for(var s=0;s<o&&i>21;s++)i-=10;return i},t.prototype.isAceFull=function(t){void 0===t&&(t=!1);for(var e=0,i=this._cards,r=0,o=i.length,a=0;a<o;a++){var s=i[a];if(0!=t||0!=s.active){var l=this.calculatePointByCard(s);e+=l,s.rank==n.Ace&&(r+=1)}}var u;for(u=0;u<r&&e>21;u++)e-=10;var h=r>0&&u<r-1;return h},t.prototype.calculatePointByCard=function(t){var e;switch(t.rank){case n.Ace:e=11;break;case n.Jack:case n.Queen:case n.King:e=10;break;default:e=t.rank}return e},t.prototype.getNumAces=function(){for(var t=0,e=0;e<this._cards.length;e++){var i=this._cards[e];i.rank==n.Ace&&t++}return t},t.prototype.isAceWithOnePoint=function(){for(var t=!1,e=0,i=0,r=this._cards,o=r.length,a=0;a<o;a++){var s=r[a],l=this.calculatePointByCard(s);i+=l,s.rank==n.Ace&&(e+=1)}return e>0&&i>21&&(t=!0),t},t.prototype.resetParameters=function(){this._wasDouble=!1,this._wasBlackJack=!1,this._wasStand=!1},t.prototype.destroy=function(){this._type=null;for(var t=this._cards.length,e=0;e<t;e++){var n=this._cards[e];n.destroy(),this._cards[e]=null}this._cards=null,this.resetParameters()},Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cards",{get:function(){return this._cards},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topCard",{get:function(){var t;return this._cards&&this._cards.length>0&&(t=this._cards[this._cards.length-1]),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomCard",{get:function(){var t;return this._cards&&this._cards.length>0&&(t=this._cards[0]),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wasDouble",{get:function(){return this._wasDouble},set:function(t){this._wasDouble=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wasBlackJack",{get:function(){return this._wasBlackJack},set:function(t){this._wasBlackJack=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wasStand",{get:function(){return this._wasStand},set:function(t){this._wasStand=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"completed",{get:function(){var t=!1,n=this.calculatePoints();return(this._wasStand||this._wasDouble||this._wasBlackJack||n>=e.BoardModel.POINT_21)&&(t=!0),t},enumerable:!0,configurable:!0}),t}();e.DeckModel=i}(e=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(e){var n=t.Core.MathUtils,i=t.Game.CardModel,r=t.Game.DeckTypes,o=t.Game.DeckModel,a=t.Game.Ranks,s=t.Game.Localization.LocalizationConstants,l=function(){function t(){}return t.prototype.createNewGame=function(e,n){this._rndm=e,this.resetGame(),this._moneyBetPrev=n.moneyBetPrev,n.moneyBank>0?(this.updateMoneyBank(n.moneyBank),this._handsWon=n.handsWon,this._highestBank=n.highestBank):this.updateMoneyBank(t.MONEY_DEFAULT),this.state=t.STATE_BET},t.prototype.createNewDeck=function(t){this._numDecks=t;var e=new n;this._startingDeck=[],this._decks=[],this._cardsIdIncrement=0;for(var r=0;r<t;r++)for(var o=0;o<4;o++)for(var a=2;a<15;a++){var s=new i(o,a,this._cardsIdIncrement);this._cardsIdIncrement++,this._startingDeck[this._startingDeck.length]=s}e.shuffleArray(this._startingDeck,this._rndm),this.specificActionWhileCreatingNewDecks()},t.prototype.debugSetSequenceCards=function(){this._startingDeck=[];for(var t=JSON.parse(""),e=0;e<t.length;e++){var n=t[e],r=new i(n._suit,n._rank,n._id);this._startingDeck[this._startingDeck.length]=r}},t.prototype.debugChangeSequenceCards=function(){for(var t=[],e=0;e<t.length;e++)for(var n=t[e],i=this._startingDeck.length,r=0==e?0:e+1,o=r;o<i;o++){var a=this._startingDeck[o];if(n.suit==a.suit&&n.rank==a.rank){this._startingDeck.splice(o,1),this._startingDeck.splice(e,0,a);break}}},t.prototype.specificActionWhileCreatingNewDecks=function(){var t=this.createDeck(r.Initial);this._decks[t.id]=t;for(var e=this._startingDeck.slice(),n=e.length,i=0;i<n;i++){var o=e[i];o.deckId=0,o.active=!1,o.clickable=!1,t.addCard(o)}var a=this.createDeck(r.DiscardPile);this._decks[a.id]=a;var s=this.createDeck(r.DealerMain);this._decks[s.id]=s;var l=this.createDeck(r.PlayerMain);this._decks[l.id]=l;var u=this.createDeck(r.PlayerSplit0);this._decks[u.id]=u;var h=this.createDeck(r.PlayerSplit1);this._decks[h.id]=h;var c=this.createDeck(r.PlayerSplit2);this._decks[c.id]=c},t.prototype.createDeck=function(t){var e=new o(t);return e.id=t,e},t.prototype.reshuffle=function(t,e){t&&(this._numDecks=t),this._reshuffleShowPopup=e,this.createNewDeck(this._numDecks)},t.prototype.moveCardToDeck=function(t,e){if(t.deckId!=e){var n=this._decks[t.deckId],i=this.getDeckById(e),r=[t];this.moveCardsFromToDeck(r,n,i)}},t.prototype.moveCardsFromToDeck=function(t,e,n){for(var i=[],r=t.length,o=0;o<r;o++){var a=t[o];e.removeCard(a),a.deckId=n.id,i.push(a)}i.forEach(function(t){return n.addCard(t)})},t.prototype.calculatePointsByDeck=function(t,e){void 0===e&&(e=!1);var n=this.getDeckByType(t),i=n.calculatePoints(e);return i},t.prototype.getDeckById=function(t){var e;return this._decks&&(e=this._decks[t]),e},t.prototype.getDeckByType=function(t){var e;return this._decks&&(e=this._decks[t]),e},t.prototype.getDecks=function(){return this._decks},t.prototype.updateChipsPlayer=function(n){this._chipsPlayer=[];for(var i=0,r=0;r<t.CHIPS_DIGNITY.length;r++){var o=t.CHIPS_DIGNITY[r];if(!(n>=o))break;i=r}for(var a=0,r=0;r<=i;r++){var o=t.CHIPS_DIGNITY[r],s=3;r==i&&(s=Math.floor(n/o));for(var l=0;l<s;l++){var u=new e.ChipModel(o,a,e.ChipTypes.FromBetToPlayer);a+=1,this._chipsPlayer.push(u)}}},t.prototype.getChipsPlayerByDignity=function(t){for(var e=[],n=this._chipsPlayer.length,i=0;i<n;i++){var r=this._chipsPlayer[i];t==r.dignity&&e.push(r)}return e},t.prototype.addChipToBets=function(t){var n=new e.ChipModel(t,this._chipsBets.length,e.ChipTypes.FromPlayerToBet);this._chipsBets.push(n),this.updateMoneyBets()},t.prototype.removeChipFromBets=function(){var t=this._chipsBets.pop();return this.updateMoneyBets(),t},t.prototype.removeAllChipsFromBets=function(){this._chipsBets=[],this.updateMoneyBets()},t.prototype.updateMoneyBets=function(){for(var t=0,e=0;e<this._chipsBets.length;e++){var n=this._chipsBets[e];t+=n.dignity}this._moneyBetPrev=this._moneyBet,this._moneyBet=t},t.prototype.addMoneyBetsPrev=function(){this._chipsBets=[];var n=this._moneyBetPrev;if(n>0&&n<=this._moneyBank)for(var i=0,r=t.CHIPS_DIGNITY.length-1;r>=0&&n>0;r--)for(var o=t.CHIPS_DIGNITY[r],a=Math.floor(n/o),s=0;s<a;s++){var l=new e.ChipModel(o,i,e.ChipTypes.FromPlayerToBet);i+=1,this._chipsBets.push(l),n-=o}this._moneyBetPrev>this._moneyBank?this._moneyBetPrev=0:(this._moneyBet=this._moneyBetPrev,this._moneyBank-=this._moneyBet)},t.prototype.addAllMoneyToBet=function(n){var i=[];if(n>0){this._moneyBet+=n,this.updateMoneyBank(this._moneyBank-n);var r=0;this._chipsBets.length>0&&(r=this._chipsBets[this._chipsBets.length-1].id+1);for(var o=t.CHIPS_DIGNITY.length-1;o>=0&&n>0;o--)for(var a=t.CHIPS_DIGNITY[o],s=Math.floor(n/a),l=0;l<s;l++){var u=new e.ChipModel(a,r,e.ChipTypes.FromPlayerToBet);r+=1,i.push(u),this._chipsBets.push(u),n-=a}}return i},t.prototype.createChipsByMoney=function(n,i){var r=[];if(n>0)for(var o=0,a=t.CHIPS_DIGNITY.length-1;a>=0&&n>0;a--)for(var s=t.CHIPS_DIGNITY[a],l=Math.floor(n/s),u=0;u<l;u++){var h=new e.ChipModel(s,o,i);r.push(h),o+=1,n-=s}return r},t.prototype.getChipsByType=function(t){return t==e.ChipTypes.FromBetToPlayer?this._chipsPlayer:this._chipsBets},t.prototype.updateMoneyBank=function(t){this._moneyBank=t,this._highestBank<this._moneyBank&&(this._highestBank=this._moneyBank),this.updateChipsPlayer(t)},t.prototype.hasBlackJack=function(e,n){void 0===n&&(n=!1);var i,o=this.calculatePointsByDeck(e,n),a=this.getDeckByType(e);return i=(e!=r.PlayerMain||!this._wasSplit)&&(o==t.POINT_21&&2==a.cards.length)},t.prototype.comparePointsPlayerAndDealer=function(){var e=t.COMPARE_LOST,n=this.calculatePointsByDeck(r.PlayerMain),i=this.hasBlackJack(r.PlayerMain),o=this.calculatePointsByDeck(r.DealerMain),a=this.hasBlackJack(r.DealerMain);return i&&a?e=t.COMPARE_EQUALLY:i&&0==a?e=t.COMPARE_WON:0==i&&0==a&&n<=t.POINT_21&&(n==o?e=t.COMPARE_EQUALLY:o>t.POINT_21?e=t.COMPARE_WON:n>o&&(e=t.COMPARE_WON)),e},t.prototype.calculateMoneyBankAfterCompare=function(){var e,n=this._moneyBank,i=this.comparePointsPlayerAndDealer(),o=this.getDeckByType(r.PlayerMain),a=o.wasDouble?this._moneyBet:0;switch(i){case t.COMPARE_EQUALLY:n=this._moneyBank+this._moneyBet+a;break;case t.COMPARE_WON:e=this.hasBlackJack(r.PlayerMain),n=e?this._moneyBank+Math.floor(2.5*(this._moneyBet+a)):this._moneyBank+2*(this._moneyBet+a)}e=this.hasBlackJack(r.DealerMain),this._wasInsurance&&e&&(n+=3*Math.floor(this._moneyBet/2)),this.updateMoneyBank(n)},t.prototype.getDeckSplitFree=function(){for(var e,n=0;n<t.PLAYER_SPLIT_DECK_TYPES.length;n++){var i=t.PLAYER_SPLIT_DECK_TYPES[n],r=this.getDeckByType(i),o=r.cards;if(0==o.length){e=r;break}}return e},t.prototype.getDeckSplitNotCompleted=function(){for(var e,n=0;n<t.PLAYER_SPLIT_DECK_TYPES.length;n++){var i=t.PLAYER_SPLIT_DECK_TYPES[n],r=this.getDeckByType(i),o=r.cards;if(o.length>0&&0==r.completed){e=r;break}}return e},t.prototype.getDeckSplitCompleted=function(){
for(var e,n=0;n<t.PLAYER_SPLIT_DECK_TYPES.length;n++){var i=t.PLAYER_SPLIT_DECK_TYPES[n],r=this.getDeckByType(i),o=r.cards;if(o.length>0&&r.completed){e=r;break}}return e},t.prototype.checkSplitOpportunity=function(){var e=!1,n=this.getDeckByType(r.PlayerMain),i=this.getDeckSplitFree();if(2==n.cards.length&&null!=i&&this._moneyBank>=this._moneyBet&&this._state!=t.STATE_DEALER_OPENED_CARDS&&this._state!=t.STATE_CARDS_REMOVED){var o=n.cards[0],s=n.cards[1];(o.rank==s.rank||o.rank>a.Nine&&o.rank<a.Ace&&s.rank>a.Nine&&s.rank<a.Ace)&&(e=!0)}return e},t.prototype.replaceCardsInDecks=function(t,e){var n=this.getDeckById(t),i=n.type,r=n.id,o=this.getDeckById(e);n.type=o.type,n.id=o.id,o.type=i,o.id=r,this._decks[n.id]=n,this._decks[o.id]=o;for(var a=n.cards.slice(),s=0;s<a.length;s++){var l=a[s];l.deckId=n.id}for(var u=o.cards.slice(),s=0;s<u.length;s++){var l=u[s];l.deckId=o.id}var h=a.concat(u);return h},t.prototype.handsWonIncrement=function(){this._handsWon+=1},t.prototype.getGameEndViewOptions=function(){var e={},n=this._moneyBank+this._moneyBet;e.winner=n>t.MONEY_DEFAULT,e.textTitleKey=e.winner?s.PANEL_GAMEEND_YOU_WIN:s.PANEL_GAMEEND_HOUSE_WINS;var i=n-t.MONEY_DEFAULT;e.cashWon=i>0?i:0,e.handsWon=this._handsWon,e.highestBank=this._highestBank;for(var r=0,o=[0,1e3,1001,2500,1e4,25e3,1e5,25e4],a=o.length-1;a>=0;a--){var l=o[a];if(n>=l){r=a;break}}return e.textRankKey=s.PANEL_GAMEEND_RANKS[r],e.totalScore=e.cashWon,e},t.prototype.resetGame=function(){this.resetRound(),this._completed=!1,this._cardsIdIncrement=0,this._countRounds=0,this._handsWon=0,this._highestBank=0,this._reshuffleShowPopup=!0,this._moneyBank=0,this.updateChipsPlayer(this._moneyBank),this._moneyBetPrev=t.BET_PREV_DEFAULT,this._stateChipsPlayer=t.STATE_CHIPS_PLAYER_CLOSED},t.prototype.resetRound=function(){null!=this._countRounds&&void 0!=this._countRounds&&this._countRounds++,this._chipsBets=[],this._moneyBet=0,this._wasInsurance=!1,this._wasSplit=!1,this._advicePressed=!1,this._countPressSplit=0},t.prototype.destroy=function(){if(this._rndm=null,this._completed=!1,this._startingDeck&&(this._startingDeck=null),this._decks){var t=this._decks.length;if(t>0){for(var e=0;e<t;e++){var n=this._decks[e];n.destroy(),this._decks[e]=null}this._decks=null}}},Object.defineProperty(t.prototype,"moneyBet",{get:function(){return this._moneyBet},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"completed",{get:function(){return this._completed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(t){this._state=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"moneyBank",{get:function(){return this._moneyBank},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"moneyBetPrev",{get:function(){return this._moneyBetPrev},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chipsBets",{get:function(){return this._chipsBets},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"countRounds",{get:function(){return this._countRounds},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reshuffleShowPopup",{get:function(){return this._reshuffleShowPopup},set:function(t){this._reshuffleShowPopup=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wasSplit",{get:function(){return this._wasSplit},set:function(t){this._wasSplit=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wasInsurance",{get:function(){return this._wasInsurance},set:function(t){this._wasInsurance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numDecks",{get:function(){return this._numDecks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stateChipsPlayer",{get:function(){return this._stateChipsPlayer},set:function(t){this._stateChipsPlayer=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highestBank",{get:function(){return this._highestBank},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handsWon",{get:function(){return this._handsWon},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"advicePressed",{get:function(){return this._advicePressed},set:function(t){this._advicePressed=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"countPressSplit",{get:function(){return this._countPressSplit},set:function(t){this._countPressSplit=t},enumerable:!0,configurable:!0}),t.MONEY_DEFAULT=1e3,t.NUM_DECKS=["1","2","4","6"],t.POINT_21=21,t.BET_PREV_DEFAULT=100,t.COMPARE_WON="COMPARE_WON",t.COMPARE_LOST="COMPARE_LOST",t.COMPARE_EQUALLY="COMPARE_EQUALLY",t.STATE_BET="STATE_BET",t.STATE_NORMAL_GAME="STATE_NORMAL_GAME",t.STATE_PLAYER_HAS_BLACKJACK="STATE_PLAYER_HAS_BLACKJACK",t.STATE_DEALER_OPENED_CARDS="STATE_DEALER_OPENED_CARDS",t.STATE_DEALER_HAS_BLACKJACK="STATE_DEALER_HAS_BLACKJACK",t.STATE_COMPARE_PLAYER_AND_DEALER="STATE_COMPARE_PLAYER_AND_DEALER",t.STATE_UPDATE_BANK="STATE_UPDATE_BANK",t.STATE_CARDS_REMOVED="STATE_CARDS_REMOVED",t.STATE_GAMEEND="STATE_GAMEEND",t.CHIPS_DIGNITY=[1,5,25,50,100,500,1e3,5e3,1e4,1e5],t.PLAYER_SPLIT_DECK_TYPES=[r.PlayerSplit0,r.PlayerSplit1,r.PlayerSplit2],t.STATE_CHIPS_PLAYER_OPENED="STATE_CHIPS_PLAYER_OPENED",t.STATE_CHIPS_PLAYER_CLOSED="STATE_CHIPS_PLAYER_CLOSED",t}();e.BoardModel=l}(e=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(t){var e=function(t){function e(e){var n=t.call(this)||this;return n._options=e,n}return i(e,t),e.prototype.getConfiguration=function(){var t={};return t.animations={animation:"animation"},t.animationsEvents={"complete $animations.animation":"animationComplete"},t},e.prototype.onInitialize=function(){this.$animations.get("animation").stop()},e.prototype.play=function(){this.$animations.get("animation").play()},e.prototype.animationComplete=function(t){this.$animations.get("animation").stop()},e.prototype.destroy=function(){this.$animations.get("animation").stop()},e.CLASS_NAME="BlackJackAnimation",e.factory={get:function(t){return new e(t)},dependency:["Options"]},e}(t.ViewBase);t.BlackJackAnimation=e}(e=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n._options=t,n}return i(n,e),n.prototype.getConfiguration=function(){var e={};return e.armatureName="GM_CardView",e.childViews={CardViewContainer:{model:this.$model,view:t.CardViewContainer.CLASS_NAME,options:{},config:{slot:"CardViewContainer",armatureName:"GM_CardViewCntnr"}}},e},n.prototype.onContentLoaded=function(){},n.prototype.onSetLandscape=function(){},n.prototype.onSetPortrait=function(){},n.prototype.onInitialize=function(){},n.prototype.updateView=function(e){void 0===e&&(e=!0);var n=this.$childViews.get(t.CardViewContainer.CLASS_NAME);n.updateView(e)},n.prototype.removeTween=function(){null!=this._tween&&(this._tween.stop(),this._tween=null)},n.prototype.reset=function(){this.removeTween();var e=this.$childViews.get(t.CardViewContainer.CLASS_NAME);e.reset()},Object.defineProperty(n.prototype,"tween",{get:function(){return this._tween},set:function(t){this._tween=t},enumerable:!0,configurable:!0}),n.CLASS_NAME="CardView",n.factory={get:function(t){return new n(t)},dependency:["Options"]},n}(t.ViewBase);t.CardView=e}(e=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(e){var n=t.Core.Tween.Tween,r=function(t){function r(e){var n=t.call(this)||this;return n._options=e,n}return i(r,t),r.prototype.getConfiguration=function(){var t={};t.fontSize=60,t.fontFamily=e.FontConstants.FONT_REGULAR_2,t.align="center";var n={};return n.slots={CardFaceGrey:r.SLOT_CARD_FACE_GREY,CardBg:r.SLOT_CARD_BG,SuitSmall:r.SLOT_SUIT_SMALL,SuitBig:r.SLOT_SUIT_BIG},n.childViews={RankLabelView:{view:e.LabelView.CLASS_NAME,options:{text:" ",textStyle:t,slot:"ContainerRank"}}},n},r.prototype.onContentLoaded=function(){},r.prototype.onSetLandscape=function(){},r.prototype.onSetPortrait=function(){},r.prototype.onInitialize=function(){var t=e.TextHelper.getPrefixByRankType(this.$model.rank).toUpperCase(),n=this.$childViews.get(r.CHILD_RANK_LABEL_VIEW);n.text=t,n.fill=this.$model.suitColor==e.SuitColors.Black?e.ColorConstants.BLACK:e.ColorConstants.RED;var i=this.$slots.get(r.SLOT_SUIT_SMALL);i.displayIndex=this.$model.suit;var o=this.$slots.get(r.SLOT_SUIT_BIG);this.$model.rank==e.Ranks.Jack||this.$model.rank==e.Ranks.Queen||this.$model.rank==e.Ranks.King?o.displayIndex=4*this.$model.suit+(this.$model.rank-10):o.displayIndex=4*this.$model.suit,this.updateView(!1)},r.prototype.updateView=function(t){void 0===t&&(t=!0);var e=this.$childViews.get(r.CHILD_RANK_LABEL_VIEW),n=this.$slots.get(r.SLOT_SUIT_SMALL),i=this.$slots.get(r.SLOT_SUIT_BIG),o=this.$slots.get(r.SLOT_CARD_BG);if(0==t){this.removeTweenInvert();var a=this.$model.active;e.visible=a,n.display.visible=a,i.display.visible=a,o.displayIndex=this.$model.active?1:0}else this.$model.active!=e.visible&&(this.removeTweenInvert(),this.startTweenInvert(0,"onMovingTweenComplete_1"));this.checkGrey()},r.prototype.checkGrey=function(){var t=!1;this.$model.deckId!=e.DeckTypes.PlayerSplit0&&this.$model.deckId!=e.DeckTypes.PlayerSplit1&&this.$model.deckId!=e.DeckTypes.PlayerSplit2||(t=!0);var n=this.$slots.get(r.SLOT_CARD_FACE_GREY);n.display.visible=t},r.prototype.startTweenInvert=function(t,e){this._tweenInvert=new n(this.display.scale),this._tweenInvert.onComplete(this[e].bind(this)),this._tweenInvert.to({x:t},100),this._tweenInvert.start(),n.add(this._tweenInvert)},r.prototype.onMovingTweenComplete_1=function(){this.updateView(!1),this.startTweenInvert(1,"onMovingTweenComplete_2")},r.prototype.onMovingTweenComplete_2=function(){this.removeTweenInvert()},r.prototype.removeTweenInvert=function(){this._tweenInvert&&(this._tweenInvert.stop(),n.remove(this._tweenInvert),this._tweenInvert=null)},r.prototype.reset=function(){this.removeTweenInvert()},r.CLASS_NAME="CardViewContainer",r.SLOT_CARD_FACE_GREY="CardFaceGrey",r.SLOT_CARD_BG="CardBg",r.SLOT_SUIT_SMALL="SuitSmall",r.SLOT_SUIT_BIG="SuitBig",r.CHILD_RANK_LABEL_VIEW="RankLabelView",r.factory={get:function(t){return new r(t)},dependency:["Options"]},r}(e.ViewBase);e.CardViewContainer=r}(e=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n._options=t,n}return i(n,e),n.prototype.getConfiguration=function(){var t={};return t.slots={slot:"slot"},t.sprites={slot:"armature(slot)"},t.spritesEvents={"tap $sprites.slot":"onMouseClickOrTap","click $sprites.slot":"onMouseClickOrTap"},t},n.prototype.onInitialize=function(){if(null!=this._options.slotDisplayIndex&&void 0!=this._options.slotDisplayIndex){var t=this.$slots.get("slot");t&&(t.displayIndex=this._options.slotDisplayIndex)}},n.prototype.onMouseClickOrTap=function(e){this._options.onPress&&this._options.onPress();var n=this.DependenciesContainer.get("SoundManager"),i=this._options.soundPressName||t.SoundConstants.CLICK;n.playSound(i)},n.prototype.removeTween=function(){null!=this._tween&&(this._tween.stop(),this._tween=null)},n.prototype.reset=function(){this.removeTween()},Object.defineProperty(n.prototype,"tween",{get:function(){return this._tween},set:function(t){this._tween=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"positionTo",{get:function(){return this._positionTo},set:function(t){this._positionTo=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"positionFrom",{get:function(){return this._positionFrom},set:function(t){this._positionFrom=t},enumerable:!0,configurable:!0}),n.CLASS_NAME="ChipView",n.factory={get:function(t){return new n(t)},dependency:["Options"]},n}(t.ViewBase);t.ChipView=e}(e=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n._options=t,n}return i(n,e),n.prototype.getConfiguration=function(){var e={};return e.slots={bg:"bg"},e.childViews={},e.childViews.TextLabelView={view:t.LabelView.CLASS_NAME,x:this._options.textPosition?this._options.textPosition.x:0,y:this._options.textPosition?this._options.textPosition.y:0,options:{text:this._options.text,textStyle:this._options.textStyle,anchor:this._options.anchor,slot:"ContainerText"}},e},n.prototype.onInitialize=function(){var t=this.$childViews.get("TextLabelView");t&&this.setText(t.text)},n.prototype.setText=function(t){var e=this.$childViews.get("TextLabelView");e&&(e.text=t);var n=this.$slots.get("bg");n.display.visible=" "!=t&&""!=t},n.CLASS_NAME="TextAndBgView",n.factory={get:function(t){return new n(t)},dependency:["Options"]},n}(t.ViewBase);t.TextAndBgView=e}(e=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var n;!function(n){var r=t.Core.Tween.Tween,o=t.Core.Tween.Easing,a=t.Game.Localization.LocalizationConstants,s=t.Core.StorageManagerConstants,l=t.Core.GameUtils,u=t.Core.StringUtils,h=t.Core.EventBusConstants,c=function(t){function c(e){var n=t.call(this)||this;return n._options=e,n._cardTweenDurationMs=300,n._cardTweenDelayMs=300,n._cardTweenNum=0,n._chipTweenDurationMs=400,n._chipTweenNum=0,n}return i(c,t),c.prototype.getConfiguration=function(){var t=this,i={};i.fontSize=38,i.fontFamily=n.FontConstants.FONT_REGULAR_1,i.align="center",i.fill=n.ColorConstants.WHITE;var r={};r.fontSize=22,r.fontFamily=n.FontConstants.FONT_REGULAR_1,r.align="center",r.fill=n.ColorConstants.WHITE,r.dropShadow=!0,r.dropShadowColor=n.ColorConstants.BLACK,r.dropShadowBlur=5,r.dropShadowDistance=0,r.dropShadowAlpha=.25;var o=new e.Point(0,-22),s={};s.fontSize=60,s.fontFamily=n.FontConstants.FONT_BOLD,s.align="center",s.fill=n.ColorConstants.WHITE;var l={};l.fontSize=30,l.fontFamily=n.FontConstants.FONT_BOLD,l.align="center",l.fill=n.ColorConstants.WHITE;var u={};u.fontSize=60,u.fontFamily=n.FontConstants.FONT_BOLD,u.align=n.FontConstants.FONT_ALIGN_CENTER,u.fill=n.ColorConstants.WHITE,u.dropShadow=!0,u.dropShadowColor=n.ColorConstants.BLACK,u.dropShadowBlur=5,u.dropShadowDistance=0,u.dropShadowAlpha=.25;var h={};h.fontSize=40,h.fontFamily=n.FontConstants.FONT_MEDIUM,h.align="center",h.fill=n.ColorConstants.GREEN,h.dropShadow=!0,h.dropShadowColor=n.ColorConstants.BLACK,h.dropShadowBlur=5,h.dropShadowDistance=0,h.dropShadowAlpha=.25;var d=(new e.ObservablePoint(null,null,0,.5),new e.ObservablePoint(null,null,1,.5)),p=new e.ObservablePoint(null,null,.25,.5),f={};return f.slots={ContainerInitial:c.SLOT_CONTAINER_INITIAL,ContainerDiscardPile:c.SLOT_CONTAINER_DISCARD_PILE,ContainerDealerMain:c.SLOT_CONTAINER_DEALER_MAIN,ContainerPlayerMain:c.SLOT_CONTAINER_PLAYER_MAIN,ContainerPlayerSplit_0:c.SLOT_CONTAINER_PLAYER_SPLIT_0,ContainerPlayerSplit_1:c.SLOT_CONTAINER_PLAYER_SPLIT_1,ContainerPlayerSplit_2:c.SLOT_CONTAINER_PLAYER_SPLIT_2},f.childViews={ButtonDeal:{view:n.GameButtonView.CLASS_NAME,options:{onPress:function(){t.pressDeal()},textKey:a.BUTTON_DEAL,textStyle:i,blinkSlotName:"blink"},config:{slot:"ButtonDeal",armatureName:"GM_ButtonDeal"}},ButtonSplit:{view:n.GameButtonView.CLASS_NAME,options:{onPress:function(){t.pressSplit()},textKey:a.BUTTON_SPLIT,textStyle:i,blinkSlotName:"blink"},config:{slot:c.CHILD_BUTTON_SPLIT,armatureName:"GM_ButtonSplit"}},ButtonInsurance:{view:n.GameButtonView.CLASS_NAME,options:{onPress:function(){t.pressInsurance()},textKey:a.BUTTON_INSURANCE,textStyle:i},config:{slot:c.CHILD_BUTTON_INSURANCE,armatureName:"GM_Button_1"}},ButtonHit:{view:n.GameButtonView.CLASS_NAME,options:{onPress:function(){t.pressHit()},textKey:a.BUTTON_HIT,textStyle:i,anchor:p,blinkSlotName:"blink"},config:{slot:"ButtonHit",armatureName:"GM_ButtonHit"}},ButtonStand:{view:n.GameButtonView.CLASS_NAME,options:{onPress:function(){t.pressStand()},textKey:a.BUTTON_STAND,textStyle:i,anchor:p,blinkSlotName:"blink"},config:{slot:"ButtonStand",armatureName:"GM_ButtonStand"}},ButtonDouble:{view:n.GameButtonView.CLASS_NAME,options:{onPress:function(){t.pressDouble()},textKey:a.BUTTON_DOUBLE,textStyle:r,textPosition:o,blinkSlotName:"blink"},config:{slot:c.CHILD_BUTTON_DOUBLE,armatureName:"GM_ButtonDouble"}},PlayerTitleText:{view:n.LabelView.CLASS_NAME,options:{textKey:a.GAME_PLAYER,textStyle:h,slot:"ContainerPlayerTitle"}},PlayerMainPoints:{view:n.TextAndBgView.CLASS_NAME,options:{text:" ",textStyle:s},config:{slot:c.CHILD_PLAYER_MAIN_POINTS,armatureName:"GM_TextAndBg_1"}},CardsLeft:{view:n.TextAndBgView.CLASS_NAME,options:{text:" ",textStyle:l,anchor:d},config:{slot:c.CHILD_CARDS_LEFT,armatureName:"GM_TextAndBg_3"}},DealerTitleText:{view:n.LabelView.CLASS_NAME,options:{textKey:a.GAME_DEALER,textStyle:h,slot:"ContainerDealerTitle"}},DealerMainPoints:{view:n.TextAndBgView.CLASS_NAME,options:{text:" ",textStyle:s},config:{slot:c.CHILD_DEALER_MAIN_POINTS,armatureName:"GM_TextAndBg_1"}},ChipsPlayerView:{model:this.$model,view:n.ChipsPlayerView.CLASS_NAME,options:{onPressChip:function(e){t.pressChipPlayer(e)},onPressAllIn:function(){t.pressAllIn()},onOpened:function(){t.openedChipsPlayerView()},onClosed:function(){},model:this.$model},config:{slot:n.ChipsPlayerView.CLASS_NAME,armatureName:"GM_ChipsPlayerView"}},ContainerChipsBets:{view:n.ChipsContainerView.CLASS_NAME,model:this.$model,options:{onPress:function(e){t.pressChipBet(e)},chips:this.$model.getChipsByType(n.ChipTypes.FromPlayerToBet)},config:{slot:c.CHILD_CONTAINER_CHIPS_BETS,armatureName:"GM_ChipView"}},ContainerBetsText:{view:n.LabelView.CLASS_NAME,options:{text:" ",textStyle:u,slot:c.SLOT_CONTAINER_BET_TEXT}}},f},c.prototype.onContentLoaded=function(){},c.prototype.onSetLandscape=function(){},c.prototype.onResize=function(t,e){var i=this.$childViews.get(n.ChipsPlayerView.CLASS_NAME);if(i){var r=this.isLandscape?l.LANDSCAPE:l.PORTRAIT,o=new l,a=o.getScreenSize(t,e,r);i.y=a.y/2-480}},c.prototype.onSetPortrait=function(){},c.prototype.onInitialize=function(){this.setCardsPositions(),this.createView(),this.updatePointsTextByDeck(n.DeckTypes.DealerMain),this.updatePointsTextByDeck(n.DeckTypes.PlayerMain),this.updatePlayerSplitBets(),this.updateCardsLeftText();var t=this.$childViews.get(n.ChipsPlayerView.CLASS_NAME);if(t.updateBankValueText(this.$model.moneyBank),this.isLandscape){var i=new e.ObservablePoint(null,null,0,.5),r=this.$childViews.get(c.CHILD_DEALER_TITLE_TEXT);r.anchor=i;var o=this.$childViews.get(c.CHILD_PLAYER_TITLE_TEXT);o.anchor=i;var a=this.$childViews.get(c.SLOT_CONTAINER_BET_TEXT);a.anchor=i}},c.prototype.createView=function(){this._animateMovements=!1,this._cardTweenNum=0,this._chipTweenNum=0,this._cardViewsArray=[],this._cardViewsDictionary={};for(var t,e=this.$model.getDecks(),i=e.length,r=i-1;r>=0;r--){t=e[r];for(var o=t.cards,a=o.length,s=0;s<a;s++){var l=o[s],u=this.getCardPosition(l),h=n.CardView.CLASS_NAME+"_"+l.id,c=this.addChild({x:u.position.x,y:u.position.y,view:n.CardView.CLASS_NAME,model:l,options:{}},h);c.rotation=u.rotation,c.scaleX=u.scale.x,c.scaleY=u.scale.y,this._cardViewsArray.push(c),this._cardViewsDictionary[c.$model.id]=c}}this._animateMovements?this.dealCards():this.dealCompleted(),this._animateMovements=!0},c.prototype.dealCards=function(){for(var t=this.$model.getDecks(),e=t.length,n=0,i=0;i<e;i++)for(var o=t[i],a=o.cards,s=a.length,l=0;l<s;l++){var u=a[l],h=this._cardViewsDictionary[u.id];this._cardTweenNum++,n+=this._cardTweenDelayMs;var c=this.getCardPosition(h.$model);h.x=0,h.y=-700*this.assetScale,h.tween=new r(h),h.tween.onStart(this.onDealingTweenStart.bind(this,h)),h.tween.onComplete(this.onDealingTweenComplete.bind(this,h)),h.rotation,h.tween.to({x:c.position.x,y:c.position.y,rotation:c.rotation,scaleX:c.scale.x,scaleY:c.scale.y},this._cardTweenDurationMs),h.tween.delay(n),h.tween.start(),r.add(h.tween)}},c.prototype.onDealingTweenStart=function(t){},c.prototype.onDealingTweenComplete=function(t){t.updateView(),null!=t.tween&&(this._cardTweenNum--,t.removeTween(),0==this._cardTweenNum&&this.dealCompleted())},c.prototype.dealCompleted=function(){this.nextStep(),this.updateButtonsVisible(),this.createPlayerSplitBets()},c.prototype.moveCardsViewToDeck=function(t,e,i,a,s){if(void 0===i&&(i=!0),void 0===a&&(a=!0),void 0===s&&(s=null),null==t||0==t.length)return void this.nextStep();for(var l,u=t.length,h=[],c=!1,d=!1,p=0;p<u;p++){var f=t[p];if(f.$model.deckId==n.DeckTypes.DealerMain&&0==c&&(l=this.$model.getDeckByType(n.DeckTypes.DealerMain),h=h.concat(l.cards),c=!0),f.$model.deckId==n.DeckTypes.PlayerMain&&0==d&&(l=this.$model.getDeckByType(n.DeckTypes.PlayerMain),h=h.concat(l.cards),d=!0),c&&d)break}if(u=h.length,u>0)for(var p=0;p<u;p++){var _=h[p],f=this._cardViewsDictionary[_.id];t.indexOf(f)==-1&&t.unshift(f)}var m=0;u=t.length;for(var p=0;p<u;p++){var f=t[p],y=this.getCardPosition(f.$model),v=f.x-y.position.x,g=f.y-y.position.y,T=Math.sqrt(v*v+g*g);if(0!=T)if(e){this.removeTweenByCardView(f),this._cardTweenNum++,f.tween=new r(f),i&&f.tween.onStart(this.onCardTweenStart.bind(this,f)),f.tween.onComplete(this.onCardTweenComplete.bind(this,f));var A=Math.PI/180*Math.floor(10*Math.random()-5);s=s?s:this._cardTweenDelayMs,f.tween.to({x:y.position.x,y:y.position.y,rotation:y.rotation+A,scaleX:y.scale.x,scaleY:y.scale.y},this._cardTweenDurationMs),f.tween.easing(o.Cubic.InOut),a&&T>200*this.assetScale&&(f.tween.delay(m*s),m++),r.add(f.tween),f.tween.start()}else f.x=y.position.x,f.y=y.position.y,f.rotation=y.rotation,f.scaleX=y.scale.x,f.scaleY=y.scale.y,f.updateView()}},c.prototype.onCardTweenStart=function(t){var e=this.DependenciesContainer.get("SoundManager");e.playSound(n.SoundConstants.CARD_FLICK)},c.prototype.onCardTweenComplete=function(t){this.removeTweenByCardView(t),t.updateView();var e=t.$model,i=this.$model.getDeckById(e.deckId),r=t.$model.deckIdPrev,o=this.$model.getDeckById(r);if(o.type==n.DeckTypes.Initial&&this.updateCardsLeftText(),0==this._cardTweenNum){this.updatePointsTextByDeck(n.DeckTypes.DealerMain),this.updatePointsTextByDeck(n.DeckTypes.PlayerMain),this.updatePlayerSplitBets(),this.nextStep();var a=i.calculatePoints(),l=this.DependenciesContainer.get("StorageManager"),u=parseInt(l.loadData(s.OPTIONS_AUTO_ADVICE));1==u&&a<n.BoardModel.POINT_21&&this.advice()}else o.type==n.DeckTypes.Initial&&(i.type==n.DeckTypes.DealerMain&&this.updatePointsTextByDeck(n.DeckTypes.DealerMain,!0,e),i.type==n.DeckTypes.PlayerMain&&this.updatePointsTextByDeck(n.DeckTypes.PlayerMain,!0,e))},c.prototype.removeTweenByCardView=function(t){t&&t.tween&&(this._cardTweenNum--,t.removeTween())},c.prototype.setCardsPositions=function(){this._cardsPositions=[];var t=this.getCardsPositionsByName(c.SLOT_CONTAINER_INITIAL);this._cardsPositions[n.DeckTypes.Initial]=t,t=this.getCardsPositionsByName(c.SLOT_CONTAINER_DISCARD_PILE),this._cardsPositions[n.DeckTypes.DiscardPile]=t,t=this.getCardsPositionsByName(c.SLOT_CONTAINER_DEALER_MAIN),this._cardsPositions[n.DeckTypes.DealerMain]=t,t=this.getCardsPositionsByName(c.SLOT_CONTAINER_PLAYER_MAIN),this._cardsPositions[n.DeckTypes.PlayerMain]=t,t=this.getCardsPositionsByName(c.SLOT_CONTAINER_PLAYER_SPLIT_0),this._cardsPositions[n.DeckTypes.PlayerSplit0]=t,t=this.getCardsPositionsByName(c.SLOT_CONTAINER_PLAYER_SPLIT_1),this._cardsPositions[n.DeckTypes.PlayerSplit1]=t,t=this.getCardsPositionsByName(c.SLOT_CONTAINER_PLAYER_SPLIT_2),this._cardsPositions[n.DeckTypes.PlayerSplit2]=t},c.prototype.getCardsPositionsByName=function(t){var i=[],r=this.$slots.get(t);r.display.visible=!1;for(var o=new e.Point(r.display.x,r.display.y),a=r.display.children,s=0;s<a.length;s++){var l=a[s],u=new e.Point(l.x+o.x,l.y+o.y),h=new e.Point(l.scale.x,l.scale.y),c=new n.CardPosition;c.init(u,l.rotation,h),i.push(c)}return i},c.prototype.getCardPosition=function(t){var e,i=this.$model.getDeckById(t.deckId),r=i.getIndexCard(t),o=i.cards.length,a=this._cardsPositions[t.deckId];if(i.type==n.DeckTypes.PlayerSplit0||i.type==n.DeckTypes.PlayerSplit1||i.type==n.DeckTypes.PlayerSplit2)e=r==o-1?a[1]:a[0];else{if(o<=a.length){var s=Math.floor((a.length-o)/2);a=a.slice(s)}else r%=a.length;a&&(e=a[r]||a[0])}return e},c.prototype.pressDeal=function(){var t=this;if(!(this._cardTweenNum>0||this._chipTweenNum>0)){var e=this.DependenciesContainer.get("EventBus");0==this.$model.moneyBank&&e.dispatch(n.AnalyticsConstants.ACTION_ALL_IN,n.AnalyticsConstants.TOPIC_ANALYTIC,this.$model.moneyBet);var i=this.$childViews.get(c.CHILD_BUTTON_DEAL);i.visible=!1;var r=this.$childViews.get(n.ChipsPlayerView.CLASS_NAME);this.$model.stateChipsPlayer==n.BoardModel.STATE_CHIPS_PLAYER_OPENED&&r.close();var o=[],a=this.$model.getDeckByType(n.DeckTypes.Initial),s=this.$model.getDeckByType(n.DeckTypes.PlayerMain),l=a.bottomCard;l.active=!0,this.$model.moveCardToDeck(l,s.id);var u=this._cardViewsDictionary[l.id];u.updateView(!1),o.push(u),a=this.$model.getDeckByType(n.DeckTypes.Initial),s=this.$model.getDeckByType(n.DeckTypes.DealerMain),l=a.bottomCard,l.active=!1,this.$model.moveCardToDeck(l,s.id),u=this._cardViewsDictionary[l.id],u.updateView(!1),o.push(u),a=this.$model.getDeckByType(n.DeckTypes.Initial),s=this.$model.getDeckByType(n.DeckTypes.PlayerMain),l=a.bottomCard,l.active=!0,this.$model.moveCardToDeck(l,s.id),u=this._cardViewsDictionary[l.id],u.updateView(!1),o.push(u),a=this.$model.getDeckByType(n.DeckTypes.Initial),s=this.$model.getDeckByType(n.DeckTypes.DealerMain),l=a.bottomCard,l.active=!0,this.$model.moveCardToDeck(l,s.id),u=this._cardViewsDictionary[l.id],u.updateView(!1),o.push(u),this.$model.state=n.BoardModel.STATE_NORMAL_GAME,this._options.checkButtonCashOut(),this._timeoutId_1=setTimeout(function(){t.moveCardsViewToDeck(o,!0)},this._cardTweenDelayMs);var d=this.$model.hasBlackJack(n.DeckTypes.PlayerMain),p=this.$model.hasBlackJack(n.DeckTypes.DealerMain,!0);d&&p&&e.dispatch(n.AnalyticsConstants.ACTION_DOUBLE_BLACKJACK,n.AnalyticsConstants.TOPIC_ANALYTIC),e.dispatch(h.GAMEPLAY_GAME_EVENT_CHANGED,h.TOPIC_GAMEPLAY)}},c.prototype.pressSplit=function(){if(!(this._cardTweenNum>0||this._chipTweenNum>0)){var t=this.checkShowPanelAdvice(n.AdviceTypes.Split);if(!t){this.$model.countPressSplit++;var e=n.AnalyticsConstants.ACTION_SPLIT+this.$model.countPressSplit,i=this.DependenciesContainer.get("EventBus");i.dispatch(e,n.AnalyticsConstants.TOPIC_ANALYTIC,this.$model.moneyBet),this.$model.wasSplit=!0;var r=this.DependenciesContainer.get("SoundManager");r.playSound(n.SoundConstants.CARD_DEALT);var o=this.$model.moneyBet,a=this.$model.moneyBank-o;this.$model.updateMoneyBank(a);var s=this.$childViews.get(n.ChipsPlayerView.CLASS_NAME);s.updateBankValueText(a);var l=[],u=this.$model.getDeckByType(n.DeckTypes.PlayerMain),h=this.$model.getDeckSplitFree(),c=u.topCard;this.$model.moveCardToDeck(c,h.id);var d=this._cardViewsDictionary[c.id];l.push(d),u=this.$model.getDeckByType(n.DeckTypes.Initial);var p=this.$model.getDeckByType(n.DeckTypes.PlayerMain);c=u.bottomCard,c.active=!0,this.$model.moveCardToDeck(c,p.id),d=this._cardViewsDictionary[c.id],d.updateView(!1),l.push(d),this.$model.state=n.BoardModel.STATE_NORMAL_GAME,this.updateButtonsVisible(),this.moveCardsViewToDeck(l,!0);var f;switch(h.type){case n.DeckTypes.PlayerSplit0:f=n.ChipTypes.FromPlayerToSplit0;break;case n.DeckTypes.PlayerSplit1:f=n.ChipTypes.FromPlayerToSplit1;break;case n.DeckTypes.PlayerSplit2:f=n.ChipTypes.FromPlayerToSplit2}var _=this.$model.createChipsByMoney(o,f);this.playSoundChips(_.length,!1),this.moveChipsToPlace(_,!1)}}},c.prototype.pressInsurance=function(){if(!(this._cardTweenNum>0||this._chipTweenNum>0)){var t=this.DependenciesContainer.get("EventBus");t.dispatch(n.AnalyticsConstants.ACTION_INSURANCE,n.AnalyticsConstants.TOPIC_ANALYTIC,this.$model.moneyBet),this.$model.wasInsurance=!0;var e=Math.floor(this.$model.moneyBet/2),i=this.$model.moneyBank-e;this.$model.updateMoneyBank(i);var r=this.$childViews.get(n.ChipsPlayerView.CLASS_NAME);r.updateBankValueText(i),r.updateChipsContainersView();var o=this.$model.createChipsByMoney(e,n.ChipTypes.FromPlayerToDealer);this.playSoundChips(o.length,!1),this.moveChipsToPlace(o,!1),this.updateButtonsVisible();var a=this.$model.getDeckByType(n.DeckTypes.PlayerMain),s=this.$model.hasBlackJack(n.DeckTypes.DealerMain,!0);if(s)a.wasStand=!0,this.$model.state=n.BoardModel.STATE_NORMAL_GAME,t.dispatch(n.AnalyticsConstants.ACTION_INSURANCE_WON,n.AnalyticsConstants.TOPIC_ANALYTIC,this.$model.moneyBet),this.nextStep();else{this.$model.state=n.BoardModel.STATE_NORMAL_GAME;var l={};l.state=n.PanelMessageView.STATE_INSURANCE_LOST,this._options.showPanelMessageView(l)}}},c.prototype.pressHit=function(){if(!(this._cardTweenNum>0||this._chipTweenNum>0)){var t=this.checkShowPanelAdvice(n.AdviceTypes.Hit);if(!t){var e=this.$model.getDeckByType(n.DeckTypes.PlayerMain),i=[],r=this.$model.getDeckByType(n.DeckTypes.Initial),o=r.bottomCard;o.active=!0,this.$model.moveCardToDeck(o,e.id);var a=this._cardViewsDictionary[o.id];a.updateView(!1),i.push(a),this.moveCardsViewToDeck(i,!0),this.updateButtonsVisible()}}},c.prototype.pressStand=function(){var t=this.checkShowPanelAdvice(n.AdviceTypes.Stand);t||this.nextStep(!0)},c.prototype.pressDouble=function(){var t=this;if(!(this._cardTweenNum>0||this._chipTweenNum>0)){var e=this.checkShowPanelAdvice(n.AdviceTypes.Double);if(!e){var i=this.$model.moneyBet,r=this.$model.moneyBank-i;this.$model.updateMoneyBank(r);var o=this.$childViews.get(n.ChipsPlayerView.CLASS_NAME);o.updateBankValueText(r),o.updateChipsContainersView();var a=this.$model.getDeckByType(n.DeckTypes.Initial),s=this.$model.getDeckByType(n.DeckTypes.PlayerMain);s.wasDouble=!0;var l=a.bottomCard;l.active=!0,this.$model.moveCardToDeck(l,s.id);var u=this._cardViewsDictionary[l.id];u.updateView();var h=this.$model.createChipsByMoney(i,n.ChipTypes.FromPlayerToBet);this.playSoundChips(h.length,!1),this.moveChipsToPlace(h,!1),this.$model.state=n.BoardModel.STATE_NORMAL_GAME,this.updateButtonsVisible(),setTimeout(function(){t.moveCardsViewToDeck([u],!0)},500),this.checkDoubleBtn();var c=this.DependenciesContainer.get("EventBus");c.dispatch(n.AnalyticsConstants.ACTION_DOUBLE,n.AnalyticsConstants.TOPIC_ANALYTIC,2*i)}}},c.prototype.nextStep=function(t){if(void 0===t&&(t=!1),!(this._cardTweenNum>0))switch(this.$model.state){case n.BoardModel.STATE_BET:this.stateBets();break;case n.BoardModel.STATE_NORMAL_GAME:this.stateNormalGame(t);break;case n.BoardModel.STATE_PLAYER_HAS_BLACKJACK:this.statePlayerHasBlackJack();break;case n.BoardModel.STATE_DEALER_OPENED_CARDS:this.stateDealerOpenedCards();break;case n.BoardModel.STATE_DEALER_HAS_BLACKJACK:this.stateDealerHasBlackJack();break;case n.BoardModel.STATE_COMPARE_PLAYER_AND_DEALER:this.stateComparePlayerAndDealer();break;case n.BoardModel.STATE_UPDATE_BANK:this.stateUpdateBank();break;case n.BoardModel.STATE_CARDS_REMOVED:this.stateCardsRemoved();break;case n.BoardModel.STATE_GAMEEND:var e=this.DependenciesContainer.get("EventBus");e.dispatch(n.AnalyticsConstants.ACTION_HOUSE_WINS,n.AnalyticsConstants.TOPIC_ANALYTIC),e.dispatch(n.AnalyticsConstants.ACTION_ROUNDS_LOST_GAME,n.AnalyticsConstants.TOPIC_ANALYTIC,this.$model.countRounds),this._options.showPanelGameEndView()}},c.prototype.stateBets=function(){this.updateBetText();var t=this.$childViews.get(n.ChipsPlayerView.CLASS_NAME);if(t.updateBankValueText(this.$model.moneyBank),t.open(),this.updateButtonsVisible(),this.$model.reshuffleShowPopup){this.$model.reshuffleShowPopup=!1;var e=this.DependenciesContainer.get("SoundManager");e.playSound(n.SoundConstants.RESHUFFLE);var i={};i.state=n.PanelMessageView.STATE_RESHUFFLING,this._options.showPanelMessageView(i)}},c.prototype.stateNormalGame=function(t){var e=this,i=!0,r=this.$model.getDeckByType(n.DeckTypes.PlayerMain);if(1==r.cards.length){var o=this.$model.getDeckByType(n.DeckTypes.Initial),a=r,s=o.bottomCard;s.active=!0,this.$model.moveCardToDeck(s,a.id);var l=this._cardViewsDictionary[s.id];l.updateView(!1),this.moveCardsViewToDeck([l],!0)}else{var u=this.$model.hasBlackJack(n.DeckTypes.PlayerMain);if(u&&0==r.wasBlackJack)return r.wasBlackJack=!0,this.$model.state=n.BoardModel.STATE_PLAYER_HAS_BLACKJACK,void this.nextStep();if(u&&r.wasBlackJack)this.$model.state=n.BoardModel.STATE_DEALER_OPENED_CARDS,this.fullDealerMainDeck();else{var h=this.$model.calculatePointsByDeck(n.DeckTypes.PlayerMain);
if(t||h>=n.BoardModel.POINT_21||r.completed){if(h>=n.BoardModel.POINT_21){var d=this.DependenciesContainer.get("SoundManager");d.playSound(n.SoundConstants.BUST)}r.wasStand=!0;var p=this.$model.getDeckSplitNotCompleted();if(p){for(var f=[],_=this.$model.replaceCardsInDecks(n.DeckTypes.PlayerMain,p.type),m=0;m<_.length;m++){var s=_[m],l=this._cardViewsDictionary[s.id];f.push(l)}i=!1;var y=this.$model.createChipsByMoney(this.$model.moneyBet,n.ChipTypes.FromBetToPlayerCard);this.playSoundChips(y.length,!1),this.moveChipsToPlace(y,!1),this.updateBetVisible(!1);var v="";switch(r.type){case n.DeckTypes.PlayerSplit0:v=c.CHILD_PLAYER_SPLIT_0;break;case n.DeckTypes.PlayerSplit1:v=c.CHILD_PLAYER_SPLIT_1;break;case n.DeckTypes.PlayerSplit2:v=c.CHILD_PLAYER_SPLIT_2}this._timeoutId_1=setTimeout(function(){e.updatePlayerSplitBet(v,!1),e.moveCardsViewToDeck(f,!0,!0,!1),e._timeoutId_2=setTimeout(function(){var t=e.$model.createChipsByMoney(e.$model.moneyBet,n.ChipTypes.FromPlayerCardToBet);e.playSoundChips(t.length,!1),e.moveChipsToPlace(t,!1),e._timeoutId_3=setTimeout(function(){e.updateBetVisible(!0)},e._chipTweenDurationMs)},e._chipTweenDurationMs)},this._chipTweenDurationMs)}else this.$model.state=n.BoardModel.STATE_DEALER_OPENED_CARDS,this.fullDealerMainDeck()}}}i&&this.updateButtonsVisible()},c.prototype.updateBetVisible=function(t){var e=this.$childViews.get(c.SLOT_CONTAINER_BET_TEXT);e.visible=t;var n=this.$childViews.get(c.CHILD_CONTAINER_CHIPS_BETS);n.setVisibleAllChips(t)},c.prototype.statePlayerHasBlackJack=function(){this.$model.state=n.BoardModel.STATE_NORMAL_GAME;var t=this.DependenciesContainer.get("SoundManager");t.playSound(n.SoundConstants.BLACKJACK_PLAYER);var e={};e.state=n.PanelMessageView.STATE_PLAYER_HAS_BLACKJACK,this._options.showPanelMessageView(e)},c.prototype.stateDealerOpenedCards=function(){var t=this.$model.getDeckByType(n.DeckTypes.DealerMain),e=this.$model.hasBlackJack(n.DeckTypes.DealerMain);e&&0==t.wasBlackJack?(t.wasBlackJack=!0,this.$model.state=n.BoardModel.STATE_DEALER_HAS_BLACKJACK,this.nextStep()):(this.$model.state=n.BoardModel.STATE_COMPARE_PLAYER_AND_DEALER,this.nextStep())},c.prototype.stateDealerHasBlackJack=function(){this.$model.state=n.BoardModel.STATE_DEALER_OPENED_CARDS;var t={};t.state=n.PanelMessageView.STATE_DEALER_HAS_BLACKJACK,this._options.showPanelMessageView(t)},c.prototype.stateComparePlayerAndDealer=function(){var t=this,e=this.$model.getDeckByType(n.DeckTypes.PlayerMain);if(0==e.cards.length){this.$model.state=n.BoardModel.STATE_COMPARE_PLAYER_AND_DEALER;for(var i=this.$model.getDeckSplitCompleted(),r=[],o=this.$model.replaceCardsInDecks(n.DeckTypes.PlayerMain,i.type),a=0;a<o.length;a++){var s=o[a],l=this._cardViewsDictionary[s.id];r.push(l)}this.updatePlayerSplitBets(),this.moveCardsViewToDeck(r,!0,!0,!1),this.updateBetVisible(!1),this._timeoutId_1=setTimeout(function(){var e=t.$model.createChipsByMoney(t.$model.moneyBet,n.ChipTypes.FromPlayerCardToBet);t.playSoundChips(e.length,!1),t.moveChipsToPlace(e,!1),t._timeoutId_2=setTimeout(function(){t.updateBetVisible(!0)},t._chipTweenDurationMs)},this._chipTweenDurationMs)}else{var u=this.DependenciesContainer.get("EventBus"),h=e.wasDouble?2*this.$model.moneyBet:this.$model.moneyBet,c=0;this.$model.state=n.BoardModel.STATE_UPDATE_BANK,this.updateBetText();var d,p={},f=this.$model.comparePointsPlayerAndDealer();if(f==n.BoardModel.COMPARE_WON){this.$model.handsWonIncrement(),p.state=n.PanelMessageView.STATE_YOU_WIN,c=this.$model.calculatePointsByDeck(n.DeckTypes.DealerMain,!0),c>n.BoardModel.POINT_21&&(p.isDealerBust=!0),d=n.SoundConstants.YOU_WIN;var _=this.$model.hasBlackJack(n.DeckTypes.PlayerMain);_?u.dispatch(n.AnalyticsConstants.ACTION_WIN_BLACKJACK,n.AnalyticsConstants.TOPIC_ANALYTIC,h):u.dispatch(n.AnalyticsConstants.ACTION_WIN_HAND,n.AnalyticsConstants.TOPIC_ANALYTIC,h)}else f==n.BoardModel.COMPARE_LOST?(p.state=n.PanelMessageView.STATE_DEALER_WINS,c=this.$model.calculatePointsByDeck(n.DeckTypes.PlayerMain),c>n.BoardModel.POINT_21&&(p.isPlayerBust=!0),d=n.SoundConstants.DEALER_WINS,u.dispatch(n.AnalyticsConstants.ACTION_LOSE_HAND,n.AnalyticsConstants.TOPIC_ANALYTIC,h)):f==n.BoardModel.COMPARE_EQUALLY&&(p.state=n.PanelMessageView.STATE_PUSH,u.dispatch(n.AnalyticsConstants.ACTION_PUSH,n.AnalyticsConstants.TOPIC_ANALYTIC,h));setTimeout(function(){var e=t.DependenciesContainer.get("SoundManager");e.playSound(d),t._options.showPanelMessageView(p)},1e3)}},c.prototype.stateUpdateBank=function(){var t,e=this,i=this.$model.comparePointsPlayerAndDealer(),r=0;switch(i){case n.BoardModel.COMPARE_WON:t=this.$model.createChipsByMoney(this.$model.moneyBet,n.ChipTypes.FromDealerToBet),this.playSoundChips(t.length,!1),this.moveChipsToPlace(t,!1),r=2*this._cardTweenDelayMs,t=this.$model.createChipsByMoney(this.$model.moneyBet,n.ChipTypes.FromBetToPlayer),this.moveChipsToPlace(t,!1,r);break;case n.BoardModel.COMPARE_EQUALLY:t=this.$model.createChipsByMoney(this.$model.moneyBet,n.ChipTypes.FromBetToPlayer),this.playSoundChips(t.length,!1),this.moveChipsToPlace(t,!1);break;case n.BoardModel.COMPARE_LOST:t=this.$model.createChipsByMoney(this.$model.moneyBet,n.ChipTypes.FromBetToDealer),this.playSoundChips(t.length,!1),this.moveChipsToPlace(t,!1),this.updateBetVisible(!1),this.$model.wasInsurance&&this.$model.hasBlackJack(n.DeckTypes.DealerMain)&&(r=2*this._cardTweenDelayMs,t=this.$model.createChipsByMoney(this.$model.moneyBet/2,n.ChipTypes.FromDealerToPlayer),this.moveChipsToPlace(t,!1,r))}this.updateBankAfterCompare();var o=this.$model.getDeckSplitCompleted();o?(this.$model.state=n.BoardModel.STATE_COMPARE_PLAYER_AND_DEALER,this.moveCardsToDiscardPile([n.DeckTypes.PlayerMain])):(this.$model.removeAllChipsFromBets(),this._timeoutId_1=setTimeout(function(){e.removeAllChipsViewFromBets()},r),this.$model.moneyBank>0?this.$model.state=n.BoardModel.STATE_CARDS_REMOVED:this.$model.state=n.BoardModel.STATE_GAMEEND,this.moveCardsToDiscardPile([n.DeckTypes.PlayerMain,n.DeckTypes.DealerMain])),this.updateButtonsVisible();for(var a=this.$model.highestBank,s=[5e3,1e4,25e3,5e4,1e5,25e4],l=s.length-1;l>=0;l--){var u=s[l];if(a>=u){var h=this.DependenciesContainer.get("EventBus");h.dispatch(u.toString(),n.AnalyticsConstants.TOPIC_ANALYTIC);break}}},c.prototype.stateCardsRemoved=function(){var t=this.$childViews.get(n.ChipsPlayerView.CLASS_NAME);t.open(),this.$model.resetRound(),this.$model.state=n.BoardModel.STATE_BET,this.updateButtonsVisible(),this.updateBetVisible(!0),this.checkReshuffleCards()},c.prototype.moveCardsToDiscardPile=function(t){void 0===t&&(t=null);var e=this.DependenciesContainer.get("EventBus"),i=[],r=this.$model.getDeckByType(n.DeckTypes.DiscardPile);t=t||[n.DeckTypes.PlayerMain,n.DeckTypes.DealerMain];for(var o=0;o<t.length;o++){var a=t[o],s=this.$model.getDeckByType(a);if(s.cards.length>5){var l=s.type==n.DeckTypes.PlayerMain?1:0;e.dispatch(n.AnalyticsConstants.ACTION_MANY_CARDS,n.AnalyticsConstants.TOPIC_ANALYTIC,l)}s.resetParameters();var u=s.cards.slice();i=i.concat(u)}for(var h=[],o=0;o<i.length;o++){var c=i[o];this.$model.moveCardToDeck(c,r.id);var d=this._cardViewsDictionary[c.id];h.unshift(d)}this.moveCardsViewToDeck(h,!0,!0,!0)},c.prototype.updateBankAfterCompare=function(){this.$model.calculateMoneyBankAfterCompare();var t=this.$childViews.get(n.ChipsPlayerView.CLASS_NAME);t.updateBankValueText(this.$model.moneyBank),t.updateChipsContainersView(),this._options.saveProgress()},c.prototype.removeAllChipsViewFromBets=function(){var t=this.$childViews.get(c.CHILD_CONTAINER_CHIPS_BETS);t.updateView(this.$model.getChipsByType(n.ChipTypes.FromPlayerToBet)),this.updateBetText()},c.prototype.fullDealerMainDeck=function(){var t=this,e=this.DependenciesContainer.get("SoundManager");e.playSound(n.SoundConstants.CARD_FLIP);var i=this.$model.getDeckByType(n.DeckTypes.DealerMain),r=i.calculatePoints(!0),o=i.bottomCard;o.active=!0;var a=this._cardViewsDictionary[o.id];a.updateView(),this.updatePointsTextByDeck(n.DeckTypes.DealerMain);var l=this.$model.getDeckByType(n.DeckTypes.PlayerMain),u=l.calculatePoints();if(u<=n.BoardModel.POINT_21&&0==l.wasBlackJack){var h=[],c=void 0,d=void 0,p=17,f=this.DependenciesContainer.get("StorageManager"),_=parseInt(f.loadData(s.OPTIONS_DEALER_ON_SOFT_HITS_17));if(r<=p)do{var m=!1;if(r==p&&1==_){var y=i.getNumAces(),v=i.isAceWithOnePoint();0==v&&1==y&&(m=!0)}else r<p&&(m=!0);if(!m)break;c=this.$model.getDeckByType(n.DeckTypes.Initial),d=this.$model.getDeckByType(n.DeckTypes.DealerMain),o=c.bottomCard,o.active=!0,this.$model.moveCardToDeck(o,d.id),a=this._cardViewsDictionary[o.id],a.updateView(),h.push(a),r=i.calculatePoints()}while(r<=p);var g=3*this._cardTweenDelayMs;this._timeoutId_1=setTimeout(function(){t.moveCardsViewToDeck(h,!0,!0,!0,g)},g)}else this.nextStep()},c.prototype.updatePointsTextByDeck=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=null);var r=this.$model.getDeckByType(t),o=r.calculatePoints(!1,i);if(e){var a=void 0,s=void 0;switch(t){case n.DeckTypes.DealerMain:s=c.CHILD_DEALER_TITLE_TEXT,a=c.CHILD_DEALER_MAIN_POINTS;break;case n.DeckTypes.PlayerMain:s=c.CHILD_PLAYER_TITLE_TEXT,a=c.CHILD_PLAYER_MAIN_POINTS;break;case n.DeckTypes.PlayerSplit0:}var l=void 0;s&&(l=this.$childViews.get(s),l.visible=o>0);var u=void 0;a&&(u=this.$childViews.get(a),u.setText(o>0?o.toString():""))}return o},c.prototype.openedChipsPlayerView=function(){var t=this.DependenciesContainer.get("StorageManager"),e=parseInt(t.loadData(s.OPTIONS_REPEAT_BET_LAST));if(1==e&&this.$model.state==n.BoardModel.STATE_BET&&0==this.$model.moneyBet&&this.$model.moneyBank>=this.$model.moneyBetPrev){this.$model.addMoneyBetsPrev();var i=this.$childViews.get(c.CHILD_BUTTON_DEAL);if(i.blink(7),this.$model.moneyBet>0&&this.$model.chipsBets.length>0){this.updateBetText();var r=this.$childViews.get(n.ChipsPlayerView.CLASS_NAME);r.updateBankValueText(this.$model.moneyBank),this.playSoundChips(this.$model.chipsBets.length,!1),this.moveChipsToPlace(this.$model.chipsBets,!1)}}else this.$model.state=n.BoardModel.STATE_BET;this.nextStep()},c.prototype.pressAllIn=function(){var t=this;if(!(this._chipTweenNum>0)){var e=this.$model.addAllMoneyToBet(this.$model.moneyBank);if(e.length>0){this.updateBetText(),this.playSoundChips(e.length,!0),this.moveChipsToPlace(e,!1),this.updateButtonsVisible();var i=this.$childViews.get(n.ChipsPlayerView.CLASS_NAME);i.updateBankValueText(this.$model.moneyBank)}else{var r=this.$model.moneyBet,o=this.$model.moneyBank+r;this.$model.updateMoneyBank(o),this.$model.removeAllChipsFromBets(),this.updateBetText();var a=this.$model.createChipsByMoney(r,n.ChipTypes.FromBetToPlayer);this.playSoundChips(a.length,!1),this.moveChipsToPlace(a,!1),this._timeoutId_1=this._timeoutId_1=setTimeout(function(){var e=t.$childViews.get(n.ChipsPlayerView.CLASS_NAME);e.updateBankValueText(t.$model.moneyBank),e.updateChipsContainersView()},this._chipTweenDurationMs),this.updateButtonsVisible()}var s=this.DependenciesContainer.get("EventBus");s.dispatch(h.GAMEPLAY_GAME_EVENT_CHANGED,h.TOPIC_GAMEPLAY)}},c.prototype.playSoundChips=function(t,e){var i;i=e?t>1?n.SoundConstants.CHIPS_ALLIN:n.SoundConstants.CHIP:t>1?n.SoundConstants.CHIPS:n.SoundConstants.CHIP;var r=this.DependenciesContainer.get("SoundManager");r.playSound(i)},c.prototype.pressChipPlayer=function(t){var e=this.$childViews.get(n.ChipsPlayerView.CLASS_NAME);if(this.$model.state==n.BoardModel.STATE_BET&&this.$model.stateChipsPlayer==n.BoardModel.STATE_CHIPS_PLAYER_OPENED&&0==this._chipTweenNum){var i=this.$model.moneyBank-t.dignity;this.$model.updateMoneyBank(i),this.$model.addChipToBets(t.dignity),this.updateBetText(),e.updateBankValueText(this.$model.moneyBank),t.type=n.ChipTypes.FromPlayerToBet,this.playSoundChips(1,!1),this.moveChipsToPlace([t],!1),this.nextStep();var r=this.DependenciesContainer.get("EventBus");r.dispatch(h.GAMEPLAY_GAME_EVENT_CHANGED,h.TOPIC_GAMEPLAY)}},c.prototype.pressChipBet=function(t){var e=this.$childViews.get(n.ChipsPlayerView.CLASS_NAME);if(this.$model.state==n.BoardModel.STATE_BET&&this.$model.stateChipsPlayer==n.BoardModel.STATE_CHIPS_PLAYER_OPENED&&0==this._chipTweenNum){var i=this.$model.moneyBank+t.dignity;this.$model.updateMoneyBank(i),this.$model.removeChipFromBets(),this.updateBetText(),e.updateBankValueText(this.$model.moneyBank),t.type=n.ChipTypes.FromBetToPlayer,this.playSoundChips(1,!1),this.moveChipsToPlace([t],!1),this.nextStep();var r=this.DependenciesContainer.get("EventBus");r.dispatch(h.GAMEPLAY_GAME_EVENT_CHANGED,h.TOPIC_GAMEPLAY)}},c.prototype.moveChipsToPlace=function(t,i,a){void 0===i&&(i=!1),void 0===a&&(a=0),this._chipViewsArray=[];for(var s,l=[],u=t.length,h=new e.Point(0,-800),d=new e.Point(1,1),p=0;p<u;p++){var f=t[p],_="chip_"+this._chipTweenNum,m=this.$childViews.get(c.CHILD_CONTAINER_CHIPS_BETS),y=this.$childViews.get(n.ChipsPlayerView.CLASS_NAME),v=void 0,g=void 0;switch(f.type){case n.ChipTypes.FromBetToPlayer:v=new e.Point(m.x,m.y),g=y.getPositionByDignity(f.dignity);break;case n.ChipTypes.FromBetToDealer:v=new e.Point(m.x,m.y),g=h;break;case n.ChipTypes.FromBetToPlayerCard:v=new e.Point(m.x,m.y),s=this.$slots.get(c.SLOT_CONTAINER_PLAYER_MAIN),g=new e.Point(s.display.x,s.display.y);break;case n.ChipTypes.FromPlayerCardToBet:s=this.$slots.get(c.SLOT_CONTAINER_PLAYER_MAIN),v=new e.Point(s.display.x,s.display.y),g=new e.Point(m.x,m.y);break;case n.ChipTypes.FromDealerToBet:v=h,g=new e.Point(m.x,m.y);break;case n.ChipTypes.FromDealerToPlayer:v=h,g=y.getPositionByDignity(f.dignity);break;case n.ChipTypes.FromPlayerToBet:v=y.getPositionByDignity(f.dignity),g=new e.Point(m.x,m.y);break;case n.ChipTypes.FromPlayerToDealer:v=y.getPositionByDignity(f.dignity),g=h;break;case n.ChipTypes.FromPlayerToSplit0:v=y.getPositionByDignity(f.dignity),s=this.$slots.get(c.SLOT_CONTAINER_PLAYER_SPLIT_0),g=new e.Point(s.display.x,s.display.y),d=new e.Point(.5,.5);break;case n.ChipTypes.FromPlayerToSplit1:v=y.getPositionByDignity(f.dignity),s=this.$slots.get(c.SLOT_CONTAINER_PLAYER_SPLIT_1),g=new e.Point(s.display.x,s.display.y),d=new e.Point(.5,.5);break;case n.ChipTypes.FromPlayerToSplit2:v=y.getPositionByDignity(f.dignity),s=this.$slots.get(c.SLOT_CONTAINER_PLAYER_SPLIT_2),g=new e.Point(s.display.x,s.display.y),d=new e.Point(.5,.5)}if(l.indexOf(f.dignity)==-1){l.push(f.dignity),this.addChild({x:v.x,y:v.y,view:n.ChipView.CLASS_NAME,model:f,options:{onPress:function(){},slotDisplayIndex:n.BoardModel.CHIPS_DIGNITY.indexOf(f.dignity)},config:{armatureName:"GM_ChipView"}},_),this._chipTweenNum++;var T=this.$childViews.get(_);T.visible=!1,T.tween=new r(T),T.tween.onStart(this.onTweenChipStart.bind(this,T)),T.tween.onComplete(this.onTweenChipComplete.bind(this,T)),T.tween.to({x:g.x,y:g.y,scaleX:d.x,scaleY:d.y},this._chipTweenDurationMs),T.tween.easing(o.Cubic.Out),i?T.tween.delay(a+p*this._cardTweenDelayMs):a>0&&T.tween.delay(a),r.add(T.tween),T.tween.start(),this._chipViewsArray.push(T)}}},c.prototype.onTweenChipStart=function(t){t.visible=!0;var e=t.$model;switch(e.type){case n.ChipTypes.FromBetToPlayer:var i=this.$childViews.get(c.CHILD_CONTAINER_CHIPS_BETS);i.updateView(this.$model.getChipsByType(n.ChipTypes.FromPlayerToBet));break;case n.ChipTypes.FromPlayerToBet:var r=this.$childViews.get(n.ChipsPlayerView.CLASS_NAME);r.updateChipsContainersView()}},c.prototype.onTweenChipComplete=function(t){this.removeTweenByChipView(t),this.removeChild(t);var e=t.$model;switch(t=null,e.type){case n.ChipTypes.FromBetToPlayer:var i=this.$childViews.get(n.ChipsPlayerView.CLASS_NAME);i.updateChipsContainersView();break;case n.ChipTypes.FromPlayerToBet:var r=this.$childViews.get(c.CHILD_CONTAINER_CHIPS_BETS);r.updateView(this.$model.getChipsByType(n.ChipTypes.FromPlayerToBet));break;case n.ChipTypes.FromBetToDealer:}if(0==this._chipTweenNum){this._chipViewsArray=[],this.$model.updateMoneyBank(this.$model.moneyBank);var i=this.$childViews.get(n.ChipsPlayerView.CLASS_NAME);i.updateChipsContainersView(),i.updateBankValueText(this.$model.moneyBank)}},c.prototype.removeTweenByChipView=function(t){t&&t.tween&&(this._chipTweenNum--,t.removeTween())},c.prototype.updateBetText=function(){var t=new u,e=this.DependenciesContainer.get("LocalizationManager"),i=e.getText(a.UTILITY_NUMBER_DELIMITER);"%SPACE%"==i&&(i=" ");var r=e.getText(a.UTILITY_DECIMAL_DELIMITER),o=this.$childViews.get(c.SLOT_CONTAINER_BET_TEXT),s=this.$model.getDeckByType(n.DeckTypes.PlayerMain),l=s.wasDouble?2*this.$model.moneyBet:this.$model.moneyBet,h=this.$model.moneyBet>0?"$"+t.number2StringWithSeparator(l,!1,i,r):"";o.text=h,this.isLandscape&&o.autoResizeWidth(60,270)},c.prototype.updateButtonsVisible=function(){this.checkSplitBtn(),this.checkInsuranceBtn(),this.checkDoubleBtn(),this._options.checkButtonCashOut(),this._options.checkButtonAdvice();var t=this.$childViews.get(c.CHILD_BUTTON_DEAL);t.visible=!1;var e=this.$childViews.get(c.CHILD_BUTTON_HIT);e.visible=!1;var i=this.$childViews.get(c.CHILD_BUTTON_STAND);switch(i.visible=!1,this.$model.state){case n.BoardModel.STATE_BET:t.visible=this.$model.moneyBet>0;break;case n.BoardModel.STATE_NORMAL_GAME:e.visible=!0,i.visible=!0}},c.prototype.checkSplitBtn=function(){var t=this.$childViews.get(c.CHILD_BUTTON_SPLIT);t.visible=this.$model.checkSplitOpportunity()},c.prototype.checkInsuranceBtn=function(){var t=this.$model.getDeckByType(n.DeckTypes.DealerMain),e=t.cards,i=e[1],r=this.$childViews.get(c.CHILD_BUTTON_INSURANCE);r.visible=!1;var o=this.$model.getDeckByType(n.DeckTypes.PlayerMain),a=o.cards.length,l=this.$model.hasBlackJack(n.DeckTypes.PlayerMain),u=this.DependenciesContainer.get("StorageManager"),h=parseInt(u.loadData(s.OPTIONS_INSURANCE));1==h&&this.$model.state==n.BoardModel.STATE_NORMAL_GAME&&2==e.length&&i.rank==n.Ranks.Ace&&0==this.$model.wasInsurance&&this.$model.moneyBank>0&&this.$model.moneyBet>1&&this.$model.moneyBank>=Math.floor(this.$model.moneyBet/2)&&2==a&&0==this.$model.wasSplit&&0==l&&(r.visible=!0)},c.prototype.checkDoubleBtn=function(){var t=this.$childViews.get(c.CHILD_BUTTON_DOUBLE);t.visible=!1;var e=this.$model.getDeckByType(n.DeckTypes.PlayerMain),i=e.cards.length;if(this.$model.state==n.BoardModel.STATE_NORMAL_GAME&&0==e.wasDouble&&this.$model.moneyBet<=this.$model.moneyBank&&2==i){t.visible=!0;var r=this.$childViews.get(c.CHILD_CONTAINER_CHIPS_BETS);t.display.x=r.display.x+r.getPositionTopChip().x}this.updateBetText()},c.prototype.createPlayerSplitBets=function(){this.createPlayerSplitBet(c.CHILD_PLAYER_SPLIT_0,c.SLOT_CONTAINER_PLAYER_SPLIT_0),this.createPlayerSplitBet(c.CHILD_PLAYER_SPLIT_1,c.SLOT_CONTAINER_PLAYER_SPLIT_1),this.createPlayerSplitBet(c.CHILD_PLAYER_SPLIT_2,c.SLOT_CONTAINER_PLAYER_SPLIT_2),this.updatePlayerSplitBets()},c.prototype.createPlayerSplitBet=function(t,e){var i={};i.fontSize=30,i.fontFamily=n.FontConstants.FONT_MEDIUM,i.align=n.FontConstants.FONT_ALIGN_CENTER,i.fill=n.ColorConstants.WHITE,i.dropShadow=!0,i.dropShadowColor=n.ColorConstants.BLACK,i.dropShadowBlur=5,i.dropShadowDistance=0,i.dropShadowAlpha=.5;var r=this.$slots.get(e),o=this.addChild({view:n.TextAndBgView.CLASS_NAME,x:r.display.x,y:r.display.y,options:{text:" ",textStyle:i},config:{armatureName:"GM_TextAndBg_2"}},t);o.setScale(.75,.75)},c.prototype.updatePlayerSplitBets=function(){this.updatePlayerSplitBet(c.CHILD_PLAYER_SPLIT_0),this.updatePlayerSplitBet(c.CHILD_PLAYER_SPLIT_1),this.updatePlayerSplitBet(c.CHILD_PLAYER_SPLIT_2)},c.prototype.updatePlayerSplitBet=function(t,e){void 0===e&&(e=!0);var i;switch(t){case c.CHILD_PLAYER_SPLIT_0:i=n.DeckTypes.PlayerSplit0;break;case c.CHILD_PLAYER_SPLIT_1:i=n.DeckTypes.PlayerSplit1;break;case c.CHILD_PLAYER_SPLIT_2:i=n.DeckTypes.PlayerSplit2}var r=this.$childViews.get(t);if(r){r.visible=e;var o=this.$model.getDeckByType(i);if(o.cards.length>0){var a=o.wasDouble?2*this.$model.moneyBet:this.$model.moneyBet;r.setText("$"+a.toString())}else r.setText(" ")}},c.prototype.updateCardsLeftText=function(){var t=this.$childViews.get(c.CHILD_CARDS_LEFT);if(t){var e=this.$model.getDeckByType(n.DeckTypes.Initial),i=e.cards.length;i+=this._cardTweenNum,t.setText(i.toString())}},c.prototype.checkReshuffleCards=function(){var t=this.DependenciesContainer.get("StorageManager"),e=parseInt(t.loadData(s.OPTIONS_DECK_ID)),i=parseInt(n.BoardModel.NUM_DECKS[e]);if(i!=this.$model.numDecks)this.reshuffle(i,!0);else{var r=this.$model.getDeckByType(n.DeckTypes.Initial),o=r.cards.length;o<=60&&this.reshuffle(this.$model.numDecks,!0)}},c.prototype.reshuffle=function(t,e){this.reset(),this.$model.reshuffle(t,e),this.createView();var i=this.$childViews.get(c.CHILD_CONTAINER_CHIPS_BETS);i.updateView(this.$model.getChipsByType(n.ChipTypes.FromPlayerToBet)),this.updateCardsLeftText()},c.prototype.advice=function(){var t=new n.AdviceModel(this.$model),e=t.getAdvice();e=this.checkAdviceAndButton(e);var i="";switch(e){case n.AdviceTypes.Hit:i=c.CHILD_BUTTON_HIT;break;case n.AdviceTypes.Stand:i=c.CHILD_BUTTON_STAND;break;case n.AdviceTypes.Double:i=c.CHILD_BUTTON_DOUBLE;break;case n.AdviceTypes.Split:i=c.CHILD_BUTTON_SPLIT}var r=this.$childViews.get(i);r&&r.blink(3)},c.prototype.checkAdviceAndButton=function(t){var e=t;switch(t){case n.AdviceTypes.Double:var i=this.$childViews.get(c.CHILD_BUTTON_DOUBLE);i&&0==i.visible&&(e=n.AdviceTypes.Hit);break;case n.AdviceTypes.Split:var r=this.$childViews.get(c.CHILD_BUTTON_SPLIT);if(r&&0==r.visible){var o=this.$model.getDeckByType(n.DeckTypes.PlayerMain),a=o.calculatePoints();e=a>=17?n.AdviceTypes.Stand:n.AdviceTypes.Hit}}return e},c.prototype.checkShowPanelAdvice=function(t){var e=!1,i=this.DependenciesContainer.get("StorageManager"),r=parseInt(i.loadData(s.PANEL_ADVICE));if(1==r){var o=new n.AdviceModel(this.$model),l=o.getAdvice();l=this.checkAdviceAndButton(l);var h=this.DependenciesContainer.get("LocalizationManager"),c=h.getText(a.PANEL_ADVICE_MESSAGE),d=this.getAdviceByType(t),p=this.getAdviceByType(l),f=new u;c=f.replaceAllOccurrences(c,"%SELECTED%",d.toUpperCase()),c=f.replaceAllOccurrences(c,"%ADVICE%",p.toUpperCase()),t!=l&&(i.saveData(s.PANEL_ADVICE,0),this._options.showPanelAdvice(c),e=!0)}return e},c.prototype.getAdviceByType=function(t){var e;switch(t){case n.AdviceTypes.Hit:e=a.BUTTON_HIT;break;case n.AdviceTypes.Stand:e=a.BUTTON_STAND;break;case n.AdviceTypes.Double:e=a.BUTTON_DOUBLE;break;case n.AdviceTypes.Split:e=a.BUTTON_SPLIT}var i=this.DependenciesContainer.get("LocalizationManager");return i.getText(e)},c.prototype.dispose=function(){this.reset(),t.prototype.dispose.call(this)},c.prototype.reset=function(){this._timeoutId_1&&(clearTimeout(this._timeoutId_1),this._timeoutId_1=null),this._timeoutId_2&&(clearTimeout(this._timeoutId_2),this._timeoutId_2=null),this._timeoutId_3&&(clearTimeout(this._timeoutId_3),this._timeoutId_3=null);for(var t=0;t<this._cardViewsArray.length;t++){var e=this._cardViewsArray[t];e.reset(),this.removeChild(e)}if(this._cardViewsArray=[],this._cardViewsDictionary=[],this._chipViewsArray){for(var t=0;t<this._chipViewsArray.length;t++){var n=this._chipViewsArray[t];n.reset()}this._chipViewsArray=[]}var i=this.$childViews.get(c.CHILD_CONTAINER_CHIPS_BETS);i.updateView([]),r.removeAll(),this._cardTweenNum=0,this._chipTweenNum=0},c.CLASS_NAME="BoardView",c.ARMATURE_LANDSCAPE="GM_BoardViewLndscp",c.ARMATURE_PORTRAIT="GM_BoardViewPrtrt",c.SLOT_CONTAINER_INITIAL="ContainerInitial",c.SLOT_CONTAINER_DISCARD_PILE="ContainerDiscardPile",c.SLOT_CONTAINER_DEALER_MAIN="ContainerDealerMain",c.SLOT_CONTAINER_PLAYER_MAIN="ContainerPlayerMain",c.SLOT_CONTAINER_PLAYER_SPLIT_0="ContainerPlayerSplit_0",c.SLOT_CONTAINER_PLAYER_SPLIT_1="ContainerPlayerSplit_1",c.SLOT_CONTAINER_PLAYER_SPLIT_2="ContainerPlayerSplit_2",c.SLOT_CONTAINER_BET_TEXT="ContainerBetsText",c.CHILD_CONTAINER_CHIPS_BETS="ContainerChipsBets",c.CHILD_BUTTON_DEAL="ButtonDeal",c.CHILD_BUTTON_SPLIT="ButtonSplit",c.CHILD_BUTTON_INSURANCE="ButtonInsurance",c.CHILD_BUTTON_HIT="ButtonHit",c.CHILD_BUTTON_STAND="ButtonStand",c.CHILD_BUTTON_DOUBLE="ButtonDouble",c.CHILD_PLAYER_TITLE_TEXT="PlayerTitleText",c.CHILD_PLAYER_MAIN_POINTS="PlayerMainPoints",c.CHILD_DEALER_TITLE_TEXT="DealerTitleText",c.CHILD_DEALER_MAIN_POINTS="DealerMainPoints",c.CHILD_CARDS_LEFT="CardsLeft",c.CHILD_PLAYER_SPLIT_0="PlayerSplitBet_0",c.CHILD_PLAYER_SPLIT_1="PlayerSplitBet_1",c.CHILD_PLAYER_SPLIT_2="PlayerSplitBet_2",c.factory={get:function(t){return new c(t)},dependency:["Options"]},c}(n.ViewBase);n.BoardView=c}(n=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var n;!function(n){var r=t.Game.Localization.LocalizationConstants,o=t.Core.EventBusConstants,a=function(t){function a(e){var n=t.call(this)||this;return n._options=e,n}return i(a,t),a.prototype.getConfiguration=function(){var t=this,i={};i.fontSize=38,i.fontFamily=n.FontConstants.FONT_BOLD,i.align=n.FontConstants.FONT_ALIGN_CENTER,i.fill=n.ColorConstants.GREEN;var a=new e.Point(30,0),s=new e.ObservablePoint(null,null,0,.5),l={};return l.childViews={ButtonCashOut:{view:n.GameButtonView.CLASS_NAME,options:{onPress:function(){t._options.onPressCashOut()},textKey:r.BUTTON_CASH_OUT,textStyle:i,textPosition:a,anchor:s},config:{slot:"ButtonCashOut",armatureName:"GM_ButtonCashOut"}},ButtonAdvice:{view:n.GameButtonView.CLASS_NAME,options:{onPress:function(){if(0==t.$model.advicePressed){t.$model.advicePressed=!0;var e=t.DependenciesContainer.get("EventBus");e.dispatch(n.AnalyticsConstants.ACTION_ADVICE,n.AnalyticsConstants.TOPIC_ANALYTIC)}var i=t.DependenciesContainer.get("EventBus");i.dispatch(o.GAMEPLAY_GAME_EVENT_CHANGED,o.TOPIC_GAMEPLAY),t._options.onPressAdvice()},textKey:r.BUTTON_ADVICE,textStyle:i,textPosition:a,anchor:s},config:{slot:"ButtonAdvice",armatureName:"GM_ButtonAdvice"}},ButtonMenu:{view:n.GameButtonView.CLASS_NAME,options:{onPress:function(){t._options.onPressMenu()},textKey:r.BUTTON_MENU,textStyle:i},config:{slot:"ButtonMenu",armatureName:"GM_ButtonMenu"}}},l},a.prototype.onContentLoaded=function(){},a.prototype.onSetLandscape=function(){},a.prototype.onSetPortrait=function(){},a.prototype.onInitialize=function(){this.checkButtonCashOut(),this.checkButtonAdvice()},a.prototype.checkButtonCashOut=function(){var t=this.$childViews.get("ButtonCashOut");t&&(t.visible=this.$model.state==n.BoardModel.STATE_BET)},a.prototype.checkButtonAdvice=function(){var t=this.$childViews.get("ButtonAdvice");t&&(t.visible=this.$model.state==n.BoardModel.STATE_NORMAL_GAME)},a.CLASS_NAME="TopUiView",a.ARMATURE_LANDSCAPE="GM_TopUiView_L",a.ARMATURE_PORTRAIT="GM_TopUiView_P",a.factory={get:function(t){return new a(t)},dependency:["Options"]},a}(n.ViewBase);n.TopUiView=a}(n=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var n;!function(t){var n=function(n){function r(t){var e=n.call(this)||this;return e._options=t,e}return i(r,n),r.prototype.getConfiguration=function(){var t={};return t},r.prototype.onContentLoaded=function(){},r.prototype.onSetLandscape=function(){},r.prototype.onSetPortrait=function(){},r.prototype.onInitialize=function(){this.display.removeChildren(),this.clear(),this.updateView(this._options.chips)},r.prototype.updateView=function(e){var n=this;this.removeAllChips(),this._options.chips=e;var i={};i.fontSize=20,i.fontFamily=t.FontConstants.FONT_MEDIUM,i.align="center";var r=e.length;this._chips=[];for(var o=r-3,a=0,s=function(i){var r=!1,s=0;(o<=0||i>=o)&&(r=!0,s=5*a,a--);var u=e[i],h="ChipView_"+u.dignity+"_"+u.id,c=l.addChild({x:s,view:t.ChipView.CLASS_NAME,options:{onPress:function(){n._options.onPress(u)},slotDisplayIndex:t.BoardModel.CHIPS_DIGNITY.indexOf(u.dignity)},config:{armatureName:"GM_ChipView"}},h);l._chips.push(c),c.visible=r},l=this,u=0;u<r;u++)s(u)},r.prototype.setVisibleAllChips=function(t){if(this._chips)for(var e=this._chips.length,n=0;n<e;n++){var i=this._chips[n];i.visible=t}},r.prototype.getPositionTopChip=function(){var t=new e.Point(0,0);if(this._chips&&this._chips.length>0){var n=this._chips[this._chips.length-1];t=new e.Point(n.x,n.y)}return t},r.prototype.removeAllChips=function(){if(this._chips)for(var t=this._chips.length,e=0;e<t;e++){var n=this._chips[e];this.removeChild(n)}},r.CLASS_NAME="ChipsContainerView",r.TYPE_PLAYER="TYPE_PLAYER",r.TYPE_DEAL="TYPE_PLAYER",r.factory={get:function(t){return new r(t)},dependency:["Options"]},r}(t.ViewBase);t.ChipsContainerView=n}(n=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var n;!function(n){var r=t.Game.Localization.LocalizationConstants,o=t.Core.StringUtils,a=function(t){function a(e){var n=t.call(this)||this;return n._options=e,n._isAnimation=!1,n}return i(a,t),a.prototype.getConfiguration=function(){var t=this,e={};e.fontSize=34,e.fontFamily=n.FontConstants.FONT_REGULAR_1,e.align="center",e.fill=n.ColorConstants.WHITE;var i={};i.fontSize=38,i.fontFamily=n.FontConstants.FONT_BOLD,i.align="center",i.fill=n.ColorConstants.WHITE;var o={};o.fontSize=24,o.fontFamily=n.FontConstants.FONT_REGULAR_1,o.align=n.FontConstants.FONT_ALIGN_CENTER,o.fill=n.ColorConstants.WHITE;var s={};return s.animations={open:"open",close:"close"},s.animationsEvents={"complete $animations.open":"animationOpenComplete","complete $animations.close":"animationCloseComplete"},s.slots={BlurBg:a.SLOT_BLUR_BG},s.childViews={BankTitleText:{view:n.LabelView.CLASS_NAME,options:{textKey:r.GAME_BANK,textStyle:e,slot:"ContainerBankTitleText"}},BankValueText:{view:n.LabelView.CLASS_NAME,options:{text:" ",textStyle:i,slot:"ContainerBankValueText"}},ButtonAllIn:{view:n.GameButtonView.CLASS_NAME,options:{onPress:function(){t.$model.stateChipsPlayer==n.BoardModel.STATE_CHIPS_PLAYER_OPENED&&(t._options.onPressAllIn(),t.checkButtonAllIn())},textKey:" ",textStyle:o},config:{slot:"ButtonAllIn",armatureName:"GM_Button_3"}}},s},a.prototype.onContentLoaded=function(){},a.prototype.onSetLandscape=function(){},a.prototype.onSetPortrait=function(){},a.prototype.onInitialize=function(){this.checkButtonAllIn();var t=this.$slots.get(a.SLOT_BLUR_BG),i=new e.filters.BlurFilter,r=new e.filters.ColorMatrixFilter;r.blackAndWhite(!0),t.display.filters=[i,r],this.$animations.get("open").stop(),this.$animations.get("close").stop(),this.$model.stateChipsPlayer==n.BoardModel.STATE_CHIPS_PLAYER_OPENED?this.$animations.get("open").gotoAndStopByProgress(1):this.$model.stateChipsPlayer==n.BoardModel.STATE_CHIPS_PLAYER_CLOSED&&this.$animations.get("close").gotoAndStopByProgress(1);var o=new e.ObservablePoint(null,null,1,.5),s=new e.ObservablePoint(null,null,0,.5),l=this.$childViews.get("BankTitleText");l.anchor=o;var u=this.$childViews.get("BankValueText");u.anchor=s,this.updateChipsContainersView()},a.prototype.checkButtonAllIn=function(){var t=this.$childViews.get("ButtonAllIn");t&&(t.visible=0!=this.$model.moneyBank||0!=this.$model.moneyBet,this.$model.moneyBank>0?t.updateTextKey(r.BUTTON_ALL_IN):t.updateTextKey(r.BUTTON_CLEAR_BET))},a.prototype.updateBankValueText=function(t){var e=new o,n=this.DependenciesContainer.get("LocalizationManager"),i=n.getText(r.UTILITY_NUMBER_DELIMITER);"%SPACE%"==i&&(i=" ");var a=n.getText(r.UTILITY_DECIMAL_DELIMITER),s=this.$childViews.get("BankValueText");s.text="$"+e.number2StringWithSeparator(t,!1,i,a),s.autoResizeWidth(38,175),this.checkButtonAllIn()},a.prototype.open=function(){0==this._isAnimation&&this.$model.stateChipsPlayer==n.BoardModel.STATE_CHIPS_PLAYER_CLOSED&&(this.$animations.get("open").play(),this._isAnimation=!0)},a.prototype.close=function(){0==this._isAnimation&&this.$model.stateChipsPlayer==n.BoardModel.STATE_CHIPS_PLAYER_OPENED&&(this.$animations.get("close").play(),this._isAnimation=!0)},a.prototype.animationOpenComplete=function(t){this.$model.stateChipsPlayer=n.BoardModel.STATE_CHIPS_PLAYER_OPENED,this.$animations.get("open").stop(),this._isAnimation=!1,this._options.onOpened()},a.prototype.animationCloseComplete=function(t){this.$model.stateChipsPlayer=n.BoardModel.STATE_CHIPS_PLAYER_CLOSED,this.$animations.get("close").stop(),this._isAnimation=!1,this._options.onClosed()},a.prototype.updateChipsContainersView=function(){for(var t=this,e=0;e<n.BoardModel.CHIPS_DIGNITY.length;e++){var i=n.BoardModel.CHIPS_DIGNITY[e],r=a.SLOT_CONTAINER_CHIPS+i.toString(),o=this.$model.getChipsPlayerByDignity(i),s=this.$childViews.get(r);s?s.updateView(o):this.addChild({view:n.ChipsContainerView.CLASS_NAME,
model:this.$model,options:{onPress:function(e){t._options.onPressChip(e)},chips:o},config:{slot:r,armatureName:"GM_ChipView"}},r)}},a.prototype.getPositionByDignity=function(t){var n=new e.Point,i=a.SLOT_CONTAINER_CHIPS+t.toString(),r=this.$childViews.get(i);return n.x=this.x+r.x,n.y=this.y+r.y,n},a.CLASS_NAME="ChipsPlayerView",a.SLOT_CONTAINER_CHIPS="ContainerChips_",a.SLOT_BLUR_BG="BlurBg",a.factory={get:function(t){return new a(t)},dependency:["Options"]},a}(n.ViewBase);n.ChipsPlayerView=a}(n=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(e){var n=t.Game.Localization.LocalizationConstants,r=function(t){function r(e){var n=t.call(this)||this;return n.options=e,n.$model=null,n}return i(r,t),r.prototype.getConfiguration=function(){var t=this,i={};i.fontSize=40,i.fontFamily=e.FontConstants.FONT_REGULAR_1,i.align=e.FontConstants.FONT_ALIGN_CENTER,i.fill=e.ColorConstants.WHITE,i.wordWrap=!0,i.wordWrapWidth=700;var r={};r.fontSize=38,r.fontFamily=e.FontConstants.FONT_REGULAR_1,r.align=e.FontConstants.FONT_ALIGN_CENTER,r.fill=e.ColorConstants.WHITE;var o={};return o.armatureName="PNL_DialogView",o.childViews={},o.childViews.TextDescription={view:e.LabelView.CLASS_NAME,options:{textKey:this.options.textKey,text:this.options.text,textStyle:i,slot:"TextDescription"}},o.childViews.ButtonYes={view:e.GameButtonView.CLASS_NAME,options:{onPress:function(){t.options.onPressYes()},textKey:n.BUTTON_YES,textStyle:r},config:{slot:"ButtonYes",armatureName:"PNL_Button_1"}},o.childViews.ButtonNo={view:e.GameButtonView.CLASS_NAME,options:{onPress:function(){t.options.onPressNo()},textKey:n.BUTTON_NO,textStyle:r},config:{slot:"ButtonNo",armatureName:"PNL_Button_1"}},o.childViews.ButtonContinue={view:e.GameButtonView.CLASS_NAME,options:{onPress:function(){t.options.onPressContinue()},textKey:n.BUTTON_CONTINUE,textStyle:r},config:{slot:"ButtonContinue",armatureName:"PNL_Button_1"}},o},r.prototype.onContentLoaded=function(){},r.prototype.onSetLandscape=function(){t.prototype.onSetLandscape.call(this)},r.prototype.onSetPortrait=function(){t.prototype.onSetPortrait.call(this)},r.prototype.onInitialize=function(){t.prototype.onInitialize.call(this);var e=this.$childViews.get("TextDescription");e.autoResizeHeight(e.style.fontSize,270);var n=this.$childViews.get("ButtonYes"),i=this.$childViews.get("ButtonNo"),o=this.$childViews.get("ButtonContinue");switch(this.options.state){case r.STATE_YES_NO:o.visible=!1;break;case r.STATE_CONTINUE:n.visible=!1,i.visible=!1}},r.CLASS_NAME="PanelDialogView",r.STATE_YES_NO="STATE_YES_NO",r.STATE_CONTINUE="STATE_CONTINUE",r.factory={get:function(t){return new r(t)},dependency:["Options"]},r}(e.BasePanelView);e.PanelDialogView=r}(e=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(e){var n=t.Game.Localization.LocalizationConstants,r=function(t){function r(e){var n=t.call(this)||this;return n._options=e,n.$model=null,n}return i(r,t),r.prototype.getConfiguration=function(){var t=this,i={};i.fontSize=50,i.fontFamily=e.FontConstants.FONT_BOLD,i.align=e.FontConstants.FONT_ALIGN_CENTER,i.fill=[e.ColorConstants.YELLOW_1,e.ColorConstants.YELLOW_2];var r={};r.fontSize=40,r.fontFamily=e.FontConstants.FONT_REGULAR_1,r.align=e.FontConstants.FONT_ALIGN_CENTER,r.fill=e.ColorConstants.WHITE,r.wordWrap=!0,r.wordWrapWidth=600;var o={};o.fontSize=38,o.fontFamily=e.FontConstants.FONT_REGULAR_1,o.align=e.FontConstants.FONT_ALIGN_CENTER,o.fill=e.ColorConstants.WHITE;var a={};return a.armatureName="PNL_CashOutView",a.childViews={},a.childViews.TextTitle={view:e.LabelView.CLASS_NAME,options:{textKey:n.PANEL_CASH_OUT_TITLE,textStyle:i,slot:"TextTitle"}},a.childViews.TextDescription={view:e.LabelView.CLASS_NAME,options:{textKey:n.PANEL_CASH_OUT_TAKE_CASH_AND_LEAVE,textStyle:r,slot:"TextDescription"}},a.childViews.ButtonYes={view:e.GameButtonView.CLASS_NAME,options:{onPress:function(){t._options.onPressYes()},textKey:n.BUTTON_YES,textStyle:o},config:{slot:"ButtonYes",armatureName:"PNL_Button_1"}},a.childViews.ButtonNo={view:e.GameButtonView.CLASS_NAME,options:{onPress:function(){t._options.onPressNo()},textKey:n.BUTTON_NO,textStyle:o},config:{slot:"ButtonNo",armatureName:"PNL_Button_1"}},a},r.prototype.onContentLoaded=function(){},r.prototype.onSetLandscape=function(){t.prototype.onSetLandscape.call(this)},r.prototype.onSetPortrait=function(){t.prototype.onSetPortrait.call(this)},r.prototype.onInitialize=function(){t.prototype.onInitialize.call(this)},r.CLASS_NAME="PanelCashOutView",r.factory={get:function(t){return new r(t)},dependency:["Options"]},r}(e.BasePanelView);e.PanelCashOutView=r}(e=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var n;!function(n){var r=t.Game.Localization.LocalizationConstants,o=function(t){function o(e){var n=t.call(this)||this;return n._options=e,n.$model=null,n}return i(o,t),o.prototype.getConfiguration=function(){var t=this,i={};i.fontSize=56,i.fontFamily=n.FontConstants.FONT_BOLD,i.align=n.FontConstants.FONT_ALIGN_CENTER,i.fill=[n.ColorConstants.YELLOW_1,n.ColorConstants.YELLOW_2];var o={};o.fontSize=30,o.fontFamily=n.FontConstants.FONT_REGULAR_1,o.align=n.FontConstants.FONT_ALIGN_CENTER,o.fill=n.ColorConstants.WHITE,o.wordWrap=!0,o.wordWrapWidth=800;var a=36,s={};s.fontSize=a,s.fontFamily=n.FontConstants.FONT_MEDIUM,s.align=n.FontConstants.FONT_ALIGN_CENTER,s.fill=n.ColorConstants.GREEN_MENU;var l={};l.fontSize=a,l.fontFamily=n.FontConstants.FONT_MEDIUM,l.align=n.FontConstants.FONT_ALIGN_CENTER,l.fill=n.ColorConstants.GREEN_MENU;var u={};u.fontSize=a,u.fontFamily=n.FontConstants.FONT_MEDIUM,u.align=n.FontConstants.FONT_ALIGN_CENTER,u.fill=n.ColorConstants.GREEN;var h={};return h.armatureName="PNL_HelpView",h.slots={Pages:"Pages"},h.childViews={},h.childViews.arrowLeftBtn={view:n.GameButtonView.CLASS_NAME,options:{onPress:function(){t.handleLeftBtnPress()},textKey:r.BUTTON_BACK,textStyle:s,anchor:new e.ObservablePoint(null,null,0,.5),textPosition:new e.Point(-60,0)},config:{slot:"ButtonBack",armatureName:"PNL_BtnBack"}},h.childViews.arrowRightBtn={view:n.GameButtonView.CLASS_NAME,options:{onPress:function(){t.handleRightBtnPress()},textKey:r.BUTTON_NEXT,textStyle:l,anchor:new e.ObservablePoint(null,null,1,.5),textPosition:new e.Point(60,0)},config:{slot:"ButtonNext",armatureName:"PNL_BtnNext"}},h.childViews.labelViewTitle={view:n.LabelView.CLASS_NAME,options:{text:" ",textStyle:i,slot:"TextTitle"}},h.childViews.labelViewPages={view:n.LabelView.CLASS_NAME,options:{text:" ",textStyle:u,slot:"TextPages"}},h.childViews.labelViewDescription={view:n.LabelView.CLASS_NAME,options:{text:" ",textStyle:o,slot:"TextDescription"}},h.childViews.ButtonClose={view:n.GameButtonView.CLASS_NAME,options:{onPress:function(){t._options.onPress()}},config:{slot:"ButtonClose",armatureName:"PNL_BtnClose_2"}},h},o.prototype.onContentLoaded=function(){},o.prototype.onSetLandscape=function(){t.prototype.onSetLandscape.call(this)},o.prototype.onSetPortrait=function(){t.prototype.onSetPortrait.call(this)},o.prototype.onInitialize=function(){t.prototype.onInitialize.call(this),this._currentPage=1,this.showHelpPage(this._currentPage)},o.prototype.handleLeftBtnPress=function(){this._currentPage<=1||(this._currentPage--,this.showHelpPage(this._currentPage),this.toggleArrowsVisibility())},o.prototype.handleRightBtnPress=function(){this._currentPage>=o.MAX_PAGES||(this._currentPage++,this.showHelpPage(this._currentPage),this.toggleArrowsVisibility())},o.prototype.showHelpPage=function(t){var n=this.$slots.get("Pages"),i=o.IMAGES[this._currentPage-1];n&&i>-1&&(n.displayIndex=i);var r="help.page_"+t,a=r+"_1",s=this.$childViews.get("labelViewTitle");s&&(s.textKey=a,s.text=s.text.toUpperCase(),s.autoResizeWidth(56,750));var l=this.$childViews.get("labelViewPages");l&&(l.text=t+"/"+o.MAX_PAGES),a=r+"_2";var u=this.$childViews.get("labelViewDescription");if(u){u.textKey=a;var h=400,c=new e.ObservablePoint(null,null,.5,.05);n.display.visible=!0,i==-1&&(h=700,c=new e.ObservablePoint(null,null,.5,.5),n.display.visible=!1),u.autoResizeHeight(46,h),u.anchor=c}this.toggleArrowsVisibility()},o.prototype.toggleArrowsVisibility=function(){this._currentPage==o.MAX_PAGES?this.$childViews.get(o.ArrowRightBtn).visible=!1:1==this._currentPage?this.$childViews.get(o.ArrowLeftBtn).visible=!1:(this.$childViews.get(o.ArrowLeftBtn).visible=!0,this.$childViews.get(o.ArrowRightBtn).visible=!0)},o.CLASS_NAME="PanelHelpView",o.MAX_PAGES=12,o.IMAGES=[-1,-1,0,1,-1,-1,2,3,-1,-1,-1,-1],o.ArrowLeftBtn="arrowLeftBtn",o.ArrowRightBtn="arrowRightBtn",o.factory={get:function(t){return new o(t)},dependency:["Options"]},o}(n.BasePanelView);n.PanelHelpView=o}(n=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var n;!function(n){var r=t.Game.Localization.LocalizationConstants,o=t.Core.StorageManagerConstants,a=t.Core.GameUtils,s=t.Core.EventBusConstants,l=function(t){function l(e){var n=t.call(this)||this;return n._options=e,n._isAnimation=!1,n}return i(l,t),l.prototype.getConfiguration=function(){var t=this,i="v"+this.DependenciesContainer.get("Version").toString().split(" ")[0];this._isBlockPress=!0,this._isAnimation=!1;var a=this.DependenciesContainer.get("StorageManager"),s={};s.fontSize=34,s.fontFamily=n.FontConstants.FONT_MEDIUM,s.fill=n.ColorConstants.GREEN_MENU,s.align=n.FontConstants.FONT_ALIGN_CENTER;var u={};u.fontSize=26,u.fontFamily=n.FontConstants.FONT_REGULAR_1,u.fill=n.ColorConstants.BLUE_MENU,u.align=n.FontConstants.FONT_ALIGN_LEFT,u.wordWrap=!0,u.wordWrapWidth=430;var h={};h.fontSize=32,h.fontFamily=n.FontConstants.FONT_MEDIUM,h.fill=n.ColorConstants.BLUE_MENU,h.align=n.FontConstants.FONT_ALIGN_CENTER;var c={};c.fontSize=20,c.fontFamily=n.FontConstants.FONT_REGULAR_1,c.fill=n.ColorConstants.BLUE_MENU,c.align=n.FontConstants.FONT_ALIGN_LEFT;var d=new e.Point(30,0),p=new e.ObservablePoint(null,null,0,.5),f={};f.slots={MenuBg:"MenuBg",MenuBgBlockClick:"MenuBgBlockClick"},f.animations={open:"open",close:"close"},f.animationsEvents={"complete $animations.open":"animationOpenComplete","complete $animations.close":"animationCloseComplete"},f.sprites={_scrim:"_scrim"},f.spritesEvents={"tap $sprites._scrim":"_onMouseClickOrTap","click $sprites._scrim":"_onMouseClickOrTap"},f.childViews={},f.childViews.ButtonClose={view:n.GameButtonView.CLASS_NAME,options:{onPress:function(){t.press(l.PRESS_CLOSE)},textKey:r.BUTTON_CLOSE,textStyle:s,textPosition:d,anchor:p},config:{slot:"ButtonClose",armatureName:"PNL_BtnClose_1"}};var _=parseInt(a.loadData(o.MUTE_SOUNDS)),m=1==_?0:1;return f.childViews.ContainerSoundText={view:n.LabelView.CLASS_NAME,options:{textKey:1==m?r.PANEL_MENU_SOUND_ON:r.PANEL_MENU_SOUND_OFF,textStyle:h,slot:"ContainerSoundText",anchor:p}},f.childViews.ButtonRadioSound={view:n.RadioButtonView.CLASS_NAME,options:{callback:function(e){var i=1==e?0:1,s=parseInt(a.loadData(o.MUTE_SOUNDS));if(i!=s){var l=t.DependenciesContainer.get("EventBus");1==i?l.dispatch(n.AnalyticsConstants.ACTION_SOUND_ON_CLICK,n.AnalyticsConstants.TOPIC_ANALYTIC):l.dispatch(n.AnalyticsConstants.ACTION_SOUND_OFF_CLICK,n.AnalyticsConstants.TOPIC_ANALYTIC)}a.saveData(o.MUTE_SOUNDS,i.toString());var u=t.$childViews.get("ContainerSoundText");u.textKey=1==e?r.PANEL_MENU_SOUND_ON:r.PANEL_MENU_SOUND_OFF;var h=1==i,c=t.DependenciesContainer.get("SoundManager");c.mute(h)},state:m,armatureNameTurnOn:"PNL_BtnRadioOn",armatureNameTurnOff:"PNL_BtnRadioOff",soundPressName:n.SoundConstants.CLICK_RADIO},config:{slot:"ButtonRadioSound",armatureName:"PNL_BtnRadio"}},f.childViews.ContainerDealerHits17Text={view:n.LabelView.CLASS_NAME,options:{textKey:r.PANEL_MENU_DEALER_HITS_ON_SOFT_17,textStyle:h,slot:"ContainerDealerHits17Text",anchor:p}},f.childViews.ButtonRadioDealerHits17={view:n.RadioButtonView.CLASS_NAME,options:{callback:function(t){a.saveData(o.OPTIONS_DEALER_ON_SOFT_HITS_17,t.toString())},state:parseInt(a.loadData(o.OPTIONS_DEALER_ON_SOFT_HITS_17)),armatureNameTurnOn:"PNL_BtnRadioOn",armatureNameTurnOff:"PNL_BtnRadioOff",soundPressName:n.SoundConstants.CLICK_RADIO},config:{slot:"ButtonRadioDealerHits17",armatureName:"PNL_BtnRadio"}},f.childViews.ContainerInsuranceText={view:n.LabelView.CLASS_NAME,options:{textKey:r.PANEL_MENU_INSURANCE,textStyle:h,slot:"ContainerInsuranceText",anchor:p}},f.childViews.ButtonRadioInsurance={view:n.RadioButtonView.CLASS_NAME,options:{callback:function(t){a.saveData(o.OPTIONS_INSURANCE,t.toString())},state:parseInt(a.loadData(o.OPTIONS_INSURANCE)),armatureNameTurnOn:"PNL_BtnRadioOn",armatureNameTurnOff:"PNL_BtnRadioOff",soundPressName:n.SoundConstants.CLICK_RADIO},config:{slot:"ButtonRadioInsurance",armatureName:"PNL_BtnRadio"}},f.childViews.ContainerRepeatLastBetText={view:n.LabelView.CLASS_NAME,options:{textKey:r.PANEL_MENU_REPEAT_LAST_BET,textStyle:h,slot:"ContainerRepeatLastBetText",anchor:p}},f.childViews.ButtonRadioRepeatLastBet={view:n.RadioButtonView.CLASS_NAME,options:{callback:function(t){a.saveData(o.OPTIONS_REPEAT_BET_LAST,t.toString())},state:parseInt(a.loadData(o.OPTIONS_REPEAT_BET_LAST)),armatureNameTurnOn:"PNL_BtnRadioOn",armatureNameTurnOff:"PNL_BtnRadioOff",soundPressName:n.SoundConstants.CLICK_RADIO},config:{slot:"ButtonRadioRepeatLastBet",armatureName:"PNL_BtnRadio"}},f.childViews.ContainerAutoAdviceText={view:n.LabelView.CLASS_NAME,options:{textKey:r.PANEL_MENU_AUTO_ADVICE,textStyle:h,slot:"ContainerAutoAdviceText",anchor:p}},f.childViews.ButtonRadioAutoAdvice={view:n.RadioButtonView.CLASS_NAME,options:{callback:function(t){a.saveData(o.OPTIONS_AUTO_ADVICE,t.toString())},state:parseInt(a.loadData(o.OPTIONS_AUTO_ADVICE)),armatureNameTurnOn:"PNL_BtnRadioOn",armatureNameTurnOff:"PNL_BtnRadioOff",soundPressName:n.SoundConstants.CLICK_RADIO},config:{slot:"ButtonRadioAutoAdvice",armatureName:"PNL_BtnRadio"}},f.childViews.ContainerDecksText={view:n.LabelView.CLASS_NAME,options:{textKey:r.PANEL_MENU_DECKS,textStyle:h,slot:"ContainerDecksText",anchor:p}},f.childViews.ButtonListDecks={view:n.ListButtonView.CLASS_NAME,options:{callback:function(t,e){a.saveData(o.OPTIONS_DECK_ID,t.toString())},listTexts:n.BoardModel.NUM_DECKS,id:parseInt(a.loadData(o.OPTIONS_DECK_ID)),textStyle:s},config:{slot:"ButtonListDecks",armatureName:"PNL_BtnList"}},f.childViews.ContainerNextDealText={view:n.LabelView.CLASS_NAME,options:{textKey:r.PANEL_MENU_CHANGES_APPLY,textStyle:u,slot:"ContainerNextDealText",anchor:p}},f.childViews.ContainerVersionText={view:n.LabelView.CLASS_NAME,options:{textKey:i,textStyle:c,slot:"ContainerVersionText",anchor:new e.ObservablePoint(null,null,1,.5)}},f.childViews.ButtonHelp={view:n.GameButtonView.CLASS_NAME,options:{onPress:function(){if(0==t._isBlockPress){var e=t.DependenciesContainer.get("EventBus");e.dispatch(n.AnalyticsConstants.ACTION_HELP,n.AnalyticsConstants.TOPIC_ANALYTIC)}t.press(l.PRESS_HELP)},textKey:r.BUTTON_HELP,textStyle:s,textPosition:d,anchor:p},config:{slot:"ButtonHelp",armatureName:"PNL_BtnHelp"}},f.childViews.ButtonCashOut={view:n.GameButtonView.CLASS_NAME,options:{onPress:function(){t.press(l.PRESS_CASH_OUT)},textKey:r.BUTTON_CASH_OUT,textStyle:s,textPosition:d,anchor:p},config:{slot:"ButtonCashOut",armatureName:"PNL_BtnCashOut"}},f},l.prototype.onContentLoaded=function(){},l.prototype.onSetLandscape=function(){t.prototype.onSetLandscape.call(this)},l.prototype.onSetPortrait=function(){t.prototype.onSetPortrait.call(this)},l.prototype.onInitialize=function(){t.prototype.onInitialize.call(this);var e=this.$slots.get("MenuBgBlockClick");e&&(e.display.interactive=!0),this._isAnimation=!0,this.$animations.get("open").play();var i=this.$childViews.get("ButtonCashOut");i&&this.$model.state!=n.BoardModel.STATE_BET&&(i.visible=!1)},l.prototype._onMouseClickOrTap=function(t){this.press(l.PRESS_CLOSE)},l.prototype.press=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._isBlockPress){if(t==l.PRESS_CLOSE){var i=this.DependenciesContainer.get("EventBus");i.dispatch(s.GAMEPLAY_GAME_EVENT_CHANGED,s.TOPIC_GAMEPLAY)}t!=l.PRESS_CLOSE&&t!=l.PRESS_HELP&&t!=l.PRESS_CASH_OUT||(this._isBlockPress=!0,this._isAnimation=!0,this._currentPress=t,this.$animations.get("close").play())}},l.prototype.animationOpenComplete=function(t){this.$animations.get("open").stop(),this._isAnimation=!1,this._isBlockPress=!1,this.checkMenuBg()},l.prototype.animationCloseComplete=function(t){this.$animations.get("close").stop(),this._isAnimation=!1,this._options.onPress&&this._options.onPress(this._currentPress,null)},l.prototype.onUpdate=function(t){0!=this._isAnimation&&this.checkMenuBg()},l.prototype.onResize=function(n,i){t.prototype.onResize.call(this,n,i);var r=this.isLandscape?a.LANDSCAPE:a.PORTRAIT,o=new a,s=o.getScreenSize(n,i,r);this._screenSize=new e.Point(s.x,s.y);var l=this.$childViews.get("ContainerVersionText");l&&(l.x=.48*s.x,l.y=.48*s.y),this.checkMenuBg()},l.prototype.checkMenuBg=function(){var t=this.$slots.get("MenuBg");if(t){var e=this.isLandscape?1.18:1.2;t.display.height=this._screenSize.y*e;var n=this.isLandscape?.65:.9;t.display.width=n*this._screenSize.x;var i=this.$slots.get("MenuBgBlockClick");i&&(i.display.height=this._screenSize.y,i.display.width=n*this._screenSize.x)}},l.CLASS_NAME="PanelMenuView",l.ARMATURE_PORTRAIT="PNL_MenuView_P",l.ARMATURE_LANDSCAPE="PNL_MenuView_L",l.PRESS_CLOSE="PRESS_CLOSE",l.PRESS_HELP="PRESS_HELP",l.PRESS_CASH_OUT="PRESS_CASH_OUT",l.factory={get:function(t){return new l(t)},dependency:["Options"]},l}(n.BasePanelView);n.PanelMenuView=l}(n=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(e){var n=t.Core.Tween.Tween,r=t.Game.Localization.LocalizationConstants,o=function(t){function o(e){var n=t.call(this)||this;return n.options=e,n.$model=null,n._timeoutId=null,n}return i(o,t),o.prototype.getConfiguration=function(){var t={};t.fontSize=50,t.fontFamily=e.FontConstants.FONT_MEDIUM,t.align=e.FontConstants.FONT_ALIGN_CENTER,t.fill=e.ColorConstants.WHITE,t.wordWrap=!0,t.wordWrapWidth=900,t.dropShadow=!0,t.dropShadowColor=e.ColorConstants.BLACK,t.dropShadowBlur=5,t.dropShadowDistance=0,t.dropShadowAlpha=.35;var n={};return n.armatureName="PNL_MessageView",n.sprites={_scrim:"_scrim"},n.spritesEvents={"tap $sprites._scrim":"_onMouseClickOrTap","click $sprites._scrim":"_onMouseClickOrTap"},n.childViews={},n.childViews.BlackJackAnimation={view:e.BlackJackAnimation.CLASS_NAME,options:{},config:{slot:"BlackJackAnim",armatureName:"PNL_BlackJackAnim"}},n.childViews.InsuranceLostText={view:e.TextAndBgView.CLASS_NAME,options:{text:" ",textStyle:t},config:{slot:"InsuranceLostText",armatureName:"PNL_BgInsuranceLost"}},n.childViews.PlayerText={view:e.TextAndBgView.CLASS_NAME,options:{text:" ",textStyle:t},config:{slot:"PlayerText",armatureName:"PNL_BgPlayer"}},n.childViews.DealerText={view:e.TextAndBgView.CLASS_NAME,options:{text:" ",textStyle:t},config:{slot:"DealerText",armatureName:"PNL_BgDealer"}},n.childViews.ShufflingText={view:e.TextAndBgView.CLASS_NAME,options:{text:" ",textStyle:t},config:{slot:"ShufflingText",armatureName:"PNL_BgPush"}},n.childViews.PushText={view:e.TextAndBgView.CLASS_NAME,options:{text:" ",textStyle:t},config:{slot:"PushText",armatureName:"PNL_BgPush"}},n.childViews.PlayerBustText={view:e.TextAndBgView.CLASS_NAME,options:{text:" ",textStyle:t},config:{slot:"PlayerBustText",armatureName:"PNL_BgBust"}},n.childViews.DealerBustText={view:e.TextAndBgView.CLASS_NAME,options:{text:" ",textStyle:t},config:{slot:"DealerBustText",armatureName:"PNL_BgBust"}},n},o.prototype.onContentLoaded=function(){},o.prototype.onSetLandscape=function(){t.prototype.onSetLandscape.call(this)},o.prototype.onSetPortrait=function(){t.prototype.onSetPortrait.call(this)},o.prototype.onInitialize=function(){this._scrim.alpha=0,t.prototype.onInitialize.call(this),this.show(this.options.state),this.createTween()},o.prototype.show=function(t){var e=this.DependenciesContainer.get("LocalizationManager"),n=this.$childViews.get("BlackJackAnimation");n.visible=!1;var i=this.$childViews.get("InsuranceLostText");i.visible=!1;var a=this.$childViews.get("PlayerText");a.visible=!1;var s=this.$childViews.get("DealerText");s.visible=!1;var l=this.$childViews.get("ShufflingText");l.visible=!1;var u=this.$childViews.get("PushText");u.visible=!1;var h=this.$childViews.get("PlayerBustText");h.visible=!1;var c=this.$childViews.get("DealerBustText");c.visible=!1;var d,p="";switch(t){case o.STATE_RESHUFFLING:p=e.getText(r.PANEL_MESSAGE_SHUFFLING),d=l;break;case o.STATE_INSURANCE_LOST:p=e.getText(r.PANEL_MESSAGE_INSURANCE_LOST),d=i;break;case o.STATE_PUSH:p=e.getText(r.PANEL_MESSAGE_PUSH),d=u;break;case o.STATE_YOU_WIN:p=e.getText(r.PANEL_MESSAGE_YOU_WIN),d=a;break;case o.STATE_DEALER_WINS:p=e.getText(r.PANEL_MESSAGE_DEALER_WINS),d=s;break;case o.STATE_PLAYER_HAS_BLACKJACK:n.visible=!0,n.play();break;case o.STATE_DEALER_HAS_BLACKJACK:p=e.getText(r.PANEL_MESSAGE_BLACK_JACK),d=s}d&&(d.setText(p),d.visible=!0),this.options.isPlayerBust&&(p=e.getText(r.PANEL_MESSAGE_BUST),h.setText(p),h.visible=!0),this.options.isDealerBust&&(p=e.getText(r.PANEL_MESSAGE_BUST),c.setText(p),c.visible=!0)},o.prototype.createTween=function(){var t=this;this._timeoutId=setTimeout(this.starClose.bind(this,null),2e3);var e={alpha:0};this._tween=new n(e),this._tween.to({alpha:1},500),this._tween.onUpdate(function(){t._scrim.alpha=e.alpha}),this._tween.start(),n.add(this._tween)},o.prototype.starClose=function(){var t=this;this.removeTimeout(),this.removeTween();var e={alpha:1};this._tween=new n(e),this._tween.to({alpha:0},500),this._tween.onUpdate(function(){t._scrim.alpha=e.alpha}),this._tween.onComplete(function(){t.removeTween(),t.options.onPress()}),this._tween.start(),n.add(this._tween)},o.prototype._onMouseClickOrTap=function(t){null!=this._timeoutId&&(this.removeTimeout(),this.removeTween(),this.options.onPress())},o.prototype.removeTimeout=function(){this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)},o.prototype.removeTween=function(){this._tween&&(this._tween.stop(),this._tween=null)},o.CLASS_NAME="PanelMessageView",o.STATE_RESHUFFLING="STATE_RESHUFFLING",o.STATE_INSURANCE_LOST="STATE_INSURANCE_LOST",o.STATE_PUSH="STATE_PUSH",o.STATE_YOU_WIN="STATE_YOU_WIN",o.STATE_DEALER_WINS="STATE_DEALER_WINS",o.STATE_PLAYER_HAS_BLACKJACK="STATE_PLAYER_HAS_BLACKJACK",o.STATE_DEALER_HAS_BLACKJACK="STATE_DEALER_HAS_BLACKJACK",o.factory={get:function(t){return new o(t)},dependency:["Options"]},o}(e.BasePanelView);e.PanelMessageView=o}(e=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e;!function(e){var n=t.Game.Localization.LocalizationConstants,r=function(t){function r(e){var n=t.call(this)||this;return n._options=e,n}return i(r,t),r.prototype.getConfiguration=function(){var t=this,i={};i.fontSize=80,i.fontFamily=e.FontConstants.FONT_BOLD,i.align=e.FontConstants.FONT_ALIGN_CENTER,i.fill=[e.ColorConstants.YELLOW_1,e.ColorConstants.YELLOW_2];var o=34,a={};a.fontSize=o,a.fontFamily=e.FontConstants.FONT_MEDIUM,a.align=e.FontConstants.FONT_ALIGN_CENTER,a.fill=e.ColorConstants.WHITE;var s={};s.fontSize=o,s.fontFamily=e.FontConstants.FONT_MEDIUM,s.align=e.FontConstants.FONT_ALIGN_CENTER,s.fill=e.ColorConstants.YELLOW;var l={};l.fontSize=o,l.fontFamily=e.FontConstants.FONT_MEDIUM,l.align=e.FontConstants.FONT_ALIGN_CENTER,l.fill=e.ColorConstants.BLUE_MENU;var u={};u.fontSize=o,u.fontFamily=e.FontConstants.FONT_REGULAR_1,u.align=e.FontConstants.FONT_ALIGN_CENTER,u.fill=e.ColorConstants.WHITE;var h=this.DependenciesContainer.get("LocalizationManager"),c=h.getText(this._options.textRankKey),d={};return d.armatureName=r.ARMATURE,d.animations={open:"open"},d.animationsEvents={"complete $animations.open":"animationOpenComplete"},d.childViews={},d.slots={WinImage:"WinImage"},d.childViews.ContainerTitleText={view:e.LabelView.CLASS_NAME,options:{textKey:this._options.textTitleKey,textStyle:i,slot:"ContainerTitleText"}},d.childViews.ButtonContinue={view:e.GameButtonView.CLASS_NAME,options:{onPress:function(){var e=t.$childViews.get("ButtonContinue");e&&(e.visible=!1),t._options.onPress()},textKey:n.BUTTON_CONTINUE,textStyle:u},config:{slot:"ButtonContinue",armatureName:"PNL_BtnContinue"}},d.childViews.CashWonLine={view:e.GameEndLineView.CLASS_NAME,options:{textKeyTitle:n.PANEL_GAMEEND_CASH_WON,textStyleTitle:a,dotStyle:l,valueStart:this._options.cashWon,isTimeMs:!1,prefix:"$"},config:{slot:"CashWonLine",armatureName:"PNL_GameEndLine"}},d.childViews.HandsWonLine={view:e.GameEndLineView.CLASS_NAME,options:{textKeyTitle:n.PANEL_GAMEEND_HANDS_WON,textStyleTitle:a,dotStyle:l,valueStart:this._options.handsWon,isTimeMs:!1},config:{slot:"HandsWonLine",armatureName:"PNL_GameEndLine"}},d.childViews.HighestBankLine={view:e.GameEndLineView.CLASS_NAME,options:{textKeyTitle:n.PANEL_GAMEEND_HIGHEST_BANK,textStyleTitle:a,textStyleValue:s,dotStyle:l,valueStart:this._options.highestBank,isTimeMs:!1,prefix:"$"},config:{slot:"HighestBankLine",armatureName:"PNL_GameEndLine"}},d.childViews.TextRankKeyLine={view:e.GameEndLineView.CLASS_NAME,options:{textKeyTitle:n.PANEL_GAMEEND_RANK,textStyleTitle:a,dotStyle:l,valueStart:0,isTimeMs:!1,prefix:c,zeroHide:!0},config:{slot:"TextRankKeyLine",armatureName:"PNL_GameEndLine"}},d.childViews.TotalScoreLine={view:e.GameEndLineView.CLASS_NAME,options:{textKeyTitle:n.PANEL_GAMEEND_TOTALSCORE,textStyleTitle:a,dotStyle:l,valueStart:0,isTimeMs:!1},config:{slot:"TotalScoreLine",armatureName:"PNL_GameEndLine"}},d},r.prototype.onContentLoaded=function(){},r.prototype.onSetLandscape=function(){t.prototype.onSetLandscape.call(this)},r.prototype.onSetPortrait=function(){t.prototype.onSetPortrait.call(this)},r.prototype.onInitialize=function(){if(t.prototype.onInitialize.call(this),this.buttonContinueVisible(!1),0==this._options.winner){if(this._options.isAnimation){var n=this.DependenciesContainer.get("SoundManager");n.playSound(e.SoundConstants.GAMEEND_HOUSE_WINS)}var i=this.$slots.get("WinImage");i.display.visible=!1;var r=this.$childViews.get("ContainerTitleText");r.y-=60*this.assetScale}else if(this._options.isAnimation){var n=this.DependenciesContainer.get("SoundManager");n.playSound(e.SoundConstants.GAMEEND_YOU_WIN)}this._options.isAnimation?this.$animations.get("open").play():(this.$animations.get("open").gotoAndStopByProgress(1),this.startAnimationScore())},r.prototype.animationOpenComplete=function(t){this.$animations.get("open").stop(),this.startAnimationScore()},r.prototype.startAnimationScore=function(){var t=this.$childViews.get("TotalScoreLine");t.startTween(0,this._options.totalScore,this._options.isAnimation,this.completedAnimationScore.bind(this))},r.prototype.completedAnimationScore=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];0==this._options.continueGameEndPressed&&this.buttonContinueVisible(!0)},r.prototype.buttonContinueVisible=function(t){var e=this.$childViews.get("ButtonContinue");e.visible=t},r.CLASS_NAME="PanelGameEndView",r.ARMATURE="PNL_GameEndView",r.factory={get:function(t){return new r(t)},dependency:["Options"]},r}(e.BasePanelView);e.PanelGameEndView=r}(e=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var n;!function(n){var r=t.Core.Tween.Tween,o=t.Core.DateUtils,a=t.Core.StringUtils,s=t.Game.Localization.LocalizationConstants,l=function(t){function l(e){var n=t.call(this)||this;return n._options=e,n}return i(l,t),l.prototype.getConfiguration=function(){this._stringUtils=new a;var t=this.DependenciesContainer.get("LocalizationManager");this._utilityNumberDelimiter=t.getText(s.UTILITY_NUMBER_DELIMITER),"%SPACE%"==this._utilityNumberDelimiter&&(this._utilityNumberDelimiter=" "),this._utilityDecimalDelimiter=t.getText(s.UTILITY_DECIMAL_DELIMITER);var i=new e.ObservablePoint(null,null,0,.5),r=new e.ObservablePoint(null,null,1,.5);return{armatureName:"PanelGameEndLine",childViews:{TitleLabelView:{view:n.LabelView.CLASS_NAME,options:{textKey:this._options.textKeyTitle,textStyle:this._options.textStyleTitle,slot:"Title",anchor:i}},ValueLabelView:{view:n.LabelView.CLASS_NAME,options:{text:" ",textStyle:this._options.textStyleValue?this._options.textStyleValue:this._options.textStyleTitle,slot:"Value",anchor:r}},DotLabelView:{view:n.LabelView.CLASS_NAME,options:{text:" ",textStyle:this._options.dotStyle||this._options.textStyleTitle,anchor:i}}}}},l.prototype.onContentLoaded=function(){},l.prototype.onSetLandscape=function(){},l.prototype.onSetPortrait=function(){},l.prototype.onInitialize=function(){var t=this.$childViews.get("TitleLabelView"),e=t.$slots.get("textSlot"),n=this.$childViews.get("DotLabelView");n.x=e.display.x+.97*t.width,n.y=e.display.y+.1*t.height,this.changeValue(this._options.valueStart)},l.prototype.startTween=function(t,e,n,i,o){if(void 0===i&&(i=null),void 0===o&&(o=null),this._callback=i,this._callbackParams=o,this._isAnimationCompleted=!1,this._options.valueStart=t,this._valueEnd=e,n&&t==e&&(n=!1),n){var a={value:t};this.onUpdateTween(a),this._tween=new r(a),this._tween.to({value:e},1e3),this._tween.delay(500),this._tween.update(100),this._tween.onUpdate(this.onUpdateTween.bind(this,a)),this._tween.onComplete(this.onCompletedTween.bind(this)),this._tween.start(),r.add(this._tween)}else this.changeValue(e),this.sendCallback()},l.prototype.onUpdateTween=function(t){var e=Math.round(t.value);this.changeValue(e)},l.prototype.onCompletedTween=function(){this.tweenRemove(),this.changeValue(this._valueEnd),this.sendCallback()},l.prototype.tweenRemove=function(){this._tween&&(this._tween.stop(),r.remove(this._tween),this._tween=null)},l.prototype.changeValue=function(t){var e=new o,n=this.$childViews.get("ValueLabelView");if(this._options.isTimeMs){var i=e.convertMStoTime(t);n.text=i}else n.text=this._stringUtils.number2StringWithSeparator(t,!1,this._utilityNumberDelimiter,this._utilityDecimalDelimiter);this._options.zeroHide&&"0"==n.text&&(n.text=""),this._options.prefix&&(n.text=this._options.prefix+n.text);var r=this.$childViews.get("DotLabelView"),a=this.$childViews.get("TitleLabelView");this.addDots(r,a,n)},l.prototype.sendCallback=function(){this._isAnimationCompleted=!0,this._callback&&(this._callback(this._callbackParams),this._callback=null,this._callbackParams&&(this._callbackParams=null))},l.prototype.addDots=function(t,e,n){if(this._options.dotStyle){t.text="",t.alpha=.35;for(var i=e.$slots.get("textSlot"),r=n.$slots.get("textSlot"),o=0,a=1;o<a;)t.text+=".",o=t.width,a=r.display.x-n.width-(i.display.x+e.width)-4*this.assetScale}},Object.defineProperty(l.prototype,"isAnimationCompleted",{get:function(){return this._isAnimationCompleted},enumerable:!0,configurable:!0}),l.CLASS_NAME="GameEndLineView",l.factory={get:function(t){return new l(t)},dependency:["Options"]},l}(n.ViewBase);n.GameEndLineView=l}(n=t.Game||(t.Game={}))}(n||(n={}));var n;!function(t){var e=function(){function t(e,n){this.window=e,e.__Arkadium__Autotest__=t,this.$root=n.root,t.instancesList.push(this)}return t.instancesList=[],t.factory={get:function(e,n){return new t(e,n)},dependency:["Window","Options"]},t}();t.Autotest=e}(n||(n={})),t.exports=n}).call(e,n(16))},function(t,e){t.exports="@font-size-title : font-size-base * 2;.top0{margin-top:0 !important}.top5{margin-top:5px}.top7{margin-top:7px}.top10{margin-top:10px}.top15{margin-top:15px}.top17{margin-top:17px}.top30{margin-top:30px}.pleft0{padding-left:0 !important}.pleft5{padding-left:5px}.pleft10{padding-left:10px}.pleft15{padding-left:15px}.pleft20{padding-left:20px}.pleft30{padding-left:30px}.pright0{padding-right:0 !important}.pright5{padding-right:5px}.pright10{padding-right:10px}.pright15{padding-right:15px}.pright20{padding-right:20px}.pright30{padding-right:30px}.i-soccer-best-player{display:block;font-size:14pt;text-align:center;background:#ffffff;text-align:center !important;font:normal 200 1em MLBArialNarrow,SportsWorld}.i-soccer-best-player .header-shadow-grey-line{margin:auto;max-width:630px;width:100%}.i-soccer-best-player .interactive{margin:auto}.i-soccer-best-player .header{display:table;text-align:center;max-width:500px;margin:auto;font:normal 200 1.4em MLBArialNarrow,sans-serif;padding-bottom:6px;border-style:solid;border-width:10px 10px 0;-moz-border-image:url(%HEADERIMG%) 16 20 0 repeat;-webkit-border-image:url(%HEADERIMG%) 16 20 0 repeat;-o-border-image:url(%HEADERIMG%) 16 20 0 repeat;border-image:url(%HEADERIMG%) 16 20 0 repeat;border-color:white}.i-soccer-best-player .header .header-poll-icon{display:table-cell;width:15%}.i-soccer-best-player .header .header-content{display:table-cell;text-align:left;width:78%;vertical-align:middle;padding-left:15px;padding-right:15px}.i-soccer-best-player .footer{display:block;height:30px;max-width:580px;margin:auto}@media (max-width: 640px){.i-soccer-best-player .footer{margin-top:0}}.i-soccer-best-player .footer .footer-links{display:table;position:absolute;width:100%;max-width:580px;font:normal 200 .7em MLBArialNarrow,sans-serif;color:#B3B3B3;padding-right:16px;padding-left:16px}.i-soccer-best-player .footer .footer-links .source{display:table-cell;padding-top:5px;padding-bottom:5px;text-transform:uppercase;width:80%;vertical-align:middle;text-align:left}.i-soccer-best-player .footer .footer-links .source a{opacity:.35;transition:opacity .5s ease-in}.i-soccer-best-player .footer .footer-links .source a:hover{opacity:1}.i-soccer-best-player .footer .footer-links .inhabit-logo{display:table-cell;width:20%;opacity:.3;transition:opacity .5s ease-in;cursor:pointer;margin-right:16px}.i-soccer-best-player .footer .footer-links .inhabit-logo img{width:100%;margin:auto;min-width:54px}.i-soccer-best-player .footer .footer-links .inhabit-logo:hover{opacity:1}";
},function(t,e,n){!function(){function e(t,e){document.addEventListener?t.addEventListener("scroll",e,!1):t.attachEvent("scroll",e)}function n(t){document.body?t():document.addEventListener?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),t()}):document.attachEvent("onreadystatechange",function e(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",e),t())})}function i(t){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(t)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function r(t,e){t.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+e+";"}function o(t){var e=t.a.offsetWidth,n=e+100;return t.f.style.width=n+"px",t.c.scrollLeft=n,t.b.scrollLeft=t.b.scrollWidth+100,t.g!==e&&(t.g=e,!0)}function a(t,n){function i(){var t=r;o(t)&&t.a.parentNode&&n(t.g)}var r=t;e(t.b,i),e(t.c,i),o(t)}function s(t,e){var n=e||{};this.family=t,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}function l(){if(null===p)if(u()&&/Apple/.test(window.navigator.vendor)){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);p=!!t&&603>parseInt(t[1],10)}else p=!1;return p}function u(){return null===_&&(_=!!document.fonts),_}function h(){if(null===f){var t=document.createElement("div");try{t.style.font="condensed 100px sans-serif"}catch(t){}f=""!==t.style.font}return f}function c(t,e){return[t.style,t.weight,h()?t.stretch:"","100px",e].join(" ")}var d=null,p=null,f=null,_=null;s.prototype.load=function(t,e){var o=this,s=t||"BESbswy",h=0,p=e||3e3,f=(new Date).getTime();return new Promise(function(t,e){if(u()&&!l()){var _=new Promise(function(t,e){function n(){(new Date).getTime()-f>=p?e(Error(""+p+"ms timeout exceeded")):document.fonts.load(c(o,'"'+o.family+'"'),s).then(function(e){1<=e.length?t():setTimeout(n,25)},e)}n()}),m=new Promise(function(t,e){h=setTimeout(function(){e(Error(""+p+"ms timeout exceeded"))},p)});Promise.race([m,_]).then(function(){clearTimeout(h),t(o)},e)}else n(function(){function n(){var e;(e=-1!=y&&-1!=v||-1!=y&&-1!=g||-1!=v&&-1!=g)&&((e=y!=v&&y!=g&&v!=g)||(null===d&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),d=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))),e=d&&(y==T&&v==T&&g==T||y==A&&v==A&&g==A||y==b&&v==b&&g==b)),e=!e),e&&(S.parentNode&&S.parentNode.removeChild(S),clearTimeout(h),t(o))}function l(){if((new Date).getTime()-f>=p)S.parentNode&&S.parentNode.removeChild(S),e(Error(""+p+"ms timeout exceeded"));else{var t=document.hidden;!0!==t&&void 0!==t||(y=u.a.offsetWidth,v=_.a.offsetWidth,g=m.a.offsetWidth,n()),h=setTimeout(l,50)}}var u=new i(s),_=new i(s),m=new i(s),y=-1,v=-1,g=-1,T=-1,A=-1,b=-1,S=document.createElement("div");S.dir="ltr",r(u,c(o,"sans-serif")),r(_,c(o,"serif")),r(m,c(o,"monospace")),S.appendChild(u.a),S.appendChild(_.a),S.appendChild(m.a),document.body.appendChild(S),T=u.a.offsetWidth,A=_.a.offsetWidth,b=m.a.offsetWidth,l(),a(u,function(t){y=t,n()}),r(u,c(o,'"'+o.family+'",sans-serif')),a(_,function(t){v=t,n()}),r(_,c(o,'"'+o.family+'",serif')),a(m,function(t){g=t,n()}),r(m,c(o,'"'+o.family+'",monospace'))})})},t.exports=s}()},function(t,e,n){var i,r,o;(function(n){"use strict";!function(n,a){r=[],i=a,o="function"==typeof i?i.apply(e,r):i,!(void 0!==o&&(t.exports=o))}(this,function(){function t(){try{return a in r&&r[a]}catch(t){return!1}}var e,i={},r="undefined"!=typeof window?window:n,o=r.document,a="localStorage",s="script";if(i.disabled=!1,i.version="1.3.20",i.set=function(t,e){},i.get=function(t,e){},i.has=function(t){return void 0!==i.get(t)},i.remove=function(t){},i.clear=function(){},i.transact=function(t,e,n){null==n&&(n=e,e=null),null==e&&(e={});var r=i.get(t,e);n(r),i.set(t,r)},i.getAll=function(){},i.forEach=function(){},i.serialize=function(t){return JSON.stringify(t)},i.deserialize=function(t){if("string"==typeof t)try{return JSON.parse(t)}catch(e){return t||void 0}},t())e=r[a],i.set=function(t,n){return void 0===n?i.remove(t):(e.setItem(t,i.serialize(n)),n)},i.get=function(t,n){var r=i.deserialize(e.getItem(t));return void 0===r?n:r},i.remove=function(t){e.removeItem(t)},i.clear=function(){e.clear()},i.getAll=function(){var t={};return i.forEach(function(e,n){t[e]=n}),t},i.forEach=function(t){for(var n=0;n<e.length;n++){var r=e.key(n);t(r,i.get(r))}};else if(o&&o.documentElement.addBehavior){var l,u;try{u=new ActiveXObject("htmlfile"),u.open(),u.write("<"+s+">document.w=window</"+s+'><iframe src="/favicon.ico"></iframe>'),u.close(),l=u.w.frames[0].document,e=l.createElement("div")}catch(t){e=o.createElement("div"),l=o.body}var h=function(t){return function(){var n=Array.prototype.slice.call(arguments,0);n.unshift(e),l.appendChild(e),e.addBehavior("#default#userData"),e.load(a);var r=t.apply(i,n);return l.removeChild(e),r}},c=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),d=function(t){return t.replace(/^d/,"___$&").replace(c,"___")};i.set=h(function(t,e,n){return e=d(e),void 0===n?i.remove(e):(t.setAttribute(e,i.serialize(n)),t.save(a),n)}),i.get=h(function(t,e,n){e=d(e);var r=i.deserialize(t.getAttribute(e));return void 0===r?n:r}),i.remove=h(function(t,e){e=d(e),t.removeAttribute(e),t.save(a)}),i.clear=h(function(t){var e=t.XMLDocument.documentElement.attributes;t.load(a);for(var n=e.length-1;n>=0;n--)t.removeAttribute(e[n].name);t.save(a)}),i.getAll=function(t){var e={};return i.forEach(function(t,n){e[t]=n}),e},i.forEach=h(function(t,e){for(var n,r=t.XMLDocument.documentElement.attributes,o=0;n=r[o];++o)e(n.name,i.deserialize(t.getAttribute(n.name)))})}try{var p="__storejs__";i.set(p,p),i.get(p)!=p&&(i.disabled=!0),i.remove(p)}catch(t){i.disabled=!0}return i.enabled=!i.disabled,i})}).call(e,function(){return this}())},function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=211},function(t,e,n){function i(t){return n(r(t))}function r(t){return o[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var o={"./fonts/fonts":213,"./fonts/index":214};i.keys=function(){return Object.keys(o)},i.resolve=r,t.exports=i,i.id=212},function(t,e){t.exports="@font-face {\nfont-family:\"RobotoRegular\";\nsrc: url('%RESOURCEPATH%/assets/fonts/Roboto-Regular.woff2') format('woff2'),\nurl('%RESOURCEPATH%/assets/fonts/Roboto-Regular.woff') format('woff'),\nurl('%RESOURCEPATH%/assets/fonts/Roboto-Regular.otf') format('truetype');\n}\n@font-face {\nfont-family:\"RobotoMedium\";\nsrc: url('%RESOURCEPATH%/assets/fonts/Roboto-Medium.woff2') format('woff2'),\nurl('%RESOURCEPATH%/assets/fonts/Roboto-Medium.woff') format('woff'),\nurl('%RESOURCEPATH%/assets/fonts/Roboto-Medium.ttf') format('truetype');\n}\n@font-face {\nfont-family:\"RobotoBold\";\nsrc: url('%RESOURCEPATH%/assets/fonts/Roboto-Bold.woff2') format('woff2'),\nurl('%RESOURCEPATH%/assets/fonts/Roboto-Bold.woff') format('woff'),\nurl('%RESOURCEPATH%/assets/fonts/Roboto-Bold.ttf') format('truetype');\n}\n@font-face {\nfont-family:\"OswaldRegular\";\nsrc: url('%RESOURCEPATH%/assets/fonts/OSWALD-REGULAR.woff2') format('woff2'),\nurl('%RESOURCEPATH%/assets/fonts/OSWALD-REGULAR.woff') format('woff'),\nurl('%RESOURCEPATH%/assets/fonts/OSWALD-REGULAR.TTF') format('truetype');\n}\n"},function(t,e){t.exports='<five-roll-game style="height:100%;overflow: hidden;">\n</five-roll-game>\n<style type="text/css">{{style.content}}</style>\n'},function(t,e,n){(function(t){t.DISPLAY_FLAG={AUTO_CHILDREN:0,AUTO_CONTAINER:1,AUTO_OBJECT:2,MANUAL_CONTAINER:3};var e=t.WebGLRenderer,n=t.CanvasRenderer;Object.assign(t.Container.prototype,{displayList:null,displayChildren:null,displayParent:null,updateTransform:function(){this.visible&&(this.containerUpdateTransform(),this.displayList&&this.displayList.update(this))},renderCanvas:function(t){return this.visible?(this.displayOrder=t.incDisplayOrder(),this.worldAlpha<=0||!this.renderable?void 0:this.displayList?void this.displayList.renderCanvas(this,t):void this.containerRenderCanvas(t)):void(this.displayOrder=0)},renderWebGL:function(t){return this.visible?(this.displayOrder=t.incDisplayOrder(),this.worldAlpha<=0||!this.renderable?void 0:this.displayList?void this.displayList.renderWebGL(this,t):void this.containerRenderWebGL(t)):void(this.displayOrder=0)},containerRenderWebGL:t.Container.prototype.renderWebGL,containerRenderCanvas:t.Container.prototype.renderCanvas});var i,r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};!function(e){var n=t.utils,i=function(t){function e(e,n){t.call(this),this.currentIndex=0,this.zIndex=0,this.enableSort=!1,this.computedChildren=[],this.currentDisplayList=null,this.currentIndex=0,this.zIndex=e||0,this.enableSort=!!n,"function"==typeof n&&this.on("add",n)}return r(e,t),e.compareZOrder=function(t,e){return t.zOrder<e.zOrder?1:t.zOrder>e.zOrder?-1:t.updateOrder-e.updateOrder},e.prototype.clear=function(){for(var t=this.computedChildren,e=0;e<t.length;e++){var n=t[e].displayChildren;if(n&&n.length>0){for(var i=0;i<n.length;i++)n[i].displayParent=null;n.length=0}t[e].displayParent=null}t.length=0,this.currentDisplayList=null,this.currentIndex=0},e.prototype.add=function(t){t.displayOrder=this.computedChildren.length,this.emit("add",t),this.computedChildren.push(t)},e.prototype.update=function(){this.emit("update"),this.enableSort&&this.computedChildren.length>1&&this.computedChildren.sort(e.compareZOrder)},e.prototype.renderWebGL=function(t,e){for(var n=this.computedChildren,i=0;i<n.length;i++){var r=n[i];if(r.displayFlag)r.renderWebGL(e);else{r.displayOrder=e.incDisplayOrder(),r._renderWebGL(e);var o=r.displayChildren;if(o&&o.length)for(var a=0;a<o.length;a++){var s=o[a];s.displayOrder=e.incDisplayOrder(),s.displayFlag?s.renderWebGL(e):s._renderWebGL(e)}}}},e.prototype.renderCanvas=function(t,e){for(var n=this.computedChildren,i=0;i<n.length;i++){var r=n[i];if(r.displayFlag)r.renderCanvas(e);else{r.displayOrder=e.incDisplayOrder(),r._renderCanvas(e);var o=r.displayChildren;if(o&&o.length)for(var a=0;a<o.length;a++){var s=o[a];s.displayOrder=e.incDisplayOrder(),s.displayFlag?s.renderCanvas(e):s._renderCanvas(e)}}}},e}(n.EventEmitter);e.DisplayGroup=i}(i||(i={}));var i;!function(e){var n=t.utils,i=function(n){function i(){n.call(this),this.container=null,this.totalElements=0,this.displayGroups=[],this.defaultDisplayGroup=new e.DisplayGroup(0,!1)}return r(i,n),i.prototype.clear=function(){for(var t=this.displayGroups,e=0;e<t.length;e++)t[e].clear();t.length=0,this.totalElements=0,this.container=null},i.prototype.destroy=function(){this.clear()},i.compareZIndex=function(t,e){return t.zIndex!==e.zIndex?t.zIndex-e.zIndex:t.currentIndex-e.currentIndex},i.prototype._addRecursive=function(e,n){var i=e;if(i.visible&&i.renderable){var r=this.displayGroups,o=n.displayGroup;if(i.updateOrder=this.totalElements++,i.displayGroup?(o=i.displayGroup,o.currentDisplayList||(o.currentDisplayList=this,o.currentIndex=r.length,r.push(o)),o.add(i),i.displayParent=i):(i.displayParent=n,n.displayChildren||(n.displayChildren=[]),n.displayChildren.push(i)),i.displayFlag!==t.DISPLAY_FLAG.MANUAL_CONTAINER){var a=i.children;if(a&&a.length>0)if(i._mask||i._filters&&i._filters.length||i.displayList)i.displayFlag=t.DISPLAY_FLAG.AUTO_CONTAINER;else{i.displayFlag=t.DISPLAY_FLAG.AUTO_CHILDREN;for(var s=0;s<a.length;s++)this._addRecursive(a[s],i.displayParent)}else i.displayFlag=t.DISPLAY_FLAG.AUTO_OBJECT}}},i.prototype.update=function(t){this.clear();t.displayGroup;this.displayGroups.push(this.defaultDisplayGroup),this.defaultDisplayGroup.add(t),this.container=t;var e=t.children,n=0;for(n=0;n<e.length;n++)this._addRecursive(e[n],t);var r=this.displayGroups;for(r.sort(i.compareZIndex),n=0;n<r.length;n++)r[n].currentIndex=n,r[n].update();this.emit("afterUpdate")},i.prototype.renderWebGL=function(e,n){e.displayFlag=t.DISPLAY_FLAG.AUTO_CHILDREN;for(var i=this.displayGroups,r=0;r<i.length;r++){var o=i[r];o.renderWebGL(e,n)}},i.prototype.renderCanvas=function(t,e){for(var n=this.displayGroups,i=0;i<n.length;i++){var r=n[i];r.renderCanvas(t,e)}},i}(n.EventEmitter);e.DisplayList=i}(i||(i={})),Object.assign(t.DisplayObject.prototype,{displayGroup:null,displayFlag:t.DISPLAY_FLAG.AUTO_CHILDREN,displayParent:null,zOrder:0,updateOrder:0,displayOrder:0});var i;!function(e){var n=t.interaction.InteractionManager;Object.assign(n.prototype,{_queue:[[],[]],_displayProcessInteractive:function(t,e,n,i){if(!e||!e.visible)return 0;var r=0,o=i=e.interactive||i;e.hitArea&&(o=!1);var a=e._mask;n<1/0&&a&&(a.containsPoint(t)||(n=1/0)),n<1/0&&e.filterArea&&(e.filterArea.contains(t.x,t.y)||(n=1/0));var s=e.children;if(e.interactiveChildren&&s)for(var l=s.length-1;l>=0;l--){var u=s[l],h=this._displayProcessInteractive(t,u,n,o);if(h){if(!u.parent)continue;r=h,n=h}}return i&&(n<e.displayOrder&&(e.hitArea?(e.worldTransform.applyInverse(t,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)&&(r=e.displayOrder)):e.containsPoint&&e.containsPoint(t)&&(r=e.displayOrder)),e.interactive&&this._queueAdd(e,r)),r},processInteractive:function(t,e,n,i,r){var o=null,a=null;t.data&&t.data.global?(o=t,a=o.data.global):a=t,this._startInteractionProcess(),this._displayProcessInteractive(a,e,i?0:1/0,!1),this._finishInteractionProcess(o,n)},_startInteractionProcess:function(){this._eventDisplayOrder=1,this._queue||(this._queue=[[],[]]),this._queue[0].length=0,this._queue[1].length=0},_queueAdd:function(t,e){var n=this._queue;if(e<this._eventDisplayOrder)n[0].push(t);else{if(e>this._eventDisplayOrder){this._eventDisplayOrder=e;for(var i=n[1],r=0;r<i.length;r++)n[0].push(i[r]);n[1].length=0}n[1].push(t)}},_finishInteractionProcess:function(t,e){for(var n=this._queue,i=n[0],r=0;r<i.length;r++)t?e(t,i[r],!1):e(i[r],!1);for(i=n[1],r=0;r<i.length;r++)t?(t.target||(t.target=i[r]),e(t,i[r],!0)):e(i[r],!0)}})}(i||(i={})),Object.assign(e.prototype,{_lastDisplayOrder:0,incDisplayOrder:function(){return++this._lastDisplayOrder},_oldRender:e.prototype.render,render:function(t,e,n,i,r){e||(this._lastDisplayOrder=0),this._oldRender(t,e,n,i,r)}}),Object.assign(n.prototype,{_lastDisplayOrder:0,incDisplayOrder:function(){return++this._lastDisplayOrder},_oldRender:n.prototype.render,render:function(t,e,n,i,r){e||(this._lastDisplayOrder=0),this._oldRender(t,e,n,i,r)}}),Object.assign(t,{display:i,DisplayGroup:i.DisplayGroup,DisplayList:i.DisplayList})}).call(e,n(16))},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.unwatch=e.watch=void 0;var r=n(4),o=i(r),a=n(3),s=i(a),l=(e.watch=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];var i=e[1];h(i)?v.apply(void 0,e):l(i)?T.apply(void 0,e):g.apply(void 0,e)},e.unwatch=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];var i=e[1];h(i)||void 0===i?E.apply(void 0,e):l(i)?b.apply(void 0,e):A.apply(void 0,e)},function(t){return"[object Array]"==={}.toString.call(t)}),u=function(t){return"[object Object]"==={}.toString.call(t)},h=function(t){return"[object Function]"==={}.toString.call(t)},c=function(t,e,n){(0,s.default)(t,e,{enumerable:!1,configurable:!0,writable:!1,value:n})},d=function(t,e,n,i){(0,s.default)(t,e,{get:n,set:function(t){i.call(this,t)},enumerable:!0,configurable:!0})},p=function(t,e,n,i,r){var o=void 0,a=t.__watchers__[e];(o=t.__watchers__.__watchall__)&&(a=a?a.concat(o):o);for(var s=a?a.length:0,l=0;s>l;l++)a[l].call(t,n,i,e,r)},f=["pop","push","reverse","shift","sort","unshift","splice"],_=function(t,e,n,i){c(t,n,function(){for(var r=0,o=void 0,a=void 0,s=arguments.length,l=Array(s),u=0;s>u;u++)l[u]=arguments[u];if("splice"===n){var h=l[0],c=h+l[1];o=t.slice(h,c),a=[];for(var d=2;d<l.length;d++)a[d-2]=l[d];r=h}else a="push"===n||"unshift"===n?l.length>0?l:void 0:l.length>0?l[0]:void 0;var p=e.apply(t,l);return"pop"===n?(o=p,r=t.length):"push"===n?r=t.length-1:"shift"===n?o=p:"unshift"!==n&&void 0===a&&(a=p),i.call(t,r,n,a,o),p})},m=function(t,e){if(h(e)&&t&&!(t instanceof String)&&l(t))for(var n=f.length;n>0;n--){var i=f[n-1];_(t,t[i],i,e)}},y=function(t,e,n,i){var r=!1,a=l(t);void 0===t.__watchers__&&(c(t,"__watchers__",{}),a&&m(t,function(n,r,o,a){if(p(t,n,o,a,r),0!==i&&o&&(u(o)||l(o))){var s=void 0,h=t.__watchers__[e];(s=t.__watchers__.__watchall__)&&(h=h?h.concat(s):s);for(var c=h?h.length:0,d=0;c>d;d++)if("splice"!==r)v(o,h[d],void 0===i?i:i-1);else for(var f=0;f<o.length;f++)v(o[f],h[d],void 0===i?i:i-1)}})),void 0===t.__proxy__&&c(t,"__proxy__",{}),void 0===t.__watchers__[e]&&(t.__watchers__[e]=[],a||(r=!0));for(var h=0;h<t.__watchers__[e].length;h++)if(t.__watchers__[e][h]===n)return;t.__watchers__[e].push(n),r&&!function(){var n=(0,o.default)(t,e);void 0!==n?!function(){var i={enumerable:n.enumerable,configurable:n.configurable},r=["get","set"];r.forEach(function(e){void 0!==n[e]&&(i[e]=function(){for(var i=arguments.length,r=Array(i),o=0;i>o;o++)r[o]=arguments[o];return n[e].apply(t,r)})});var o=["writable","value"];o.forEach(function(t){void 0!==n[t]&&(i[t]=n[t])}),(0,s.default)(t.__proxy__,e,i)}():t.__proxy__[e]=t[e];var r=function(){return t.__proxy__[e]},a=function(n){var r=t.__proxy__[e];if(0!==i&&t[e]&&(u(t[e])||l(t[e]))&&!t[e].__watchers__)for(var o=0;o<t.__watchers__[e].length;o++)v(t[e],t.__watchers__[e][o],void 0===i?i:i-1);r!==n&&(t.__proxy__[e]=n,p(t,e,n,r,"set"))};d(t,e,r,a)}()},v=function t(e,n,i){if("string"!=typeof e&&(e instanceof Object||l(e)))if(l(e)){if(y(e,"__watchall__",n,i),void 0===i||i>0)for(var r=0;r<e.length;r++)t(e[r],n,i)}else{var o=[];for(var a in e)({}).hasOwnProperty.call(e,a)&&o.push(a);T(e,o,n,i)}},g=function(t,e,n,i){"string"!=typeof t&&(t instanceof Object||l(t))&&(h(t[e])||(null!==t[e]&&(void 0===i||i>0)&&v(t[e],n,void 0!==i?i-1:i),y(t,e,n,i)))},T=function(t,e,n,i){if("string"!=typeof t&&(t instanceof Object||l(t)))for(var r=0;r<e.length;r++){var o=e[r];g(t,o,n,i)}},A=function(t,e,n){if(void 0!==t.__watchers__&&void 0!==t.__watchers__[e])if(void 0===n)delete t.__watchers__[e];else for(var i=0;i<t.__watchers__[e].length;i++)t.__watchers__[e][i]===n&&t.__watchers__[e].splice(i,1)},b=function(t,e,n){for(var i in e)e.hasOwnProperty(i)&&A(t,e[i],n)},S=function t(e,n){var i=[];for(var r in e)e.hasOwnProperty(r)&&(e[r]instanceof Object&&t(e[r],n),i.push(r));b(e,i,n)},E=function(t,e){if(!(t instanceof String||!t instanceof Object&&!l(t)))if(l(t)){for(var n=["__watchall__"],i=0;i<t.length;i++)n.push(i);b(t,n,e)}else S(t,e)}},function(t,e){var n=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(t,e){var n=Object;t.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(t,e,n){t.exports={default:n(5),__esModule:!0}},function(t,e,n){t.exports={default:n(6),__esModule:!0}},function(t,e,n){var i=n(2);t.exports=function(t,e,n){return i.setDesc(t,e,n)}},function(t,e,n){var i=n(2);n(17),t.exports=function(t,e){return i.getDesc(t,e)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(7);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var i=n(13),r=n(1),o=n(9),a="prototype",s=function(t,e,n){var l,u,h,c=t&s.F,d=t&s.G,p=t&s.S,f=t&s.P,_=t&s.B,m=t&s.W,y=d?r:r[e]||(r[e]={}),v=d?i:p?i[e]:(i[e]||{})[a];d&&(n=e);for(l in n)u=!c&&v&&l in v,u&&l in y||(h=u?v[l]:n[l],y[l]=d&&"function"!=typeof v[l]?n[l]:_&&u?o(h,i):m&&v[l]==h?function(t){var e=function(e){return this instanceof t?new t(e):t(e)};return e[a]=t[a],e}(h):f&&"function"==typeof h?o(Function.call,h):h,f&&((y[a]||(y[a]={}))[l]=h))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,t.exports=s},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var i=n(8);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){var i=n(11),r=n(1),o=n(12);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],a={};a[t]=e(n),i(i.S+i.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){var i=n(14),r=n(10);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(16);n(15)("getOwnPropertyDescriptor",function(t){return function(e,n){return t(i(e),n)}})}])})},function(t,e,n){(function(t){!function(t,i){i(e,n(16))}(this,function(t,e){"use strict";var n="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",i="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nuniform float distance;\nuniform float outerStrength;\nuniform float innerStrength;\nuniform vec4 glowColor;\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nconst float PI = 3.14159265358979323846264;\n\nvoid main(void) {\n    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);\n    vec4 ownColor = texture2D(uSampler, vTextureCoord);\n    vec4 curColor;\n    float totalAlpha = 0.0;\n    float maxTotalAlpha = 0.0;\n    float cosAngle;\n    float sinAngle;\n    vec2 displaced;\n    for (float angle = 0.0; angle <= PI * 2.0; angle += %QUALITY_DIST%) {\n       cosAngle = cos(angle);\n       sinAngle = sin(angle);\n       for (float curDistance = 1.0; curDistance <= %DIST%; curDistance++) {\n           displaced.x = vTextureCoord.x + cosAngle * curDistance * px.x;\n           displaced.y = vTextureCoord.y + sinAngle * curDistance * px.y;\n           curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));\n           totalAlpha += (distance - curDistance) * curColor.a;\n           maxTotalAlpha += (distance - curDistance);\n       }\n    }\n    maxTotalAlpha = max(maxTotalAlpha, 0.0001);\n\n    ownColor.a = max(ownColor.a, 0.0001);\n    ownColor.rgb = ownColor.rgb / ownColor.a;\n    float outerGlowAlpha = (totalAlpha / maxTotalAlpha)  * outerStrength * (1. - ownColor.a);\n    float innerGlowAlpha = ((maxTotalAlpha - totalAlpha) / maxTotalAlpha) * innerStrength * ownColor.a;\n    float resultAlpha = (ownColor.a + outerGlowAlpha);\n    gl_FragColor = vec4(mix(mix(ownColor.rgb, glowColor.rgb, innerGlowAlpha / ownColor.a), glowColor.rgb, outerGlowAlpha / resultAlpha) * resultAlpha, resultAlpha);\n}\n",r=function(t){function r(e,r,o,a,s){void 0===e&&(e=10),void 0===r&&(r=4),void 0===o&&(o=0),void 0===a&&(a=16777215),void 0===s&&(s=.1),t.call(this,n,i.replace(/%QUALITY_DIST%/gi,""+(1/s/e).toFixed(7)).replace(/%DIST%/gi,""+e.toFixed(7))),this.uniforms.glowColor=new Float32Array([0,0,0,1]),this.distance=e,this.color=a,this.outerStrength=r,this.innerStrength=o}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var o={color:{configurable:!0},distance:{configurable:!0},outerStrength:{configurable:!0},innerStrength:{configurable:!0}};return o.color.get=function(){return e.utils.rgb2hex(this.uniforms.glowColor)},o.color.set=function(t){e.utils.hex2rgb(t,this.uniforms.glowColor)},o.distance.get=function(){return this.uniforms.distance},o.distance.set=function(t){this.uniforms.distance=t},o.outerStrength.get=function(){return this.uniforms.outerStrength},o.outerStrength.set=function(t){this.uniforms.outerStrength=t},o.innerStrength.get=function(){return this.uniforms.innerStrength},o.innerStrength.set=function(t){this.uniforms.innerStrength=t},Object.defineProperties(r.prototype,o),r}(e.Filter);t.GlowFilter=r,Object.defineProperty(t,"__esModule",{value:!0})}),Object.assign(t.filters,this.__filters)}).call(e,n(16))},function(t,e,n){(function(e){!function(t,e){t(function(){"use strict";function t(t,e){return null!=t&&null!=e&&t.toLowerCase()===e.toLowerCase()}function n(t,e){var n,i,r=t.length;if(!r||!e)return!1;for(n=e.toLowerCase(),i=0;i<r;++i)if(n===t[i].toLowerCase())return!0;return!1}function i(t){for(var e in t)l.call(t,e)&&(t[e]=new RegExp(t[e],"i"))}function r(t){return(t||"").substr(0,500)}function o(t,e){this.ua=r(t),this._cache={},this.maxPhoneWidth=e||600}var a={};a.mobileDetectRules={phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6",Dell:"Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052",Samsung:"\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F",
LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323|M257)",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533",Asus:"Asus.*Galaxy|PadFone.*Mobile",NokiaLumia:"Lumia [0-9]{3,4}",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo (3DS|Switch)",Amoi:"Amoi",INQ:"INQ",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)",GoogleTablet:"Android.*Pixel C",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|SM-T719|SM-T813|SM-T819|SM-T580|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome/[0-9.]+ (?!Mobile)",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\\bA3-A20\\b|\\bA3-A30",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002",LenovoTablet:"Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)|TB-X103F|TB-X304F|TB-X304L|TB-8703F|Tab2A7-10F|TB2-X30L",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",NokiaLumiaTablet:"Lumia 2520",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|SGP612|SGP712",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android.*\\bG1\\b(?!\\))",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)|Qualcore 1027",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9|TECNO DP8D",JXDTablet:"Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",VerizonTablet:"QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+|V10 \\b4G\\b",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",AocTablet:"MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712",MpmanTablet:"MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",LeaderTablet:"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",KocasoTablet:"\\b(TB-1207)\\b",HisenseTablet:"\\b(F5281|E2371)\\b",Hudl:"Hudl HT7S3|Hudl 2",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Window Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad|AppleCoreMedia",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+$|Coast/[0-9.]+",Skyfire:"Skyfire",Edge:"Mobile Safari/[.0-9]* Edge",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile|FxiOS",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version.*Mobile.*Safari|Safari.*Mobile|MobileSafari",WeChat:"\\bMicroMessenger\\b",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Puffin:"Puffin",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger",PaleMoon:"Android.*PaleMoon|Mobile.*PaleMoon"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:["Firefox/[VER]","FxiOS/[VER]"],Fennec:"Fennec/[VER]",Edge:"Edge/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]",UCBrowser:["UCWEB[VER]","UC.*Browser/[VER]"],MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",SamsungBrowser:"SamsungBrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",PaleMoon:"PaleMoon/[VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",Goanna:"Goanna/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|YandexMobileBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|Nintendo Switch|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},a.detectMobileBrowsers={fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,tabletPattern:/android|ipad|playbook|silk/i};var s,l=Object.prototype.hasOwnProperty;return a.FALLBACK_PHONE="UnknownPhone",a.FALLBACK_TABLET="UnknownTablet",a.FALLBACK_MOBILE="UnknownMobile",s="isArray"in Array?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},function(){var t,e,n,r,o,u,h=a.mobileDetectRules;for(t in h.props)if(l.call(h.props,t)){for(e=h.props[t],s(e)||(e=[e]),o=e.length,r=0;r<o;++r)n=e[r],u=n.indexOf("[VER]"),u>=0&&(n=n.substring(0,u)+"([\\w._\\+]+)"+n.substring(u+5)),e[r]=new RegExp(n,"i");h.props[t]=e}i(h.oss),i(h.phones),i(h.tablets),i(h.uas),i(h.utils),h.oss0={WindowsPhoneOS:h.oss.WindowsPhoneOS,WindowsMobileOS:h.oss.WindowsMobileOS}}(),a.findMatch=function(t,e){for(var n in t)if(l.call(t,n)&&t[n].test(e))return n;return null},a.findMatches=function(t,e){var n=[];for(var i in t)l.call(t,i)&&t[i].test(e)&&n.push(i);return n},a.getVersionStr=function(t,e){var n,i,r,o,s=a.mobileDetectRules.props;if(l.call(s,t))for(n=s[t],r=n.length,i=0;i<r;++i)if(o=n[i].exec(e),null!==o)return o[1];return null},a.getVersion=function(t,e){var n=a.getVersionStr(t,e);return n?a.prepareVersionNo(n):NaN},a.prepareVersionNo=function(t){var e;return e=t.split(/[a-z._ \/\-]/i),1===e.length&&(t=e[0]),e.length>1&&(t=e[0]+".",e.shift(),t+=e.join("")),Number(t)},a.isMobileFallback=function(t){return a.detectMobileBrowsers.fullPattern.test(t)||a.detectMobileBrowsers.shortPattern.test(t.substr(0,4))},a.isTabletFallback=function(t){return a.detectMobileBrowsers.tabletPattern.test(t)},a.prepareDetectionCache=function(t,n,i){if(t.mobile===e){var r,s,l;return(s=a.findMatch(a.mobileDetectRules.tablets,n))?(t.mobile=t.tablet=s,void(t.phone=null)):(r=a.findMatch(a.mobileDetectRules.phones,n))?(t.mobile=t.phone=r,void(t.tablet=null)):void(a.isMobileFallback(n)?(l=o.isPhoneSized(i),l===e?(t.mobile=a.FALLBACK_MOBILE,t.tablet=t.phone=null):l?(t.mobile=t.phone=a.FALLBACK_PHONE,t.tablet=null):(t.mobile=t.tablet=a.FALLBACK_TABLET,t.phone=null)):a.isTabletFallback(n)?(t.mobile=t.tablet=a.FALLBACK_TABLET,t.phone=null):t.mobile=t.tablet=t.phone=null)}},a.mobileGrade=function(t){var e=null!==t.mobile();return t.os("iOS")&&t.version("iPad")>=4.3||t.os("iOS")&&t.version("iPhone")>=3.1||t.os("iOS")&&t.version("iPod")>=3.1||t.version("Android")>2.1&&t.is("Webkit")||t.version("Windows Phone OS")>=7||t.is("BlackBerry")&&t.version("BlackBerry")>=6||t.match("Playbook.*Tablet")||t.version("webOS")>=1.4&&t.match("Palm|Pre|Pixi")||t.match("hp.*TouchPad")||t.is("Firefox")&&t.version("Firefox")>=12||t.is("Chrome")&&t.is("AndroidOS")&&t.version("Android")>=4||t.is("Skyfire")&&t.version("Skyfire")>=4.1&&t.is("AndroidOS")&&t.version("Android")>=2.3||t.is("Opera")&&t.version("Opera Mobi")>11&&t.is("AndroidOS")||t.is("MeeGoOS")||t.is("Tizen")||t.is("Dolfin")&&t.version("Bada")>=2||(t.is("UC Browser")||t.is("Dolfin"))&&t.version("Android")>=2.3||t.match("Kindle Fire")||t.is("Kindle")&&t.version("Kindle")>=3||t.is("AndroidOS")&&t.is("NookTablet")||t.version("Chrome")>=11&&!e||t.version("Safari")>=5&&!e||t.version("Firefox")>=4&&!e||t.version("MSIE")>=7&&!e||t.version("Opera")>=10&&!e?"A":t.os("iOS")&&t.version("iPad")<4.3||t.os("iOS")&&t.version("iPhone")<3.1||t.os("iOS")&&t.version("iPod")<3.1||t.is("Blackberry")&&t.version("BlackBerry")>=5&&t.version("BlackBerry")<6||t.version("Opera Mini")>=5&&t.version("Opera Mini")<=6.5&&(t.version("Android")>=2.3||t.is("iOS"))||t.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||t.version("Opera Mobi")>=11&&t.is("SymbianOS")?"B":(t.version("BlackBerry")<5||t.match("MSIEMobile|Windows CE.*Mobile")||t.version("Windows Mobile")<=5.2,"C")},a.detectOS=function(t){return a.findMatch(a.mobileDetectRules.oss0,t)||a.findMatch(a.mobileDetectRules.oss,t)},a.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height},o.prototype={constructor:o,mobile:function(){return a.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return a.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return a.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){return this._cache.userAgent===e&&(this._cache.userAgent=a.findMatch(a.mobileDetectRules.uas,this.ua)),this._cache.userAgent},userAgents:function(){return this._cache.userAgents===e&&(this._cache.userAgents=a.findMatches(a.mobileDetectRules.uas,this.ua)),this._cache.userAgents},os:function(){return this._cache.os===e&&(this._cache.os=a.detectOS(this.ua)),this._cache.os},version:function(t){return a.getVersion(t,this.ua)},versionStr:function(t){return a.getVersionStr(t,this.ua)},is:function(e){return n(this.userAgents(),e)||t(e,this.os())||t(e,this.phone())||t(e,this.tablet())||n(a.findMatches(a.mobileDetectRules.utils,this.ua),e)},match:function(t){return t instanceof RegExp||(t=new RegExp(t,"i")),t.test(this.ua)},isPhoneSized:function(t){return o.isPhoneSized(t||this.maxPhoneWidth)},mobileGrade:function(){return this._cache.grade===e&&(this._cache.grade=a.mobileGrade(this)),this._cache.grade}},"undefined"!=typeof window&&window.screen?o.isPhoneSized=function(t){return t<0?e:a.getDeviceSmallerSide()<=t}:o.isPhoneSized=function(){},o._impl=a,o.version="1.4.3 2018-09-08",o})}(function(e){return"undefined"!=typeof t&&t.exports?function(e){t.exports=e()}:n(219)}())}).call(e,n(218))},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,n){var i,r,o;!function(n,a){"use strict";r=[],i=a,o="function"==typeof i?i.apply(e,r):i,!(void 0!==o&&(t.exports=o))}(this,function(){"use strict";return function(t,e){var n="";e||(e=6);for(var i=0;i<t.length;++i)n+=String.fromCharCode(e^t.charCodeAt(i));return n}})},function(t,e){!function(){var t={},n=null,i=!0,r=!1;try{"undefined"!=typeof AudioContext?n=new AudioContext:"undefined"!=typeof webkitAudioContext?n=new webkitAudioContext:i=!1}catch(t){i=!1}if(!i)if("undefined"!=typeof Audio)try{new Audio}catch(t){r=!0}else r=!0;if(i){var o="undefined"==typeof n.createGain?n.createGainNode():n.createGain();o.gain.value=1,o.connect(n.destination)}var a=function(t){this._volume=1,this._muted=!1,this.usingWebAudio=i,this.ctx=n,this.noAudio=r,this._howls=[],this._codecs=t,this.iOSAutoEnable=!0};a.prototype={volume:function(t){var e=this;if(t=parseFloat(t),t>=0&&1>=t){e._volume=t,i&&(o.gain.value=t);
for(var n in e._howls)if(e._howls.hasOwnProperty(n)&&e._howls[n]._webAudio===!1)for(var r=0;r<e._howls[n]._audioNode.length;r++)e._howls[n]._audioNode[r].volume=e._howls[n]._volume*e._volume;return e}return i?o.gain.value:e._volume},mute:function(){return this._setMuted(!0),this},unmute:function(){return this._setMuted(!1),this},_setMuted:function(t){var e=this;e._muted=t,i&&(o.gain.value=t?0:e._volume);for(var n in e._howls)if(e._howls.hasOwnProperty(n)&&e._howls[n]._webAudio===!1)for(var r=0;r<e._howls[n]._audioNode.length;r++)e._howls[n]._audioNode[r].muted=t},codecs:function(t){return this._codecs[t]},_enableiOSAudio:function(){var t=this;if(!n||!t._iOSEnabled&&/iPhone|iPad|iPod/i.test(navigator.userAgent)){t._iOSEnabled=!1;var e=function(){var i=n.createBuffer(1,1,22050),r=n.createBufferSource();r.buffer=i,r.connect(n.destination),"undefined"==typeof r.start?r.noteOn(0):r.start(0),setTimeout(function(){(r.playbackState===r.PLAYING_STATE||r.playbackState===r.FINISHED_STATE)&&(t._iOSEnabled=!0,t.iOSAutoEnable=!1,window.removeEventListener("touchend",e,!1))},0)};return window.addEventListener("touchend",e,!1),t}}};var s=null,l={};r||(s=new Audio,l={mp3:!!s.canPlayType("audio/mpeg;").replace(/^no$/,""),opus:!!s.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!s.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!s.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!s.canPlayType("audio/aac;").replace(/^no$/,""),m4a:!!(s.canPlayType("audio/x-m4a;")||s.canPlayType("audio/m4a;")||s.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(s.canPlayType("audio/x-mp4;")||s.canPlayType("audio/mp4;")||s.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!s.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")});var u=new a(l),h=function(t){var e=this;e._autoplay=t.autoplay||!1,e._buffer=t.buffer||!1,e._duration=t.duration||0,e._format=t.format||null,e._loop=t.loop||!1,e._loaded=!1,e._sprite=t.sprite||{},e._src=t.src||"",e._pos3d=t.pos3d||[0,0,-.5],e._volume=void 0!==t.volume?t.volume:1,e._urls=t.urls||[],e._rate=t.rate||1,e._model=t.model||null,e._onload=[t.onload||function(){}],e._onloaderror=[t.onloaderror||function(){}],e._onend=[t.onend||function(){}],e._onpause=[t.onpause||function(){}],e._onplay=[t.onplay||function(){}],e._onendTimer=[],e._webAudio=i&&!e._buffer,e._audioNode=[],e._webAudio&&e._setupAudioNode(),"undefined"!=typeof n&&n&&u.iOSAutoEnable&&u._enableiOSAudio(),u._howls.push(e),e.load()};if(h.prototype={load:function(){var t=this,e=null;if(r)return void t.on("loaderror",new Error("No audio support."));for(var n=0;n<t._urls.length;n++){var i,o;if(t._format)i=t._format;else{if(o=t._urls[n],i=/^data:audio\/([^;,]+);/i.exec(o),i||(i=/\.([^.]+)$/.exec(o.split("?",1)[0])),!i)return void t.on("loaderror",new Error("Could not extract format from passed URLs, please add format parameter."));i=i[1].toLowerCase()}if(l[i]){e=t._urls[n];break}}if(!e)return void t.on("loaderror",new Error("No codec support for selected audio sources."));if(t._src=e,t._webAudio)c(t,e);else{var s=new Audio;s.addEventListener("error",function(){s.error&&4===s.error.code&&(a.noAudio=!0),t.on("loaderror",{type:s.error?s.error.code:0})},!1),t._audioNode.push(s),s.src=e,s._pos=0,s.preload="auto",s.volume=u._muted?0:t._volume*u.volume();var h=function(){t._duration=Math.ceil(10*s.duration)/10,0===Object.getOwnPropertyNames(t._sprite).length&&(t._sprite={_default:[0,1e3*t._duration]}),t._loaded||(t._loaded=!0,t.on("load")),t._autoplay&&t.play(),s.removeEventListener("canplaythrough",h,!1)};s.addEventListener("canplaythrough",h,!1),s.load()}return t},urls:function(t){var e=this;return t?(e.stop(),e._urls="string"==typeof t?[t]:t,e._loaded=!1,e.load(),e):e._urls},play:function(t,e){var i=this;return"function"==typeof t&&(e=t),t&&"function"!=typeof t||(t="_default"),i._loaded?i._sprite[t]?(i._inactiveNode(function(r){r._sprite=t;var o=r._pos>0?r._pos:i._sprite[t][0]/1e3,a=0;i._webAudio?(a=i._sprite[t][1]/1e3-r._pos,r._pos>0&&(o=i._sprite[t][0]/1e3+o)):a=i._sprite[t][1]/1e3-(o-i._sprite[t][0]/1e3);var s,l=!(!i._loop&&!i._sprite[t][2]),h="string"==typeof e?e:Math.round(Date.now()*Math.random())+"";if(function(){var e={id:h,sprite:t,loop:l};s=setTimeout(function(){!i._webAudio&&l&&i.stop(e.id).play(t,e.id),i._webAudio&&!l&&(i._nodeById(e.id).paused=!0,i._nodeById(e.id)._pos=0,i._clearEndTimer(e.id)),i._webAudio||l||i.stop(e.id),i.on("end",h)},a/i._rate*1e3),i._onendTimer.push({timer:s,id:e.id})}(),i._webAudio){var c=i._sprite[t][0]/1e3,d=i._sprite[t][1]/1e3;r.id=h,r.paused=!1,f(i,[l,c,d],h),i._playStart=n.currentTime,r.gain.value=i._volume,"undefined"==typeof r.bufferSource.start?l?r.bufferSource.noteGrainOn(0,o,86400):r.bufferSource.noteGrainOn(0,o,a):l?r.bufferSource.start(0,o,86400):r.bufferSource.start(0,o,a)}else{if(4!==r.readyState&&(r.readyState||!navigator.isCocoonJS))return i._clearEndTimer(h),function(){var n=i,o=t,a=e,s=r,l=function(){n.play(o,a),s.removeEventListener("canplaythrough",l,!1)};s.addEventListener("canplaythrough",l,!1)}(),i;r.readyState=4,r.id=h,r.currentTime=o,r.muted=u._muted||r.muted,r.volume=i._volume*u.volume(),setTimeout(function(){r.play()},0)}return i.on("play"),"function"==typeof e&&e(h),i}),i):("function"==typeof e&&e(),i):(i.on("load",function(){i.play(t,e)}),i)},pause:function(t){var e=this;if(!e._loaded)return e.on("play",function(){e.pause(t)}),e;e._clearEndTimer(t);var n=t?e._nodeById(t):e._activeNode();if(n)if(n._pos=e.pos(null,t),e._webAudio){if(!n.bufferSource||n.paused)return e;n.paused=!0,"undefined"==typeof n.bufferSource.stop?n.bufferSource.noteOff(0):n.bufferSource.stop(0)}else n.pause();return e.on("pause"),e},stop:function(t){var e=this;if(!e._loaded)return e.on("play",function(){e.stop(t)}),e;e._clearEndTimer(t);var n=t?e._nodeById(t):e._activeNode();if(n)if(n._pos=0,e._webAudio){if(!n.bufferSource||n.paused)return e;n.paused=!0,"undefined"==typeof n.bufferSource.stop?n.bufferSource.noteOff(0):n.bufferSource.stop(0)}else isNaN(n.duration)||(n.pause(),n.currentTime=0);return e},mute:function(t){var e=this;if(!e._loaded)return e.on("play",function(){e.mute(t)}),e;var n=t?e._nodeById(t):e._activeNode();return n&&(e._webAudio?n.gain.value=0:n.muted=!0),e},unmute:function(t){var e=this;if(!e._loaded)return e.on("play",function(){e.unmute(t)}),e;var n=t?e._nodeById(t):e._activeNode();return n&&(e._webAudio?n.gain.value=e._volume:n.muted=!1),e},volume:function(t,e){var n=this;if(t=parseFloat(t),t>=0&&1>=t){if(n._volume=t,!n._loaded)return n.on("play",function(){n.volume(t,e)}),n;var i=e?n._nodeById(e):n._activeNode();return i&&(n._webAudio?i.gain.value=t:i.volume=t*u.volume()),n}return n._volume},loop:function(t){var e=this;return"boolean"==typeof t?(e._loop=t,e):e._loop},sprite:function(t){var e=this;return"object"==typeof t?(e._sprite=t,e):e._sprite},pos:function(t,e){var i=this;if(!i._loaded)return i.on("load",function(){i.pos(t)}),"number"==typeof t?i:i._pos||0;t=parseFloat(t);var r=e?i._nodeById(e):i._activeNode();if(r)return t>=0?(i.pause(e),r._pos=t,i.play(r._sprite,e),i):i._webAudio?r._pos+(n.currentTime-i._playStart):r.currentTime;if(t>=0)return i;for(var o=0;o<i._audioNode.length;o++)if(i._audioNode[o].paused&&4===i._audioNode[o].readyState)return i._webAudio?i._audioNode[o]._pos:i._audioNode[o].currentTime},pos3d:function(t,e,n,i){var r=this;if(e="undefined"!=typeof e&&e?e:0,n="undefined"!=typeof n&&n?n:-.5,!r._loaded)return r.on("play",function(){r.pos3d(t,e,n,i)}),r;if(!(t>=0||0>t))return r._pos3d;if(r._webAudio){var o=i?r._nodeById(i):r._activeNode();o&&(r._pos3d=[t,e,n],o.panner.setPosition(t,e,n),o.panner.panningModel=r._model||"HRTF")}return r},fade:function(t,e,n,i,r){var o=this,a=Math.abs(t-e),s=t>e?"down":"up",l=a/.01,u=n/l;if(!o._loaded)return o.on("load",function(){o.fade(t,e,n,i,r)}),o;o.volume(t,r);for(var h=1;l>=h;h++)!function(){var t=o._volume+("up"===s?.01:-.01)*h,n=Math.round(1e3*t)/1e3,a=e;setTimeout(function(){o.volume(n,r),n===a&&i&&i()},u*h)}()},fadeIn:function(t,e,n){return this.volume(0).play().fade(0,t,e,n)},fadeOut:function(t,e,n,i){var r=this;return r.fade(r._volume,t,e,function(){n&&n(),r.pause(i),r.on("end")},i)},_nodeById:function(t){for(var e=this,n=e._audioNode[0],i=0;i<e._audioNode.length;i++)if(e._audioNode[i].id===t){n=e._audioNode[i];break}return n},_activeNode:function(){for(var t=this,e=null,n=0;n<t._audioNode.length;n++)if(!t._audioNode[n].paused){e=t._audioNode[n];break}return t._drainPool(),e},_inactiveNode:function(t){for(var e=this,n=null,i=0;i<e._audioNode.length;i++)if(e._audioNode[i].paused&&4===e._audioNode[i].readyState){t(e._audioNode[i]),n=!0;break}if(e._drainPool(),!n){var r;if(e._webAudio)r=e._setupAudioNode(),t(r);else{e.load(),r=e._audioNode[e._audioNode.length-1];var o=navigator.isCocoonJS?"canplaythrough":"loadedmetadata",a=function(){r.removeEventListener(o,a,!1),t(r)};r.addEventListener(o,a,!1)}}},_drainPool:function(){var t,e=this,n=0;for(t=0;t<e._audioNode.length;t++)e._audioNode[t].paused&&n++;for(t=e._audioNode.length-1;t>=0&&!(5>=n);t--)e._audioNode[t].paused&&(e._webAudio&&e._audioNode[t].disconnect(0),n--,e._audioNode.splice(t,1))},_clearEndTimer:function(t){for(var e=this,n=-1,i=0;i<e._onendTimer.length;i++)if(e._onendTimer[i].id===t){n=i;break}var r=e._onendTimer[n];r&&(clearTimeout(r.timer),e._onendTimer.splice(n,1))},_setupAudioNode:function(){var t=this,e=t._audioNode,i=t._audioNode.length;return e[i]="undefined"==typeof n.createGain?n.createGainNode():n.createGain(),e[i].gain.value=t._volume,e[i].paused=!0,e[i]._pos=0,e[i].readyState=4,e[i].connect(o),e[i].panner=n.createPanner(),e[i].panner.panningModel=t._model||"equalpower",e[i].panner.setPosition(t._pos3d[0],t._pos3d[1],t._pos3d[2]),e[i].panner.connect(e[i]),e[i]},on:function(t,e){var n=this,i=n["_on"+t];if("function"==typeof e)i.push(e);else for(var r=0;r<i.length;r++)e?i[r].call(n,e):i[r].call(n);return n},off:function(t,e){var n=this,i=n["_on"+t];if(e){for(var r=0;r<i.length;r++)if(e===i[r]){i.splice(r,1);break}}else n["_on"+t]=[];return n},unload:function(){for(var e=this,n=e._audioNode,i=0;i<e._audioNode.length;i++)n[i].paused||(e.stop(n[i].id),e.on("end",n[i].id)),e._webAudio?n[i].disconnect(0):n[i].src="";for(i=0;i<e._onendTimer.length;i++)clearTimeout(e._onendTimer[i].timer);var r=u._howls.indexOf(e);null!==r&&r>=0&&u._howls.splice(r,1),delete t[e._src],e=null}},i)var c=function(e,n){if(n in t)return e._duration=t[n].duration,void p(e);if(/^data:[^;]+;base64,/.test(n)){for(var i=atob(n.split(",")[1]),r=new Uint8Array(i.length),o=0;o<i.length;++o)r[o]=i.charCodeAt(o);d(r.buffer,e,n)}else{var a=new XMLHttpRequest;a.open("GET",n,!0),a.responseType="arraybuffer",a.onload=function(){d(a.response,e,n)},a.onerror=function(){e._webAudio&&(e._buffer=!0,e._webAudio=!1,e._audioNode=[],delete e._gainNode,delete t[n],e.load())};try{a.send()}catch(t){a.onerror()}}},d=function(e,i,r){n.decodeAudioData(e,function(e){e&&(t[r]=e,p(i,e))},function(t){i.on("loaderror",t)})},p=function(t,e){t._duration=e?e.duration:t._duration,0===Object.getOwnPropertyNames(t._sprite).length&&(t._sprite={_default:[0,1e3*t._duration]}),t._loaded||(t._loaded=!0,t.on("load")),t._autoplay&&t.play()},f=function(e,i,r){var o=e._nodeById(r);o.bufferSource=n.createBufferSource(),o.bufferSource.buffer=t[e._src],o.bufferSource.connect(o.panner),o.bufferSource.loop=i[0],i[0]&&(o.bufferSource.loopStart=i[1],o.bufferSource.loopEnd=i[1]+i[2]),o.bufferSource.playbackRate.value=e._rate};"function"==typeof define&&define.amd&&define(function(){return{Howler:u,Howl:h}}),"undefined"!=typeof e&&(e.Howler=u,e.Howl=h),"undefined"!=typeof window&&(window.Howler=u,window.Howl=h)}()},function(t,e,n){var i,r;(function(n){!function(){"use strict";var o=function(){this.init()};o.prototype={init:function(){var t=this||a;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var e=this||a;if(t=parseFloat(t),e.ctx||f(),"undefined"!=typeof t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t,a.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var i=e._howls[n]._getSoundIds(),r=0;r<i.length;r++){var o=e._howls[n]._soundById(i[r]);o&&o._node&&(o._node.volume=o._volume*t)}return e}return e._volume},mute:function(t){var e=this||a;e.ctx||f(),e._muted=t,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t?0:e._volume,a.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var i=e._howls[n]._getSoundIds(),r=0;r<i.length;r++){var o=e._howls[n]._soundById(i[r]);o&&o._node&&(o._node.muted=!!t||o._muted)}return e},unload:function(){for(var t=this||a,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&"undefined"!=typeof t.ctx.close&&(t.ctx.close(),t.ctx=null,f()),t},codecs:function(t){return(this||a)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||a;if(t.state=t.ctx?t.ctx.state||"suspended":"suspended",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{var e=new Audio;"undefined"==typeof e.oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{var e=new Audio;e.muted&&(t.noAudio=!0)}catch(t){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||a,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(e){return t}if(!e||"function"!=typeof e.canPlayType)return t;var n=e.canPlayType("audio/mpeg;").replace(/^no$/,""),i=t._navigator&&t._navigator.userAgent.match(/OPR\/([0-6].)/g),r=i&&parseInt(i[0].split("/")[1],10)<33;return t._codecs={mp3:!(r||!n&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||a,e=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi|Chrome|Safari/i.test(t._navigator&&t._navigator.userAgent);if(!t._audioUnlocked&&t.ctx&&e){t._audioUnlocked=!1,t.autoUnlock=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var n=function(e){for(var i=0;i<t.html5PoolSize;i++){var r=new Audio;r._unlocked=!0,t._releaseHtml5Audio(r)}for(var i=0;i<t._howls.length;i++)if(!t._howls[i]._webAudio)for(var o=t._howls[i]._getSoundIds(),a=0;a<o.length;a++){var s=t._howls[i]._soundById(o[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}t._autoResume();var l=t.ctx.createBufferSource();l.buffer=t._scratchBuffer,l.connect(t.ctx.destination),"undefined"==typeof l.start?l.noteOn(0):l.start(0),"function"==typeof t.ctx.resume&&t.ctx.resume(),l.onended=function(){l.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",n,!0),document.removeEventListener("touchend",n,!0),document.removeEventListener("click",n,!0);for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("unlock")}};return document.addEventListener("touchstart",n,!0),document.addEventListener("touchend",n,!0),document.addEventListener("click",n,!0),t}},_obtainHtml5Audio:function(){var t=this||a;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var e=(new Audio).play();return e&&"undefined"!=typeof Promise&&(e instanceof Promise||"function"==typeof e.then)&&e.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(t){var e=this||a;return t._unlocked&&e._html5AudioPool.push(t),e},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&"undefined"!=typeof t.ctx.suspend&&a.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var n=0;n<t._howls[e]._sounds.length;n++)if(!t._howls[e]._sounds[n]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout(function(){t.autoSuspend&&(t._suspendTimer=null,t.state="suspending",t.ctx.suspend().then(function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())}))},3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&"undefined"!=typeof t.ctx.resume&&a.usingWebAudio)return"running"===t.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state?(t.ctx.resume().then(function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")}),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var a=new o,s=function(t){var e=this;return t.src&&0!==t.src.length?void e.init(t):void console.error("An array of source files must be passed with any new Howl.")};s.prototype={init:function(t){var e=this;return a.ctx||f(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._xhrWithCredentials=t.xhrWithCredentials||!1,e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onunlock=t.onunlock?[{fn:t.onunlock}]:[],e._onresume=[],e._webAudio=a.usingWebAudio&&!e._html5,"undefined"!=typeof a.ctx&&a.ctx&&a.autoUnlock&&a._unlockAudio(),a._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&e.load(),e},load:function(){var t=this,e=null;if(a.noAudio)return void t._emit("loaderror",null,"No audio support.");"string"==typeof t._src&&(t._src=[t._src]);for(var n=0;n<t._src.length;n++){var i,r;if(t._format&&t._format[n])i=t._format[n];else{if(r=t._src[n],"string"!=typeof r){t._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}i=/^data:audio\/([^;,]+);/i.exec(r),i||(i=/\.([^.]+)$/.exec(r.split("?",1)[0])),i&&(i=i[1].toLowerCase())}if(i||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),i&&a.codecs(i)){e=t._src[n];break}}return e?(t._src=e,t._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(t._html5=!0,t._webAudio=!1),new l(t),t._webAudio&&h(t),t):void t._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(t,e){var n=this,i=null;if("number"==typeof t)i=t,t=null;else{if("string"==typeof t&&"loaded"===n._state&&!n._sprite[t])return null;if("undefined"==typeof t&&(t="__default",!n._playLock)){for(var r=0,o=0;o<n._sounds.length;o++)n._sounds[o]._paused&&!n._sounds[o]._ended&&(r++,i=n._sounds[o]._id);1===r?t=null:i=null}}var s=i?n._soundById(i):n._inactiveSound();if(!s)return null;if(i&&!t&&(t=s._sprite||"__default"),"loaded"!==n._state){s._sprite=t,s._ended=!1;var l=s._id;return n._queue.push({event:"play",action:function(){n.play(l)}}),l}if(i&&!s._paused)return e||n._loadQueue("play"),s._id;n._webAudio&&a._autoResume();var u=Math.max(0,s._seek>0?s._seek:n._sprite[t][0]/1e3),h=Math.max(0,(n._sprite[t][0]+n._sprite[t][1])/1e3-u),c=1e3*h/Math.abs(s._rate),d=n._sprite[t][0]/1e3,p=(n._sprite[t][0]+n._sprite[t][1])/1e3,f=!(!s._loop&&!n._sprite[t][2]);s._sprite=t,s._ended=!1;var _=function(){s._paused=!1,s._seek=u,s._start=d,s._stop=p,s._loop=f};if(u>=p)return void n._ended(s);var m=s._node;if(n._webAudio){var y=function(){n._playLock=!1,_(),n._refreshBuffer(s);var t=s._muted||n._muted?0:s._volume;m.gain.setValueAtTime(t,a.ctx.currentTime),s._playStart=a.ctx.currentTime,"undefined"==typeof m.bufferSource.start?s._loop?m.bufferSource.noteGrainOn(0,u,86400):m.bufferSource.noteGrainOn(0,u,h):s._loop?m.bufferSource.start(0,u,86400):m.bufferSource.start(0,u,h),c!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),c)),e||setTimeout(function(){n._emit("play",s._id),n._loadQueue()},0)};"running"===a.state?y():(n._playLock=!0,n.once("resume",y),n._clearTimer(s._id))}else{var v=function(){m.currentTime=u,m.muted=s._muted||n._muted||a._muted||m.muted,m.volume=s._volume*a.volume(),m.playbackRate=s._rate;try{var i=m.play();if(i&&"undefined"!=typeof Promise&&(i instanceof Promise||"function"==typeof i.then)?(n._playLock=!0,_(),i.then(function(){n._playLock=!1,m._unlocked=!0,e||(n._emit("play",s._id),n._loadQueue())}).catch(function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0})):e||(n._playLock=!1,_(),n._emit("play",s._id),n._loadQueue()),m.playbackRate=s._rate,m.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),c):(n._endTimers[s._id]=function(){n._ended(s),m.removeEventListener("ended",n._endTimers[s._id],!1)},m.addEventListener("ended",n._endTimers[s._id],!1))}catch(t){n._emit("playerror",s._id,t)}},g=window&&window.ejecta||!m.readyState&&a._navigator.isCocoonJS;if(m.readyState>=3||g)v();else{n._playLock=!0;var T=function(){v(),m.removeEventListener(a._canPlayEvent,T,!1)};m.addEventListener(a._canPlayEvent,T,!1),n._clearTimer(s._id)}}return s._id},pause:function(t){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var n=e._getSoundIds(t),i=0;i<n.length;i++){e._clearTimer(n[i]);var r=e._soundById(n[i]);if(r&&!r._paused&&(r._seek=e.seek(n[i]),r._rateSeek=0,r._paused=!0,e._stopFade(n[i]),r._node))if(e._webAudio){if(!r._node.bufferSource)continue;"undefined"==typeof r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),e._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();arguments[1]||e._emit("pause",r?r._id:null)}return e},stop:function(t,e){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(t)}}),n;for(var i=n._getSoundIds(t),r=0;r<i.length;r++){n._clearTimer(i[r]);var o=n._soundById(i[r]);o&&(o._seek=o._start||0,o._rateSeek=0,o._paused=!0,o._ended=!0,n._stopFade(i[r]),o._node&&(n._webAudio?o._node.bufferSource&&("undefined"==typeof o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),n._cleanBuffer(o._node)):isNaN(o._node.duration)&&o._node.duration!==1/0||(o._node.currentTime=o._start||0,o._node.pause())),e||n._emit("stop",o._id))}return n},mute:function(t,e){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(t,e)}}),n;if("undefined"==typeof e){if("boolean"!=typeof t)return n._muted;n._muted=t}for(var i=n._getSoundIds(e),r=0;r<i.length;r++){var o=n._soundById(i[r]);o&&(o._muted=t,o._interval&&n._stopFade(o._id),n._webAudio&&o._node?o._node.gain.setValueAtTime(t?0:o._volume,a.ctx.currentTime):o._node&&(o._node.muted=!!a._muted||t),n._emit("mute",o._id))}return n},volume:function(){var t,e,n=this,i=arguments;if(0===i.length)return n._volume;if(1===i.length||2===i.length&&"undefined"==typeof i[1]){var r=n._getSoundIds(),o=r.indexOf(i[0]);o>=0?e=parseInt(i[0],10):t=parseFloat(i[0])}else i.length>=2&&(t=parseFloat(i[0]),e=parseInt(i[1],10));var s;if(!("undefined"!=typeof t&&t>=0&&t<=1))return s=e?n._soundById(e):n._sounds[0],s?s._volume:0;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"volume",action:function(){n.volume.apply(n,i)}}),n;"undefined"==typeof e&&(n._volume=t),e=n._getSoundIds(e);for(var l=0;l<e.length;l++)s=n._soundById(e[l]),s&&(s._volume=t,i[2]||n._stopFade(e[l]),n._webAudio&&s._node&&!s._muted?s._node.gain.setValueAtTime(t,a.ctx.currentTime):s._node&&!s._muted&&(s._node.volume=t*a.volume()),n._emit("volume",s._id));return n},fade:function(t,e,n,i){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"fade",action:function(){r.fade(t,e,n,i)}}),r;t=parseFloat(t),e=parseFloat(e),n=parseFloat(n),r.volume(t,i);for(var o=r._getSoundIds(i),s=0;s<o.length;s++){var l=r._soundById(o[s]);if(l){if(i||r._stopFade(o[s]),r._webAudio&&!l._muted){var u=a.ctx.currentTime,h=u+n/1e3;l._volume=t,l._node.gain.setValueAtTime(t,u),l._node.gain.linearRampToValueAtTime(e,h)}r._startFadeInterval(l,t,e,n,o[s],"undefined"==typeof i)}}return r},_startFadeInterval:function(t,e,n,i,r,o){var a=this,s=e,l=n-e,u=Math.abs(l/.01),h=Math.max(4,u>0?i/u:i),c=Date.now();t._fadeTo=n,t._interval=setInterval(function(){var r=(Date.now()-c)/i;c=Date.now(),s+=l*r,s=Math.max(0,s),s=Math.min(1,s),s=Math.round(100*s)/100,a._webAudio?t._volume=s:a.volume(s,t._id,!0),o&&(a._volume=s),(n<e&&s<=n||n>e&&s>=n)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,a.volume(n,t._id),a._emit("fade",t._id))},h)},_stopFade:function(t){var e=this,n=e._soundById(t);return n&&n._interval&&(e._webAudio&&n._node.gain.cancelScheduledValues(a.ctx.currentTime),clearInterval(n._interval),n._interval=null,e.volume(n._fadeTo,t),n._fadeTo=null,e._emit("fade",t)),e},loop:function(){var t,e,n,i=this,r=arguments;if(0===r.length)return i._loop;if(1===r.length){if("boolean"!=typeof r[0])return n=i._soundById(parseInt(r[0],10)),!!n&&n._loop;t=r[0],i._loop=t}else 2===r.length&&(t=r[0],e=parseInt(r[1],10));for(var o=i._getSoundIds(e),a=0;a<o.length;a++)n=i._soundById(o[a]),n&&(n._loop=t,i._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=t,t&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop)));return i},rate:function(){var t,e,n=this,i=arguments;if(0===i.length)e=n._sounds[0]._id;else if(1===i.length){var r=n._getSoundIds(),o=r.indexOf(i[0]);o>=0?e=parseInt(i[0],10):t=parseFloat(i[0])}else 2===i.length&&(t=parseFloat(i[0]),e=parseInt(i[1],10));var s;if("number"!=typeof t)return s=n._soundById(e),s?s._rate:n._rate;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,i)}}),n;"undefined"==typeof e&&(n._rate=t),e=n._getSoundIds(e);for(var l=0;l<e.length;l++)if(s=n._soundById(e[l])){n.playing(e[l])&&(s._rateSeek=n.seek(e[l]),s._playStart=n._webAudio?a.ctx.currentTime:s._playStart),s._rate=t,n._webAudio&&s._node&&s._node.bufferSource?s._node.bufferSource.playbackRate.setValueAtTime(t,a.ctx.currentTime):s._node&&(s._node.playbackRate=t);var u=n.seek(e[l]),h=(n._sprite[s._sprite][0]+n._sprite[s._sprite][1])/1e3-u,c=1e3*h/Math.abs(s._rate);!n._endTimers[e[l]]&&s._paused||(n._clearTimer(e[l]),n._endTimers[e[l]]=setTimeout(n._ended.bind(n,s),c)),n._emit("rate",s._id)}return n},seek:function(){var t,e,n=this,i=arguments;if(0===i.length)e=n._sounds[0]._id;else if(1===i.length){var r=n._getSoundIds(),o=r.indexOf(i[0]);o>=0?e=parseInt(i[0],10):n._sounds.length&&(e=n._sounds[0]._id,t=parseFloat(i[0]))}else 2===i.length&&(t=parseFloat(i[0]),e=parseInt(i[1],10));if("undefined"==typeof e)return n;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,i)}}),n;var s=n._soundById(e);if(s){if(!("number"==typeof t&&t>=0)){if(n._webAudio){var l=n.playing(e)?a.ctx.currentTime-s._playStart:0,u=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(u+l*Math.abs(s._rate))}return s._node.currentTime}var h=n.playing(e);h&&n.pause(e,!0),s._seek=t,s._ended=!1,n._clearTimer(e),n._webAudio||!s._node||isNaN(s._node.duration)||(s._node.currentTime=t);var c=function(){n._emit("seek",e),h&&n.play(e,!0)};if(h&&!n._webAudio){var d=function(){n._playLock?setTimeout(d,0):c()};setTimeout(d,0)}else c()}return n},playing:function(t){var e=this;if("number"==typeof t){var n=e._soundById(t);return!!n&&!n._paused}for(var i=0;i<e._sounds.length;i++)if(!e._sounds[i]._paused)return!0;return!1},duration:function(t){var e=this,n=e._duration,i=e._soundById(t);return i&&(n=e._sprite[i._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,n=0;n<e.length;n++){if(e[n]._paused||t.stop(e[n]._id),!t._webAudio){var i=/MSIE |Trident\//.test(a._navigator&&a._navigator.userAgent);i||(e[n]._node.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"),e[n]._node.removeEventListener("error",e[n]._errorFn,!1),e[n]._node.removeEventListener(a._canPlayEvent,e[n]._loadFn,!1),a._releaseHtml5Audio(e[n]._node)}delete e[n]._node,t._clearTimer(e[n]._id)}var r=a._howls.indexOf(t);r>=0&&a._howls.splice(r,1);var o=!0;for(n=0;n<a._howls.length;n++)if(a._howls[n]._src===t._src||t._src.indexOf(a._howls[n]._src)>=0){o=!1;break}return u&&o&&delete u[t._src],a.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,n,i){var r=this,o=r["_on"+t];return"function"==typeof e&&o.push(i?{id:n,fn:e,once:i}:{id:n,fn:e}),r},off:function(t,e,n){var i=this,r=i["_on"+t],o=0;if("number"==typeof e&&(n=e,e=null),e||n)for(o=0;o<r.length;o++){var a=n===r[o].id;if(e===r[o].fn&&a||!e&&a){r.splice(o,1);break}}else if(t)i["_on"+t]=[];else{var s=Object.keys(i);for(o=0;o<s.length;o++)0===s[o].indexOf("_on")&&Array.isArray(i[s[o]])&&(i[s[o]]=[])}return i},once:function(t,e,n){var i=this;return i.on(t,e,n,1),i},_emit:function(t,e,n){for(var i=this,r=i["_on"+t],o=r.length-1;o>=0;o--)r[o].id&&r[o].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,n)}.bind(i,r[o].fn),0),r[o].once&&i.off(t,r[o].fn,r[o].id));return i._loadQueue(t),i},_loadQueue:function(t){var e=this;if(e._queue.length>0){var n=e._queue[0];n.event===t&&(e._queue.shift(),e._loadQueue()),t||n.action()}return e},_ended:function(t){var e=this,n=t._sprite;if(!e._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(e._ended.bind(e,t),100),e;var i=!(!t._loop&&!e._sprite[n][2]);if(e._emit("end",t._id),!e._webAudio&&i&&e.stop(t._id,!0).play(t._id),e._webAudio&&i){e._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=a.ctx.currentTime;var r=1e3*(t._stop-t._start)/Math.abs(t._rate);e._endTimers[t._id]=setTimeout(e._ended.bind(e,t),r)}return e._webAudio&&!i&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,e._clearTimer(t._id),e._cleanBuffer(t._node),a._autoSuspend()),e._webAudio||i||e.stop(t._id,!0),e},_clearTimer:function(t){var e=this;if(e._endTimers[t]){if("function"!=typeof e._endTimers[t])clearTimeout(e._endTimers[t]);else{var n=e._soundById(t);n&&n._node&&n._node.removeEventListener("ended",e._endTimers[t],!1)}delete e._endTimers[t]}return e},_soundById:function(t){for(var e=this,n=0;n<e._sounds.length;n++)if(t===e._sounds[n]._id)return e._sounds[n];
return null},_inactiveSound:function(){var t=this;t._drain();for(var e=0;e<t._sounds.length;e++)if(t._sounds[e]._ended)return t._sounds[e].reset();return new l(t)},_drain:function(){var t=this,e=t._pool,n=0,i=0;if(!(t._sounds.length<e)){for(i=0;i<t._sounds.length;i++)t._sounds[i]._ended&&n++;for(i=t._sounds.length-1;i>=0;i--){if(n<=e)return;t._sounds[i]._ended&&(t._webAudio&&t._sounds[i]._node&&t._sounds[i]._node.disconnect(0),t._sounds.splice(i,1),n--)}}},_getSoundIds:function(t){var e=this;if("undefined"==typeof t){for(var n=[],i=0;i<e._sounds.length;i++)n.push(e._sounds[i]._id);return n}return[t]},_refreshBuffer:function(t){var e=this;return t._node.bufferSource=a.ctx.createBufferSource(),t._node.bufferSource.buffer=u[e._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,a.ctx.currentTime),e},_cleanBuffer:function(t){var e=this,n=a._navigator&&a._navigator.vendor.indexOf("Apple")>=0;if(a._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),n))try{t.bufferSource.buffer=a._scratchBuffer}catch(t){}return t.bufferSource=null,e}};var l=function(t){this._parent=t,this.init()};l.prototype={init:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._rate=e._rate,t._seek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++a._counter,e._sounds.push(t),t.create(),t},create:function(){var t=this,e=t._parent,n=a._muted||t._muted||t._parent._muted?0:t._volume;return e._webAudio?(t._node="undefined"==typeof a.ctx.createGain?a.ctx.createGainNode():a.ctx.createGain(),t._node.gain.setValueAtTime(n,a.ctx.currentTime),t._node.paused=!0,t._node.connect(a.masterGain)):(t._node=a._obtainHtml5Audio(),t._errorFn=t._errorListener.bind(t),t._node.addEventListener("error",t._errorFn,!1),t._loadFn=t._loadListener.bind(t),t._node.addEventListener(a._canPlayEvent,t._loadFn,!1),t._node.src=e._src,t._node.preload="auto",t._node.volume=n*a.volume(),t._node.load()),t},reset:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._rate=e._rate,t._seek=0,t._rateSeek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++a._counter,t},_errorListener:function(){var t=this;t._parent._emit("loaderror",t._id,t._node.error?t._node.error.code:0),t._node.removeEventListener("error",t._errorFn,!1)},_loadListener:function(){var t=this,e=t._parent;e._duration=Math.ceil(10*t._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),t._node.removeEventListener(a._canPlayEvent,t._loadFn,!1)}};var u={},h=function(t){var e=t._src;if(u[e])return t._duration=u[e].duration,void p(t);if(/^data:[^;]+;base64,/.test(e)){for(var n=atob(e.split(",")[1]),i=new Uint8Array(n.length),r=0;r<n.length;++r)i[r]=n.charCodeAt(r);d(i.buffer,t)}else{var o=new XMLHttpRequest;o.open("GET",e,!0),o.withCredentials=t._xhrWithCredentials,o.responseType="arraybuffer",o.onload=function(){var e=(o.status+"")[0];return"0"!==e&&"2"!==e&&"3"!==e?void t._emit("loaderror",null,"Failed loading audio file with status: "+o.status+"."):void d(o.response,t)},o.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete u[e],t.load())},c(o)}},c=function(t){try{t.send()}catch(e){t.onerror()}},d=function(t,e){var n=function(){e._emit("loaderror",null,"Decoding audio data failed.")},i=function(t){t&&e._sounds.length>0?(u[e._src]=t,p(e,t)):n()};"undefined"!=typeof Promise&&1===a.ctx.decodeAudioData.length?a.ctx.decodeAudioData(t).then(i).catch(n):a.ctx.decodeAudioData(t,i,n)},p=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},f=function(){if(a.usingWebAudio){try{"undefined"!=typeof AudioContext?a.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?a.ctx=new webkitAudioContext:a.usingWebAudio=!1}catch(t){a.usingWebAudio=!1}a.ctx||(a.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(a._navigator&&a._navigator.platform),e=a._navigator&&a._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=e?parseInt(e[1],10):null;if(t&&n&&n<9){var i=/safari/.test(a._navigator&&a._navigator.userAgent.toLowerCase());(a._navigator&&a._navigator.standalone&&!i||a._navigator&&!a._navigator.standalone&&!i)&&(a.usingWebAudio=!1)}a.usingWebAudio&&(a.masterGain="undefined"==typeof a.ctx.createGain?a.ctx.createGainNode():a.ctx.createGain(),a.masterGain.gain.setValueAtTime(a._muted?0:1,a.ctx.currentTime),a.masterGain.connect(a.ctx.destination)),a._setup()}};i=[],r=function(){return{Howler:a,Howl:s}}.apply(e,i),!(void 0!==r&&(t.exports=r)),e.Howler=a,e.Howl=s,"undefined"!=typeof window?(window.HowlerGlobal=o,window.Howler=a,window.Howl=s,window.Sound=l):"undefined"!=typeof n&&(n.HowlerGlobal=o,n.Howler=a,n.Howl=s,n.Sound=l)}(),function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var e=this;if(!e.ctx||!e.ctx.listener)return e;for(var n=e._howls.length-1;n>=0;n--)e._howls[n].stereo(t);return e},HowlerGlobal.prototype.pos=function(t,e,n){var i=this;return i.ctx&&i.ctx.listener?(e="number"!=typeof e?i._pos[1]:e,n="number"!=typeof n?i._pos[2]:n,"number"!=typeof t?i._pos:(i._pos=[t,e,n],"undefined"!=typeof i.ctx.listener.positionX?(i.ctx.listener.positionX.setTargetAtTime(i._pos[0],Howler.ctx.currentTime,.1),i.ctx.listener.positionY.setTargetAtTime(i._pos[1],Howler.ctx.currentTime,.1),i.ctx.listener.positionZ.setTargetAtTime(i._pos[2],Howler.ctx.currentTime,.1)):i.ctx.listener.setPosition(i._pos[0],i._pos[1],i._pos[2]),i)):i},HowlerGlobal.prototype.orientation=function(t,e,n,i,r,o){var a=this;if(!a.ctx||!a.ctx.listener)return a;var s=a._orientation;return e="number"!=typeof e?s[1]:e,n="number"!=typeof n?s[2]:n,i="number"!=typeof i?s[3]:i,r="number"!=typeof r?s[4]:r,o="number"!=typeof o?s[5]:o,"number"!=typeof t?s:(a._orientation=[t,e,n,i,r,o],"undefined"!=typeof a.ctx.listener.forwardX?(a.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(n,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(t,e,n,i,r,o),a)},Howl.prototype.init=function(t){return function(e){var n=this;return n._orientation=e.orientation||[1,0,0],n._stereo=e.stereo||null,n._pos=e.pos||null,n._pannerAttr={coneInnerAngle:"undefined"!=typeof e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:"undefined"!=typeof e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:"undefined"!=typeof e.coneOuterGain?e.coneOuterGain:0,distanceModel:"undefined"!=typeof e.distanceModel?e.distanceModel:"inverse",maxDistance:"undefined"!=typeof e.maxDistance?e.maxDistance:1e4,panningModel:"undefined"!=typeof e.panningModel?e.panningModel:"HRTF",refDistance:"undefined"!=typeof e.refDistance?e.refDistance:1,rolloffFactor:"undefined"!=typeof e.rolloffFactor?e.rolloffFactor:1},n._onstereo=e.onstereo?[{fn:e.onstereo}]:[],n._onpos=e.onpos?[{fn:e.onpos}]:[],n._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}}(Howl.prototype.init),Howl.prototype.stereo=function(e,n){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"stereo",action:function(){i.stereo(e,n)}}),i;var r="undefined"==typeof Howler.ctx.createStereoPanner?"spatial":"stereo";if("undefined"==typeof n){if("number"!=typeof e)return i._stereo;i._stereo=e,i._pos=[e,0,0]}for(var o=i._getSoundIds(n),a=0;a<o.length;a++){var s=i._soundById(o[a]);if(s){if("number"!=typeof e)return s._stereo;s._stereo=e,s._pos=[e,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||t(s,r),"spatial"===r?"undefined"!=typeof s._panner.positionX?(s._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(e,0,0):s._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),i._emit("stereo",s._id)}}return i},Howl.prototype.pos=function(e,n,i,r){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(e,n,i,r)}}),o;if(n="number"!=typeof n?0:n,i="number"!=typeof i?-.5:i,"undefined"==typeof r){if("number"!=typeof e)return o._pos;o._pos=[e,n,i]}for(var a=o._getSoundIds(r),s=0;s<a.length;s++){var l=o._soundById(a[s]);if(l){if("number"!=typeof e)return l._pos;l._pos=[e,n,i],l._node&&(l._panner&&!l._panner.pan||t(l,"spatial"),"undefined"!=typeof l._panner.positionX?(l._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):l._panner.setPosition(e,n,i)),o._emit("pos",l._id)}}return o},Howl.prototype.orientation=function(e,n,i,r){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(e,n,i,r)}}),o;if(n="number"!=typeof n?o._orientation[1]:n,i="number"!=typeof i?o._orientation[2]:i,"undefined"==typeof r){if("number"!=typeof e)return o._orientation;o._orientation=[e,n,i]}for(var a=o._getSoundIds(r),s=0;s<a.length;s++){var l=o._soundById(a[s]);if(l){if("number"!=typeof e)return l._orientation;l._orientation=[e,n,i],l._node&&(l._panner||(l._pos||(l._pos=o._pos||[0,0,-.5]),t(l,"spatial")),"undefined"!=typeof l._panner.orientationX?(l._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):l._panner.setOrientation(e,n,i)),o._emit("orientation",l._id)}}return o},Howl.prototype.pannerAttr=function(){var e,n,i,r=this,o=arguments;if(!r._webAudio)return r;if(0===o.length)return r._pannerAttr;if(1===o.length){if("object"!=typeof o[0])return i=r._soundById(parseInt(o[0],10)),i?i._pannerAttr:r._pannerAttr;e=o[0],"undefined"==typeof n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),r._pannerAttr={coneInnerAngle:"undefined"!=typeof e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:"undefined"!=typeof e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:"undefined"!=typeof e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:"undefined"!=typeof e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:r._distanceModel,maxDistance:"undefined"!=typeof e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:r._maxDistance,refDistance:"undefined"!=typeof e.pannerAttr.refDistance?e.pannerAttr.refDistance:r._refDistance,rolloffFactor:"undefined"!=typeof e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:"undefined"!=typeof e.pannerAttr.panningModel?e.pannerAttr.panningModel:r._panningModel})}else 2===o.length&&(e=o[0],n=parseInt(o[1],10));for(var a=r._getSoundIds(n),s=0;s<a.length;s++)if(i=r._soundById(a[s])){var l=i._pannerAttr;l={coneInnerAngle:"undefined"!=typeof e.coneInnerAngle?e.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:"undefined"!=typeof e.coneOuterAngle?e.coneOuterAngle:l.coneOuterAngle,coneOuterGain:"undefined"!=typeof e.coneOuterGain?e.coneOuterGain:l.coneOuterGain,distanceModel:"undefined"!=typeof e.distanceModel?e.distanceModel:l.distanceModel,maxDistance:"undefined"!=typeof e.maxDistance?e.maxDistance:l.maxDistance,refDistance:"undefined"!=typeof e.refDistance?e.refDistance:l.refDistance,rolloffFactor:"undefined"!=typeof e.rolloffFactor?e.rolloffFactor:l.rolloffFactor,panningModel:"undefined"!=typeof e.panningModel?e.panningModel:l.panningModel};var u=i._panner;u?(u.coneInnerAngle=l.coneInnerAngle,u.coneOuterAngle=l.coneOuterAngle,u.coneOuterGain=l.coneOuterGain,u.distanceModel=l.distanceModel,u.maxDistance=l.maxDistance,u.refDistance=l.refDistance,u.rolloffFactor=l.rolloffFactor,u.panningModel=l.panningModel):(i._pos||(i._pos=r._pos||[0,0,-.5]),t(i,"spatial"))}return r},Sound.prototype.init=function(t){return function(){var e=this,n=e._parent;e._orientation=n._orientation,e._stereo=n._stereo,e._pos=n._pos,e._pannerAttr=n._pannerAttr,t.call(this),e._stereo?n.stereo(e._stereo):e._pos&&n.pos(e._pos[0],e._pos[1],e._pos[2],e._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this,n=e._parent;return e._orientation=n._orientation,e._stereo=n._stereo,e._pos=n._pos,e._pannerAttr=n._pannerAttr,e._stereo?n.stereo(e._stereo):e._pos?n.pos(e._pos[0],e._pos[1],e._pos[2],e._id):e._panner&&(e._panner.disconnect(0),e._panner=void 0,n._refreshBuffer(e)),t.call(this)}}(Sound.prototype.reset);var t=function(t,e){e=e||"spatial","spatial"===e?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,"undefined"!=typeof t._panner.positionX?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),"undefined"!=typeof t._panner.orientationX?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}()}).call(e,function(){return this}())},function(t,e){var n={_actionHandler:{},_showGameEnd:!0,_scoreChangleLog:[],_score:0,_playId:"",_gameSecret:"",_params:[],_arena_events_subscription:{},_arena_return_values_subscription:{},_TRUE_AS_STRING:String(!0).toLowerCase(),_messageSender:null,_postInitCallback:null,_c33a6f:function(t){function e(t,e){return t<<e|t>>>32-e}function n(t,e){var n,i,r,o,a;return r=2147483648&t,o=2147483648&e,n=1073741824&t,i=1073741824&e,a=(1073741823&t)+(1073741823&e),n&i?2147483648^a^r^o:n|i?1073741824&a?3221225472^a^r^o:1073741824^a^r^o:a^r^o}function i(t,e,n){return t&e|~t&n}function r(t,e,n){return t&n|e&~n}function o(t,e,n){return t^e^n}function a(t,e,n){return e^(t|~n)}function s(t,r,o,a,s,l,u){return t=n(t,n(n(i(r,o,a),s),u)),n(e(t,l),r)}function l(t,i,o,a,s,l,u){return t=n(t,n(n(r(i,o,a),s),u)),n(e(t,l),i)}function u(t,i,r,a,s,l,u){return t=n(t,n(n(o(i,r,a),s),u)),n(e(t,l),i)}function h(t,i,r,o,s,l,u){return t=n(t,n(n(a(i,r,o),s),u)),n(e(t,l),i)}function c(t){for(var e,n=t.length,i=n+8,r=(i-i%64)/64,o=16*(r+1),a=Array(o-1),s=0,l=0;l<n;)e=(l-l%4)/4,s=l%4*8,a[e]=a[e]|t.charCodeAt(l)<<s,l++;return e=(l-l%4)/4,s=l%4*8,a[e]=a[e]|128<<s,a[o-2]=n<<3,a[o-1]=n>>>29,a}function d(t){var e,n,i="",r="";for(n=0;n<=3;n++)e=t>>>8*n&255,r="0"+e.toString(16),i+=r.substr(r.length-2,2);return i}function p(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e}var f,_,m,y,v,g,T,A,b,S=Array(),E=7,w=12,C=17,P=22,x=5,M=9,O=14,D=20,I=4,N=11,L=16,B=23,R=6,k=10,G=15,F=21;for(t=p(t),S=c(t),g=1732584193,T=4023233417,A=2562383102,b=271733878,f=0;f<S.length;f+=16)_=g,m=T,y=A,v=b,g=s(g,T,A,b,S[f+0],E,3614090360),b=s(b,g,T,A,S[f+1],w,3905402710),A=s(A,b,g,T,S[f+2],C,606105819),T=s(T,A,b,g,S[f+3],P,3250441966),g=s(g,T,A,b,S[f+4],E,4118548399),b=s(b,g,T,A,S[f+5],w,1200080426),A=s(A,b,g,T,S[f+6],C,2821735955),T=s(T,A,b,g,S[f+7],P,4249261313),g=s(g,T,A,b,S[f+8],E,1770035416),b=s(b,g,T,A,S[f+9],w,2336552879),A=s(A,b,g,T,S[f+10],C,4294925233),T=s(T,A,b,g,S[f+11],P,2304563134),g=s(g,T,A,b,S[f+12],E,1804603682),b=s(b,g,T,A,S[f+13],w,4254626195),A=s(A,b,g,T,S[f+14],C,2792965006),T=s(T,A,b,g,S[f+15],P,1236535329),g=l(g,T,A,b,S[f+1],x,4129170786),b=l(b,g,T,A,S[f+6],M,3225465664),A=l(A,b,g,T,S[f+11],O,643717713),T=l(T,A,b,g,S[f+0],D,3921069994),g=l(g,T,A,b,S[f+5],x,3593408605),b=l(b,g,T,A,S[f+10],M,38016083),A=l(A,b,g,T,S[f+15],O,3634488961),T=l(T,A,b,g,S[f+4],D,3889429448),g=l(g,T,A,b,S[f+9],x,568446438),b=l(b,g,T,A,S[f+14],M,3275163606),A=l(A,b,g,T,S[f+3],O,4107603335),T=l(T,A,b,g,S[f+8],D,1163531501),g=l(g,T,A,b,S[f+13],x,2850285829),b=l(b,g,T,A,S[f+2],M,4243563512),A=l(A,b,g,T,S[f+7],O,1735328473),T=l(T,A,b,g,S[f+12],D,2368359562),g=u(g,T,A,b,S[f+5],I,4294588738),b=u(b,g,T,A,S[f+8],N,2272392833),A=u(A,b,g,T,S[f+11],L,1839030562),T=u(T,A,b,g,S[f+14],B,4259657740),g=u(g,T,A,b,S[f+1],I,2763975236),b=u(b,g,T,A,S[f+4],N,1272893353),A=u(A,b,g,T,S[f+7],L,4139469664),T=u(T,A,b,g,S[f+10],B,3200236656),g=u(g,T,A,b,S[f+13],I,681279174),b=u(b,g,T,A,S[f+0],N,3936430074),A=u(A,b,g,T,S[f+3],L,3572445317),T=u(T,A,b,g,S[f+6],B,76029189),g=u(g,T,A,b,S[f+9],I,3654602809),b=u(b,g,T,A,S[f+12],N,3873151461),A=u(A,b,g,T,S[f+15],L,530742520),T=u(T,A,b,g,S[f+2],B,3299628645),g=h(g,T,A,b,S[f+0],R,4096336452),b=h(b,g,T,A,S[f+7],k,1126891415),A=h(A,b,g,T,S[f+14],G,2878612391),T=h(T,A,b,g,S[f+5],F,4237533241),g=h(g,T,A,b,S[f+12],R,1700485571),b=h(b,g,T,A,S[f+3],k,2399980690),A=h(A,b,g,T,S[f+10],G,4293915773),T=h(T,A,b,g,S[f+1],F,2240044497),g=h(g,T,A,b,S[f+8],R,1873313359),b=h(b,g,T,A,S[f+15],k,4264355552),A=h(A,b,g,T,S[f+6],G,2734768916),T=h(T,A,b,g,S[f+13],F,1309151649),g=h(g,T,A,b,S[f+4],R,4149444226),b=h(b,g,T,A,S[f+11],k,3174756917),A=h(A,b,g,T,S[f+2],G,718787259),T=h(T,A,b,g,S[f+9],F,3951481745),g=n(g,_),T=n(T,m),A=n(A,y),b=n(b,v);var H=d(g)+d(T)+d(A)+d(b);return H.toLowerCase()},_urlEncode:function(){for(var t="",e=arguments,n=0;n<e.length;n++){var i=e[n].key,r=e[n].value;t+=i+"=";for(var o=0;o<r.length;o++)t+=r[o],o<r.length-1&&(t+=",");n<e.length-1&&(t+="&")}return t},_urlDecode:function(t){return decodeURIComponent((t+"").replace(/\+/g,"%20"))},_parseMessage:function(t){for(var e={empty:!0,events:[],actions:[],params:n._params,returnValues:[],show_game_end:n._showGameEnd,play_id:n._playId},i=t.split("&"),r=0;r<i.length;r++){var o=i[r].split("=");if(2===o.length){var a=o[0];"action"===a&&(a="actions");var s=decodeURIComponent(o[1]),l=s.split(",");if("events"===a||"actions"===a)e[a]=l,e.empty=!1;else if("get_values"===a)e.returnValues=l,e.empty=!1;else if("play_id"===a)e[a]=s,e.empty=!1;else if("show_game_end"===a)e[a]=s===n._TRUE_AS_STRING,e.empty=!1;else if(l.length>0){e.empty=!1;for(var u=!0,h=0;h<l.length;h++){for(var c=0;c<e.params.length;++c)if(e.params[c].name===a){e.params[c].value=decodeURIComponent(l[h]),u=!1;break}u&&e.params.push({name:a,value:decodeURIComponent(l[h])})}}}}return e},registerAction:function(t,e){n._actionHandler[t]=e},calcHash:function(t){return n._c33a6f(t.toString())},fireEventToArena:function(t,e){if(n._arena_events_subscription[t]===!0||"event_change"===t||"test_ready"===t){var i="event="+t;if("game_end"===t){i+="&score="+encodeURIComponent(n._score)+"&score_hash="+n._c33a6f(n._score.toString()+"_"+n._playId+"_"+n._gameSecret);for(var r in n._arena_return_values_subscription)"game_log"===r&&n._arena_return_values_subscription[r]===!0&&(i+="&game_log="+encodeURIComponent(JSON.stringify(n._scoreChangleLog)))}else e&&e.length>0&&(i+="&"+e);try{n._messageSender(i,"*")}catch(t){}}},showGameEnd:function(){return n._showGameEnd},changeScore:function(t,e){n._score=t,n._scoreChangleLog.push({score:t,time:(new Date).getTime(),comment:e})},setGameSecret:function(t){n._gameSecret=t},_handleMessageFromArena:function(t){n.doInit(t.data)},_iframe_messageSender:function(t){parent.postMessage(t,"*")},_arkPage_messageSender:function(t){arkPage.postMessage(t)},getParam:function(t,e){for(var i=0;i<n._params.length;++i)if(n._params[i].name===t)return n._params[i].value;return e},getValue:function(t){return n._c33a6f(t.toString())},init:function(t,e){if(n._postInitCallback="function"==typeof t?t:null,"arkPage"in window&&null!=arkPage.postMessage)n._messageSender=n._arkPage_messageSender,n._arkPage_messageSender("event=game_loaded&callback=ARK_game_arena_connector.doInit");else{n._messageSender=n._iframe_messageSender,window.addEventListener?window.addEventListener("message",n._handleMessageFromArena,!1):window.attachEvent("onmessage",n._handleMessageFromArena);var i;i=e?"".concat(window.location.search.substr(1),"&",e):window.location.search.substr(1),n.doInit(i)}},doInit:function(t){var e,i,r=n._parseMessage(t);if(r.empty)return void(null!==n._postInitCallback&&(n._postInitCallback(),n._postInitCallback=null));for(n._showGameEnd=r.show_game_end,n._playId=r.play_id,n._params=r.params,i=0;i<r.actions.length;++i)e=n._actionHandler[r.actions[i]],"function"==typeof e&&e(r.params);var o="";for(i=0;i<r.returnValues.length;++i)n._arena_return_values_subscription[r.returnValues[i]]=!0,"score"===r.returnValues[i]&&(o+="score="+encodeURIComponent(n._score)),"score_hash"===r.returnValues[i]&&(o+="&score_hash="+n._c33a6f(n._score.toString()+"_"+n._playId)),"game_log"===r.returnValues[i]&&(o+="&game_log="+encodeURIComponent(JSON.stringify(n._scoreChangleLog)));for(i=0;i<r.events.length;++i)n._arena_events_subscription[r.events[i]]=!0;o.length>0&&n._messageSender(o),null!==n._postInitCallback&&(n._postInitCallback(),n._postInitCallback=null)},initTestingEnvironment:function(){n.fireEventToArena("test_ready")}};t.exports=n},function(t,e){t.exports={1:[{name:"blackjack_player",file:"build/resources/assets/sounds/files/blackjack_player.mp3",format:["mp3"]},{name:"bust",file:"build/resources/assets/sounds/files/bust.mp3",format:["mp3"]},{name:"card_dealt",file:"build/resources/assets/sounds/files/card_dealt.mp3",format:["mp3"]},{name:"card_flick",file:"build/resources/assets/sounds/files/card_flick.mp3",format:["mp3"]},{name:"card_flip",file:"build/resources/assets/sounds/files/card_flip.mp3",format:["mp3"]},{name:"cash_in",file:"build/resources/assets/sounds/files/cash_in.mp3",format:["mp3"]},{name:"chip",file:"build/resources/assets/sounds/files/chip.mp3",format:["mp3"]},{name:"chips",file:"build/resources/assets/sounds/files/chips.mp3",format:["mp3"]},{name:"chips_allin",file:"build/resources/assets/sounds/files/chips_allin.mp3",format:["mp3"]},{name:"click_radio",file:"build/resources/assets/sounds/files/click_radio.mp3",format:["mp3"]},{name:"dealer_wins",file:"build/resources/assets/sounds/files/dealer_wins.mp3",format:["mp3"]},{name:"gameend_house_wins",file:"build/resources/assets/sounds/files/gameend_house_wins.mp3",format:["mp3"]},{name:"gameend_you_win",file:"build/resources/assets/sounds/files/gameend_you_win.mp3",format:["mp3"]},{name:"reshuffle",file:"build/resources/assets/sounds/files/reshuffle.mp3",format:["mp3"]},{name:"you_win",file:"build/resources/assets/sounds/files/you_win.mp3",format:["mp3"]}],sfx:[{name:"bg_music",file:"build/resources/assets/sounds/files/bg_music.mp3",loop:!0,type:"music",format:["mp3"]},{name:"game_start",file:"build/resources/assets/sounds/files/game_start.mp3",format:["mp3"]},{name:"click",file:"build/resources/assets/sounds/files/click.mp3",format:["mp3"]},{name:"rollover",file:"build/resources/assets/sounds/files/rollover.mp3",format:["mp3"]}]}},function(t,e){var n=function(){function t(t,e){var n=this;n.observable=t,n.actions=[],n.assetOriginUrl=e.assetOriginUrl,n.locale=e.locale,n.events=e.eventList,n.configUrl=e.configUrl,n.observable.subscribe(function(t){var e=n.actions.find(function(e){return e.type===t.type});"undefined"!=typeof e&&"function"==typeof e.action&&e.action()})}t.prototype.dispatch=function(t){this.observable.next(t)},t.prototype.addAction=function(t,e){this.actions.push({type:t,action:e})},t.prototype.removeAction=function(t,e){this.actions=this.actions.filter(function(e){return e.type!==t})};var e;return{init:function(n,i){return null==e&&(e=new t(n,i),e.constructor=null),e},getInstance:function(){return e}}}();t.exports=n}]);